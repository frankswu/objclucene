//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/index/BinaryDocValuesFieldUpdates.java
//

#include "J2ObjC_source.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "org/apache/lucene/index/BinaryDocValuesFieldUpdates.h"
#include "org/apache/lucene/index/DocValuesFieldUpdates.h"
#include "org/apache/lucene/index/DocValuesType.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefBuilder.h"
#include "org/apache/lucene/util/InPlaceMergeSorter.h"
#include "org/apache/lucene/util/packed/PackedInts.h"
#include "org/apache/lucene/util/packed/PagedGrowableWriter.h"
#include "org/apache/lucene/util/packed/PagedMutable.h"

@interface OrgApacheLuceneIndexBinaryDocValuesFieldUpdates () {
 @public
  OrgApacheLuceneUtilPackedPagedMutable *docs_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets_, *lengths_;
  OrgApacheLuceneUtilBytesRefBuilder *values_;
  jint size_;
  jint bitsPerValue_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, docs_, OrgApacheLuceneUtilPackedPagedMutable *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, offsets_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, lengths_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, values_, OrgApacheLuceneUtilBytesRefBuilder *)

@interface OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator () {
 @public
  OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets_;
  jint size_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *lengths_;
  OrgApacheLuceneUtilPackedPagedMutable *docs_;
  jlong idx_;
  jint doc_;
  OrgApacheLuceneUtilBytesRef *value_;
  jint offset_, length_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, offsets_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, lengths_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, docs_, OrgApacheLuceneUtilPackedPagedMutable *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, value_, OrgApacheLuceneUtilBytesRef *)

@interface OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 : OrgApacheLuceneUtilInPlaceMergeSorter {
 @public
  OrgApacheLuceneUtilPackedPagedMutable *val$docs_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *val$offsets_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *val$lengths_;
}

- (void)swapWithInt:(jint)i
            withInt:(jint)j;

- (jint)compareWithInt:(jint)i
               withInt:(jint)j;

- (instancetype)initWithOrgApacheLuceneUtilPackedPagedMutable:(OrgApacheLuceneUtilPackedPagedMutable *)capture$0
             withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)capture$1
             withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)capture$2;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1, val$docs_, OrgApacheLuceneUtilPackedPagedMutable *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1, val$offsets_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1, val$lengths_, OrgApacheLuceneUtilPackedPagedGrowableWriter *)

__attribute__((unused)) static void OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *self, OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2);

__attribute__((unused)) static OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *new_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1)

@implementation OrgApacheLuceneIndexBinaryDocValuesFieldUpdates

- (instancetype)initWithNSString:(NSString *)field
                         withInt:(jint)maxDoc {
  OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_initWithNSString_withInt_(self, field, maxDoc);
  return self;
}

- (void)addWithInt:(jint)doc
            withId:(id)value {
  if (size_ == JavaLangInteger_MAX_VALUE) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(@"cannot support more than Integer.MAX_VALUE doc/value entries");
  }
  OrgApacheLuceneUtilBytesRef *val = (OrgApacheLuceneUtilBytesRef *) cast_chk(value, [OrgApacheLuceneUtilBytesRef class]);
  if ([((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) size] == size_) {
    JreStrongAssign(&docs_, [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) growWithLong:size_ + 1]);
    JreStrongAssign(&offsets_, [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) growWithLong:size_ + 1]);
    JreStrongAssign(&lengths_, [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) growWithLong:size_ + 1]);
  }
  [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) setWithLong:size_ withLong:doc];
  [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) setWithLong:size_ withLong:[((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(values_)) length]];
  [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) setWithLong:size_ withLong:((OrgApacheLuceneUtilBytesRef *) nil_chk(val))->length_];
  [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(values_)) appendWithOrgApacheLuceneUtilBytesRef:val];
  ++size_;
}

- (OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator *)iterator {
  OrgApacheLuceneUtilPackedPagedMutable *docs = self->docs_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets = self->offsets_;
  OrgApacheLuceneUtilPackedPagedGrowableWriter *lengths = self->lengths_;
  OrgApacheLuceneUtilBytesRef *values = [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(self->values_)) get];
  [create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(docs, offsets, lengths) sortWithInt:0 withInt:size_];
  return create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator_initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_(size_, offsets, lengths, docs, values);
}

- (void)mergeWithOrgApacheLuceneIndexDocValuesFieldUpdates:(OrgApacheLuceneIndexDocValuesFieldUpdates *)other {
  OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *otherUpdates = (OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *) cast_chk(other, [OrgApacheLuceneIndexBinaryDocValuesFieldUpdates class]);
  jint newSize = size_ + ((OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *) nil_chk(otherUpdates))->size_;
  if (newSize > JavaLangInteger_MAX_VALUE) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$I$I", @"cannot support more than Integer.MAX_VALUE doc/value entries; size=", size_, @" other.size=", otherUpdates->size_));
  }
  JreStrongAssign(&docs_, [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) growWithLong:newSize]);
  JreStrongAssign(&offsets_, [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) growWithLong:newSize]);
  JreStrongAssign(&lengths_, [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) growWithLong:newSize]);
  for (jint i = 0; i < otherUpdates->size_; i++) {
    jint doc = (jint) [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(otherUpdates->docs_)) getWithInt:i];
    [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) setWithLong:size_ withLong:doc];
    [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) setWithLong:size_ withLong:[((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(values_)) length] + [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(otherUpdates->offsets_)) getWithInt:i]];
    [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) setWithLong:size_ withLong:[otherUpdates->lengths_ getWithInt:i]];
    ++size_;
  }
  [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(values_)) appendWithOrgApacheLuceneUtilBytesRefBuilder:otherUpdates->values_];
}

- (jboolean)any {
  return size_ > 0;
}

- (jlong)ramBytesPerDoc {
  jlong bytesPerDoc = JreFpToLong(JavaLangMath_ceilWithDouble_((jdouble) (bitsPerValue_) / 8));
  jint capacity = OrgApacheLuceneIndexDocValuesFieldUpdates_estimateCapacityWithInt_(size_);
  bytesPerDoc += JreFpToLong(JavaLangMath_ceilWithDouble_((jdouble) [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) ramBytesUsed] / capacity));
  bytesPerDoc += JreFpToLong(JavaLangMath_ceilWithDouble_((jdouble) [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) ramBytesUsed] / capacity));
  bytesPerDoc += JreFpToLong(JavaLangMath_ceilWithDouble_((jdouble) [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(values_)) length] / size_));
  return bytesPerDoc;
}

- (void)dealloc {
  RELEASE_(docs_);
  RELEASE_(offsets_);
  RELEASE_(lengths_);
  RELEASE_(values_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withInt:", "BinaryDocValuesFieldUpdates", NULL, 0x1, NULL, NULL },
    { "addWithInt:withId:", "add", "V", 0x1, NULL, NULL },
    { "iterator", NULL, "Lorg.apache.lucene.index.BinaryDocValuesFieldUpdates$Iterator;", 0x1, NULL, NULL },
    { "mergeWithOrgApacheLuceneIndexDocValuesFieldUpdates:", "merge", "V", 0x1, NULL, NULL },
    { "any", NULL, "Z", 0x1, NULL, NULL },
    { "ramBytesPerDoc", NULL, "J", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "docs_", NULL, 0x2, "Lorg.apache.lucene.util.packed.PagedMutable;", NULL, NULL, .constantValue.asLong = 0 },
    { "offsets_", NULL, 0x2, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "lengths_", NULL, 0x2, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "values_", NULL, 0x2, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "size_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "bitsPerValue_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.BinaryDocValuesFieldUpdates$Iterator;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexBinaryDocValuesFieldUpdates = { 2, "BinaryDocValuesFieldUpdates", "org.apache.lucene.index", NULL, 0x0, 6, methods, 6, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates;
}

@end

void OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_initWithNSString_withInt_(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *self, NSString *field, jint maxDoc) {
  OrgApacheLuceneIndexDocValuesFieldUpdates_initWithNSString_withOrgApacheLuceneIndexDocValuesType_(self, field, JreLoadEnum(OrgApacheLuceneIndexDocValuesType, BINARY));
  self->bitsPerValue_ = OrgApacheLuceneUtilPackedPackedInts_bitsRequiredWithLong_(maxDoc - 1);
  JreStrongAssignAndConsume(&self->docs_, new_OrgApacheLuceneUtilPackedPagedMutable_initWithLong_withInt_withInt_withFloat_(1, OrgApacheLuceneIndexDocValuesFieldUpdates_PAGE_SIZE, self->bitsPerValue_, OrgApacheLuceneUtilPackedPackedInts_COMPACT));
  JreStrongAssignAndConsume(&self->offsets_, new_OrgApacheLuceneUtilPackedPagedGrowableWriter_initWithLong_withInt_withInt_withFloat_(1, OrgApacheLuceneIndexDocValuesFieldUpdates_PAGE_SIZE, 1, OrgApacheLuceneUtilPackedPackedInts_FAST));
  JreStrongAssignAndConsume(&self->lengths_, new_OrgApacheLuceneUtilPackedPagedGrowableWriter_initWithLong_withInt_withInt_withFloat_(1, OrgApacheLuceneIndexDocValuesFieldUpdates_PAGE_SIZE, 1, OrgApacheLuceneUtilPackedPackedInts_FAST));
  JreStrongAssignAndConsume(&self->values_, new_OrgApacheLuceneUtilBytesRefBuilder_init());
  self->size_ = 0;
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *new_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_initWithNSString_withInt_(NSString *field, jint maxDoc) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, initWithNSString_withInt_, field, maxDoc)
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates *create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_initWithNSString_withInt_(NSString *field, jint maxDoc) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates, initWithNSString_withInt_, field, maxDoc)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates)

@implementation OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator

- (instancetype)initWithInt:(jint)size
withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)offsets
withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)lengths
withOrgApacheLuceneUtilPackedPagedMutable:(OrgApacheLuceneUtilPackedPagedMutable *)docs
withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)values {
  OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator_initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_(self, size, offsets, lengths, docs, values);
  return self;
}

- (OrgApacheLuceneUtilBytesRef *)value {
  ((OrgApacheLuceneUtilBytesRef *) nil_chk(value_))->offset_ = offset_;
  value_->length_ = length_;
  return value_;
}

- (jint)nextDoc {
  if (idx_ >= size_) {
    offset_ = -1;
    return doc_ = OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
  }
  doc_ = (jint) [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(docs_)) getWithLong:idx_];
  ++idx_;
  while (idx_ < size_ && [docs_ getWithLong:idx_] == doc_) {
    ++idx_;
  }
  jlong prevIdx = idx_ - 1;
  offset_ = (jint) [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(offsets_)) getWithLong:prevIdx];
  length_ = (jint) [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(lengths_)) getWithLong:prevIdx];
  return doc_;
}

- (jint)doc {
  return doc_;
}

- (void)reset {
  doc_ = -1;
  offset_ = -1;
  idx_ = 0;
}

- (void)dealloc {
  RELEASE_(offsets_);
  RELEASE_(lengths_);
  RELEASE_(docs_);
  RELEASE_(value_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:withOrgApacheLuceneUtilPackedPagedGrowableWriter:withOrgApacheLuceneUtilPackedPagedGrowableWriter:withOrgApacheLuceneUtilPackedPagedMutable:withOrgApacheLuceneUtilBytesRef:", "Iterator", NULL, 0x0, NULL, NULL },
    { "value", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x0, NULL, NULL },
    { "nextDoc", NULL, "I", 0x0, NULL, NULL },
    { "doc", NULL, "I", 0x0, NULL, NULL },
    { "reset", NULL, "V", 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "offsets_", NULL, 0x12, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "size_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "lengths_", NULL, 0x12, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "docs_", NULL, 0x12, "Lorg.apache.lucene.util.packed.PagedMutable;", NULL, NULL, .constantValue.asLong = 0 },
    { "idx_", NULL, 0x2, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "doc_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "value_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "offset_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "length_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator = { 2, "Iterator", "org.apache.lucene.index", "BinaryDocValuesFieldUpdates", 0x18, 5, methods, 9, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator;
}

@end

void OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator_initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator *self, jint size, OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets, OrgApacheLuceneUtilPackedPagedGrowableWriter *lengths, OrgApacheLuceneUtilPackedPagedMutable *docs, OrgApacheLuceneUtilBytesRef *values) {
  OrgApacheLuceneIndexDocValuesFieldUpdates_Iterator_init(self);
  self->idx_ = 0;
  self->doc_ = -1;
  JreStrongAssign(&self->offsets_, offsets);
  self->size_ = size;
  JreStrongAssign(&self->lengths_, lengths);
  JreStrongAssign(&self->docs_, docs);
  JreStrongAssign(&self->value_, [((OrgApacheLuceneUtilBytesRef *) nil_chk(values)) clone]);
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator *new_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator_initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_(jint size, OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets, OrgApacheLuceneUtilPackedPagedGrowableWriter *lengths, OrgApacheLuceneUtilPackedPagedMutable *docs, OrgApacheLuceneUtilBytesRef *values) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_, size, offsets, lengths, docs, values)
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator *create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator_initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_(jint size, OrgApacheLuceneUtilPackedPagedGrowableWriter *offsets, OrgApacheLuceneUtilPackedPagedGrowableWriter *lengths, OrgApacheLuceneUtilPackedPagedMutable *docs, OrgApacheLuceneUtilBytesRef *values) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator, initWithInt_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilBytesRef_, size, offsets, lengths, docs, values)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_Iterator)

@implementation OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1

- (void)swapWithInt:(jint)i
            withInt:(jint)j {
  jlong tmpDoc = [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(val$docs_)) getWithInt:j];
  [val$docs_ setWithLong:j withLong:[val$docs_ getWithInt:i]];
  [val$docs_ setWithLong:i withLong:tmpDoc];
  jlong tmpOffset = [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(val$offsets_)) getWithInt:j];
  [val$offsets_ setWithLong:j withLong:[val$offsets_ getWithInt:i]];
  [val$offsets_ setWithLong:i withLong:tmpOffset];
  jlong tmpLength = [((OrgApacheLuceneUtilPackedPagedGrowableWriter *) nil_chk(val$lengths_)) getWithInt:j];
  [val$lengths_ setWithLong:j withLong:[val$lengths_ getWithInt:i]];
  [val$lengths_ setWithLong:i withLong:tmpLength];
}

- (jint)compareWithInt:(jint)i
               withInt:(jint)j {
  jint x = (jint) [((OrgApacheLuceneUtilPackedPagedMutable *) nil_chk(val$docs_)) getWithInt:i];
  jint y = (jint) [val$docs_ getWithInt:j];
  return (x < y) ? -1 : ((x == y) ? 0 : 1);
}

- (instancetype)initWithOrgApacheLuceneUtilPackedPagedMutable:(OrgApacheLuceneUtilPackedPagedMutable *)capture$0
             withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)capture$1
             withOrgApacheLuceneUtilPackedPagedGrowableWriter:(OrgApacheLuceneUtilPackedPagedGrowableWriter *)capture$2 {
  OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(self, capture$0, capture$1, capture$2);
  return self;
}

- (void)dealloc {
  RELEASE_(val$docs_);
  RELEASE_(val$offsets_);
  RELEASE_(val$lengths_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "swapWithInt:withInt:", "swap", "V", 0x4, NULL, NULL },
    { "compareWithInt:withInt:", "compare", "I", 0x4, NULL, NULL },
    { "initWithOrgApacheLuceneUtilPackedPagedMutable:withOrgApacheLuceneUtilPackedPagedGrowableWriter:withOrgApacheLuceneUtilPackedPagedGrowableWriter:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$docs_", NULL, 0x1012, "Lorg.apache.lucene.util.packed.PagedMutable;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$offsets_", NULL, 0x1012, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$lengths_", NULL, 0x1012, "Lorg.apache.lucene.util.packed.PagedGrowableWriter;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneIndexBinaryDocValuesFieldUpdates", "iterator" };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 = { 2, "", "org.apache.lucene.index", "BinaryDocValuesFieldUpdates", 0x8008, 3, methods, 3, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1;
}

@end

void OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *self, OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2) {
  JreStrongAssign(&self->val$docs_, capture$0);
  JreStrongAssign(&self->val$offsets_, capture$1);
  JreStrongAssign(&self->val$lengths_, capture$2);
  OrgApacheLuceneUtilInPlaceMergeSorter_init(self);
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *new_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1, initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_, capture$0, capture$1, capture$2)
}

OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1 *create_OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1_initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_(OrgApacheLuceneUtilPackedPagedMutable *capture$0, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$1, OrgApacheLuceneUtilPackedPagedGrowableWriter *capture$2) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1, initWithOrgApacheLuceneUtilPackedPagedMutable_withOrgApacheLuceneUtilPackedPagedGrowableWriter_withOrgApacheLuceneUtilPackedPagedGrowableWriter_, capture$0, capture$1, capture$2)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexBinaryDocValuesFieldUpdates_$1)
