//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./memory/src/java/org/apache/lucene/index/memory/MemoryIndex.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IndexOutOfBoundsException.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/Throwable.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/Comparator.h"
#include "java/util/Iterator.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/SortedMap.h"
#include "java/util/TreeMap.h"
#include "org/apache/lucene/analysis/TokenStream.h"
#include "org/apache/lucene/analysis/tokenattributes/OffsetAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PayloadAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PositionIncrementAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/TermToBytesRefAttribute.h"
#include "org/apache/lucene/index/BinaryDocValues.h"
#include "org/apache/lucene/index/DocValuesType.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInfos.h"
#include "org/apache/lucene/index/FieldInvertState.h"
#include "org/apache/lucene/index/Fields.h"
#include "org/apache/lucene/index/IndexOptions.h"
#include "org/apache/lucene/index/LeafReader.h"
#include "org/apache/lucene/index/NumericDocValues.h"
#include "org/apache/lucene/index/OrdTermState.h"
#include "org/apache/lucene/index/PostingsEnum.h"
#include "org/apache/lucene/index/SortedDocValues.h"
#include "org/apache/lucene/index/SortedNumericDocValues.h"
#include "org/apache/lucene/index/SortedSetDocValues.h"
#include "org/apache/lucene/index/StoredFieldVisitor.h"
#include "org/apache/lucene/index/TermState.h"
#include "org/apache/lucene/index/Terms.h"
#include "org/apache/lucene/index/TermsEnum.h"
#include "org/apache/lucene/index/memory/MemoryIndex.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/IndexSearcher.h"
#include "org/apache/lucene/search/similarities/Similarity.h"
#include "org/apache/lucene/util/ArrayUtil.h"
#include "org/apache/lucene/util/Bits.h"
#include "org/apache/lucene/util/ByteBlockPool.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefArray.h"
#include "org/apache/lucene/util/BytesRefBuilder.h"
#include "org/apache/lucene/util/BytesRefHash.h"
#include "org/apache/lucene/util/Counter.h"
#include "org/apache/lucene/util/IntBlockPool.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"
#include "org/apache/lucene/util/RecyclingByteBlockAllocator.h"
#include "org/apache/lucene/util/RecyclingIntBlockAllocator.h"

@class OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray;

#pragma clang diagnostic ignored "-Wprotocol"

#define OrgApacheLuceneIndexMemoryMemoryIndex_DEBUG NO

@interface OrgApacheLuceneIndexMemoryMemoryIndex () {
 @public
  id<JavaUtilSortedMap> fields_;
  jboolean storeOffsets_;
  jboolean storePayloads_;
  OrgApacheLuceneUtilByteBlockPool *byteBlockPool_;
  OrgApacheLuceneUtilIntBlockPool *intBlockPool_;
  OrgApacheLuceneUtilIntBlockPool_SliceWriter *postingsWriter_;
  OrgApacheLuceneUtilBytesRefArray *payloadsBytesRefs_;
  OrgApacheLuceneUtilCounter *bytesUsed_;
  jboolean frozen_;
  OrgApacheLuceneSearchSimilaritiesSimilarity *normSimilarity_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, fields_, id<JavaUtilSortedMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, byteBlockPool_, OrgApacheLuceneUtilByteBlockPool *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, intBlockPool_, OrgApacheLuceneUtilIntBlockPool *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, postingsWriter_, OrgApacheLuceneUtilIntBlockPool_SliceWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, payloadsBytesRefs_, OrgApacheLuceneUtilBytesRefArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, bytesUsed_, OrgApacheLuceneUtilCounter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex, normSimilarity_, OrgApacheLuceneSearchSimilaritiesSimilarity *)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheLuceneIndexMemoryMemoryIndex, DEBUG, jboolean)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_Info : NSObject {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex *this$0_;
  OrgApacheLuceneIndexFieldInfo *fieldInfo_;
  OrgApacheLuceneIndexNumericDocValues *norms_;
  OrgApacheLuceneUtilBytesRefHash *terms_;
  OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray_;
  IOSIntArray *sortedTerms_;
  jint numTokens_;
  jint numOverlapTokens_;
  jfloat boost_;
  jlong sumTotalTermFreq_;
  jint lastPosition_;
  jint lastOffset_;
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex:(OrgApacheLuceneIndexMemoryMemoryIndex *)outer$
                            withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                          withOrgApacheLuceneUtilBytesRefHash:(OrgApacheLuceneUtilBytesRefHash *)terms
withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray:(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *)sliceArray
                                                      withInt:(jint)numTokens
                                                      withInt:(jint)numOverlapTokens
                                                    withFloat:(jfloat)boost
                                                      withInt:(jint)lastPosition
                                                      withInt:(jint)lastOffset
                                                     withLong:(jlong)sumTotalTermFreq;

- (void)sortTerms;

- (OrgApacheLuceneIndexNumericDocValues *)getNormDocValues;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_Info)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, fieldInfo_, OrgApacheLuceneIndexFieldInfo *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, norms_, OrgApacheLuceneIndexNumericDocValues *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, terms_, OrgApacheLuceneUtilBytesRefHash *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, sliceArray_, OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_Info, sortedTerms_, IOSIntArray *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(OrgApacheLuceneIndexMemoryMemoryIndex_Info *self, OrgApacheLuceneIndexMemoryMemoryIndex *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneUtilBytesRefHash *terms, OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray, jint numTokens, jint numOverlapTokens, jfloat boost, jint lastPosition, jint lastOffset, jlong sumTotalTermFreq);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_Info *new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(OrgApacheLuceneIndexMemoryMemoryIndex *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneUtilBytesRefHash *terms, OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray, jint numTokens, jint numOverlapTokens, jfloat boost, jint lastPosition, jint lastOffset, jlong sumTotalTermFreq) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_Info)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 : OrgApacheLuceneIndexNumericDocValues {
 @public
  jlong val$value_;
}

- (jlong)getWithInt:(jint)docID;

- (instancetype)initWithLong:(jlong)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 *self, jlong capture$0);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 *new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(jlong capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader : OrgApacheLuceneIndexLeafReader {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex *this$0_;
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex:(OrgApacheLuceneIndexMemoryMemoryIndex *)outer$;

- (id<OrgApacheLuceneUtilBits>)getLiveDocs;

- (OrgApacheLuceneIndexFieldInfos *)getFieldInfos;

- (OrgApacheLuceneIndexNumericDocValues *)getNumericDocValuesWithNSString:(NSString *)field;

- (OrgApacheLuceneIndexBinaryDocValues *)getBinaryDocValuesWithNSString:(NSString *)field;

- (OrgApacheLuceneIndexSortedDocValues *)getSortedDocValuesWithNSString:(NSString *)field;

- (OrgApacheLuceneIndexSortedNumericDocValues *)getSortedNumericDocValuesWithNSString:(NSString *)field;

- (OrgApacheLuceneIndexSortedSetDocValues *)getSortedSetDocValuesWithNSString:(NSString *)field;

- (id<OrgApacheLuceneUtilBits>)getDocsWithFieldWithNSString:(NSString *)field;

- (void)checkIntegrity;

- (OrgApacheLuceneIndexFields *)fields;

- (OrgApacheLuceneIndexFields *)getTermVectorsWithInt:(jint)docID;

- (jint)numDocs;

- (jint)maxDoc;

- (void)documentWithInt:(jint)docID
withOrgApacheLuceneIndexStoredFieldVisitor:(OrgApacheLuceneIndexStoredFieldVisitor *)visitor;

- (void)doClose;

- (OrgApacheLuceneIndexNumericDocValues *)getNormValuesWithNSString:(NSString *)field;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *self, OrgApacheLuceneIndexMemoryMemoryIndex *outer$);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(OrgApacheLuceneIndexMemoryMemoryIndex *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields : OrgApacheLuceneIndexFields {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *this$0_;
}

- (id<JavaUtilIterator>)iterator;

- (OrgApacheLuceneIndexTerms *)termsWithNSString:(NSString *)field;

- (jint)size;

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$;


@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 : OrgApacheLuceneIndexTerms {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *this$0_;
  OrgApacheLuceneIndexMemoryMemoryIndex_Info *val$info_;
}

- (OrgApacheLuceneIndexTermsEnum *)iterator;

- (jlong)size;

- (jlong)getSumTotalTermFreq;

- (jlong)getSumDocFreq;

- (jint)getDocCount;

- (jboolean)hasFreqs;

- (jboolean)hasOffsets;

- (jboolean)hasPositions;

- (jboolean)hasPayloads;

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *)outer$
                                              withOrgApacheLuceneIndexMemoryMemoryIndex_Info:(OrgApacheLuceneIndexMemoryMemoryIndex_Info *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1, val$info_, OrgApacheLuceneIndexMemoryMemoryIndex_Info *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *capture$0);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum : OrgApacheLuceneIndexTermsEnum {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *this$0_;
  OrgApacheLuceneIndexMemoryMemoryIndex_Info *info_;
  OrgApacheLuceneUtilBytesRef *br_;
  jint termUpto_;
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$
                                 withOrgApacheLuceneIndexMemoryMemoryIndex_Info:(OrgApacheLuceneIndexMemoryMemoryIndex_Info *)info;

- (jint)binarySearchWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)b
                    withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)bytesRef
                                            withInt:(jint)low
                                            withInt:(jint)high
                withOrgApacheLuceneUtilBytesRefHash:(OrgApacheLuceneUtilBytesRefHash *)hash_
                                       withIntArray:(IOSIntArray *)ords
                             withJavaUtilComparator:(id<JavaUtilComparator>)comparator;

- (jboolean)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)text;

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)text;

- (void)seekExactWithLong:(jlong)ord;

- (OrgApacheLuceneUtilBytesRef *)next;

- (OrgApacheLuceneUtilBytesRef *)term;

- (jlong)ord;

- (jint)docFreq;

- (jlong)totalTermFreq;

- (OrgApacheLuceneIndexPostingsEnum *)postingsWithOrgApacheLuceneIndexPostingsEnum:(OrgApacheLuceneIndexPostingsEnum *)reuse
                                                                           withInt:(jint)flags;

- (void)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)term
               withOrgApacheLuceneIndexTermState:(OrgApacheLuceneIndexTermState *)state;

- (OrgApacheLuceneIndexTermState *)termState;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum, info_, OrgApacheLuceneIndexMemoryMemoryIndex_Info *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum, br_, OrgApacheLuceneUtilBytesRef *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *info);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *info) NS_RETURNS_RETAINED;

__attribute__((unused)) static jint OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_binarySearchWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_withInt_withOrgApacheLuceneUtilBytesRefHash_withIntArray_withJavaUtilComparator_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *self, OrgApacheLuceneUtilBytesRef *b, OrgApacheLuceneUtilBytesRef *bytesRef, jint low, jint high, OrgApacheLuceneUtilBytesRefHash *hash_, IOSIntArray *ords, id<JavaUtilComparator> comparator);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum : OrgApacheLuceneIndexPostingsEnum {
 @public
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *this$0_;
  OrgApacheLuceneUtilIntBlockPool_SliceReader *sliceReader_;
  jint posUpto_;
  jboolean hasNext_;
  jint doc_;
  jint freq_;
  jint pos_;
  jint startOffset_;
  jint endOffset_;
  jint payloadIndex_;
  OrgApacheLuceneUtilBytesRefBuilder *payloadBuilder_;
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$;

- (OrgApacheLuceneIndexPostingsEnum *)resetWithInt:(jint)start
                                           withInt:(jint)end
                                           withInt:(jint)freq;

- (jint)docID;

- (jint)nextDoc;

- (jint)advanceWithInt:(jint)target;

- (jint)freq;

- (jint)nextPosition;

- (jint)startOffset;

- (jint)endOffset;

- (OrgApacheLuceneUtilBytesRef *)getPayload;

- (jlong)cost;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum, this$0_, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum, sliceReader_, OrgApacheLuceneUtilIntBlockPool_SliceReader *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum, payloadBuilder_, OrgApacheLuceneUtilBytesRefBuilder *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum)

@interface OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray : OrgApacheLuceneUtilBytesRefHash_DirectBytesStartArray {
 @public
  IOSIntArray *start_;
  IOSIntArray *end_;
  IOSIntArray *freq_;
}

- (instancetype)initWithInt:(jint)initSize;

- (IOSIntArray *)init__ OBJC_METHOD_FAMILY_NONE;

- (IOSIntArray *)grow;

- (IOSIntArray *)clear;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray, start_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray, end_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray, freq_, IOSIntArray *)

__attribute__((unused)) static void OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *self, jint initSize);

__attribute__((unused)) static OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *new_OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(jint initSize) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex

- (instancetype)init {
  OrgApacheLuceneIndexMemoryMemoryIndex_init(self);
  return self;
}

- (instancetype)initWithBoolean:(jboolean)storeOffsets {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_(self, storeOffsets);
  return self;
}

- (instancetype)initWithBoolean:(jboolean)storeOffsets
                    withBoolean:(jboolean)storePayloads {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_(self, storeOffsets, storePayloads);
  return self;
}

- (instancetype)initWithBoolean:(jboolean)storeOffsets
                    withBoolean:(jboolean)storePayloads
                       withLong:(jlong)maxReusedBytes {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_withLong_(self, storeOffsets, storePayloads, maxReusedBytes);
  return self;
}

- (void)addFieldWithNSString:(NSString *)fieldName
withOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)stream {
  [self addFieldWithNSString:fieldName withOrgApacheLuceneAnalysisTokenStream:stream withFloat:1.0f];
}

- (void)addFieldWithNSString:(NSString *)fieldName
withOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)stream
                   withFloat:(jfloat)boost {
  [self addFieldWithNSString:fieldName withOrgApacheLuceneAnalysisTokenStream:stream withFloat:boost withInt:0];
}

- (void)addFieldWithNSString:(NSString *)fieldName
withOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)stream
                   withFloat:(jfloat)boost
                     withInt:(jint)positionIncrementGap {
  [self addFieldWithNSString:fieldName withOrgApacheLuceneAnalysisTokenStream:stream withFloat:boost withInt:positionIncrementGap withInt:1];
}

- (void)addFieldWithNSString:(NSString *)fieldName
withOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)tokenStream
                   withFloat:(jfloat)boost
                     withInt:(jint)positionIncrementGap
                     withInt:(jint)offsetGap {
  {
    JavaLangThrowable *__mainException = nil;
    OrgApacheLuceneAnalysisTokenStream *stream = tokenStream;
    @try {
      if (frozen_) @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"Cannot call addField() when MemoryIndex is frozen") autorelease];
      if (fieldName == nil) @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"fieldName must not be null") autorelease];
      if (stream == nil) @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"token stream must not be null") autorelease];
      if (boost <= 0.0f) @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"boost factor must be greater than 0.0") autorelease];
      jint numTokens = 0;
      jint numOverlapTokens = 0;
      jint pos = -1;
      OrgApacheLuceneUtilBytesRefHash *terms;
      OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray;
      OrgApacheLuceneIndexMemoryMemoryIndex_Info *info;
      jlong sumTotalTermFreq = 0;
      jint offset = 0;
      OrgApacheLuceneIndexFieldInfo *fieldInfo;
      if ((info = [((id<JavaUtilSortedMap>) nil_chk(fields_)) getWithId:fieldName]) != nil) {
        fieldInfo = ((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info))->fieldInfo_;
        numTokens = info->numTokens_;
        numOverlapTokens = info->numOverlapTokens_;
        pos = info->lastPosition_ + positionIncrementGap;
        offset = info->lastOffset_ + offsetGap;
        terms = info->terms_;
        JreTimesAssignFloatF(&boost, info->boost_);
        sliceArray = info->sliceArray_;
        sumTotalTermFreq = info->sumTotalTermFreq_;
      }
      else {
        fieldInfo = [new_OrgApacheLuceneIndexFieldInfo_initWithNSString_withInt_withBoolean_withBoolean_withBoolean_withOrgApacheLuceneIndexIndexOptionsEnum_withOrgApacheLuceneIndexDocValuesTypeEnum_withLong_withJavaUtilMap_(fieldName, [fields_ size], YES, NO, self->storePayloads_, self->storeOffsets_ ? JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS) : JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS_AND_POSITIONS), JreLoadStatic(OrgApacheLuceneIndexDocValuesTypeEnum, NONE), -1, JavaUtilCollections_emptyMap()) autorelease];
        sliceArray = [new_OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(OrgApacheLuceneUtilBytesRefHash_DEFAULT_CAPACITY) autorelease];
        terms = [new_OrgApacheLuceneUtilBytesRefHash_initWithOrgApacheLuceneUtilByteBlockPool_withInt_withOrgApacheLuceneUtilBytesRefHash_BytesStartArray_(byteBlockPool_, OrgApacheLuceneUtilBytesRefHash_DEFAULT_CAPACITY, sliceArray) autorelease];
      }
      id<OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute> termAtt = [((OrgApacheLuceneAnalysisTokenStream *) nil_chk(stream)) getAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute> posIncrAttribute = [stream addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute> offsetAtt = [stream addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesOffsetAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesPayloadAttribute> payloadAtt = storePayloads_ ? [stream addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPayloadAttribute_class_()] : nil;
      [stream reset];
      while ([stream incrementToken]) {
        numTokens++;
        jint posIncr = [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncrAttribute)) getPositionIncrement];
        if (posIncr == 0) numOverlapTokens++;
        pos += posIncr;
        jint ord = [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(terms)) addWithOrgApacheLuceneUtilBytesRef:[((id<OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute>) nil_chk(termAtt)) getBytesRef]];
        if (ord < 0) {
          ord = (-ord) - 1;
          [((OrgApacheLuceneUtilIntBlockPool_SliceWriter *) nil_chk(postingsWriter_)) resetWithInt:IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(sliceArray))->end_), ord)];
        }
        else {
          *IOSIntArray_GetRef(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(sliceArray))->start_), ord) = [((OrgApacheLuceneUtilIntBlockPool_SliceWriter *) nil_chk(postingsWriter_)) startNewSlice];
        }
        (*IOSIntArray_GetRef(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(sliceArray))->freq_), ord))++;
        sumTotalTermFreq++;
        [((OrgApacheLuceneUtilIntBlockPool_SliceWriter *) nil_chk(postingsWriter_)) writeIntWithInt:pos];
        if (storeOffsets_) {
          [postingsWriter_ writeIntWithInt:[((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAtt)) startOffset] + offset];
          [postingsWriter_ writeIntWithInt:[offsetAtt endOffset] + offset];
        }
        if (storePayloads_) {
          OrgApacheLuceneUtilBytesRef *payload = [payloadAtt getPayload];
          jint pIndex;
          if (payload == nil || payload->length_ == 0) {
            pIndex = -1;
          }
          else {
            pIndex = [((OrgApacheLuceneUtilBytesRefArray *) nil_chk(payloadsBytesRefs_)) appendWithOrgApacheLuceneUtilBytesRef:payload];
          }
          [postingsWriter_ writeIntWithInt:pIndex];
        }
        *IOSIntArray_GetRef(nil_chk(sliceArray->end_), ord) = [postingsWriter_ getCurrentOffset];
      }
      [stream end];
      if (numTokens > 0) {
        [fields_ putWithId:fieldName withId:[new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(self, fieldInfo, terms, sliceArray, numTokens, numOverlapTokens, boost, pos, [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAtt)) endOffset] + offset, sumTotalTermFreq) autorelease]];
      }
    }
    @catch (JavaIoIOException *e) {
      __mainException = e;
      @throw [new_JavaLangRuntimeException_initWithJavaLangThrowable_(e) autorelease];
    }
    @finally {
      @try {
        [stream close];
      }
      @catch (JavaLangThrowable *e) {
        if (__mainException) {
          [__mainException addSuppressedWithJavaLangThrowable:e];
        } else {
          __mainException = e;
        }
      }
      if (__mainException) {
        @throw __mainException;
      }
    }
  }
}

- (OrgApacheLuceneSearchIndexSearcher *)createSearcher {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *reader = [new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(self) autorelease];
  OrgApacheLuceneSearchIndexSearcher *searcher = [new_OrgApacheLuceneSearchIndexSearcher_initWithOrgApacheLuceneIndexIndexReader_(reader) autorelease];
  [searcher setSimilarityWithOrgApacheLuceneSearchSimilaritiesSimilarity:normSimilarity_];
  return searcher;
}

- (NSString *)description {
  JavaLangStringBuilder *result = [new_JavaLangStringBuilder_initWithInt_(256) autorelease];
  jint sumPositions = 0;
  jint sumTerms = 0;
  OrgApacheLuceneUtilBytesRef *spare = [new_OrgApacheLuceneUtilBytesRef_init() autorelease];
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([((id<JavaUtilSortedMap>) nil_chk(fields_)) entrySet])) {
    NSString *fieldName = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
    OrgApacheLuceneIndexMemoryMemoryIndex_Info *info = [entry_ getValue];
    [((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info)) sortTerms];
    [result appendWithNSString:JreStrcat("$$", fieldName, @":\n")];
    OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray = info->sliceArray_;
    jint numPositions = 0;
    OrgApacheLuceneUtilIntBlockPool_SliceReader *postingsReader = [new_OrgApacheLuceneUtilIntBlockPool_SliceReader_initWithOrgApacheLuceneUtilIntBlockPool_(intBlockPool_) autorelease];
    for (jint j = 0; j < [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(info->terms_)) size]; j++) {
      jint ord = IOSIntArray_Get(nil_chk(info->sortedTerms_), j);
      [info->terms_ getWithInt:ord withOrgApacheLuceneUtilBytesRef:spare];
      jint freq = IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(sliceArray))->freq_), ord);
      [result appendWithNSString:JreStrcat("$@$IC", @"\t'", spare, @"':", freq, ':')];
      [postingsReader resetWithInt:IOSIntArray_Get(nil_chk(sliceArray->start_), ord) withInt:IOSIntArray_Get(nil_chk(sliceArray->end_), ord)];
      [result appendWithNSString:@" ["];
      jint iters = storeOffsets_ ? 3 : 1;
      while (![postingsReader endOfSlice]) {
        [result appendWithNSString:@"("];
        for (jint k = 0; k < iters; k++) {
          [result appendWithInt:[postingsReader readInt]];
          if (k < iters - 1) {
            [result appendWithNSString:@", "];
          }
        }
        [result appendWithNSString:@")"];
        if (![postingsReader endOfSlice]) {
          [result appendWithNSString:@","];
        }
      }
      [result appendWithNSString:@"]"];
      [result appendWithNSString:@"\n"];
      numPositions += freq;
    }
    [result appendWithNSString:JreStrcat("$I", @"\tterms=", [info->terms_ size])];
    [result appendWithNSString:JreStrcat("$I", @", positions=", numPositions)];
    [result appendWithNSString:@"\n"];
    sumPositions += numPositions;
    sumTerms += [info->terms_ size];
  }
  [result appendWithNSString:JreStrcat("$I", @"\nfields=", [fields_ size])];
  [result appendWithNSString:JreStrcat("$I", @", terms=", sumTerms)];
  [result appendWithNSString:JreStrcat("$I", @", positions=", sumPositions)];
  return [result description];
}

- (void)dealloc {
  RELEASE_(fields_);
  RELEASE_(byteBlockPool_);
  RELEASE_(intBlockPool_);
  RELEASE_(postingsWriter_);
  RELEASE_(payloadsBytesRefs_);
  RELEASE_(bytesUsed_);
  RELEASE_(normSimilarity_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "MemoryIndex", NULL, 0x1, NULL, NULL },
    { "initWithBoolean:", "MemoryIndex", NULL, 0x1, NULL, NULL },
    { "initWithBoolean:withBoolean:", "MemoryIndex", NULL, 0x1, NULL, NULL },
    { "initWithBoolean:withBoolean:withLong:", "MemoryIndex", NULL, 0x0, NULL, NULL },
    { "addFieldWithNSString:withOrgApacheLuceneAnalysisTokenStream:", "addField", "V", 0x1, NULL, NULL },
    { "addFieldWithNSString:withOrgApacheLuceneAnalysisTokenStream:withFloat:", "addField", "V", 0x1, NULL, NULL },
    { "addFieldWithNSString:withOrgApacheLuceneAnalysisTokenStream:withFloat:withInt:", "addField", "V", 0x1, NULL, NULL },
    { "addFieldWithNSString:withOrgApacheLuceneAnalysisTokenStream:withFloat:withInt:withInt:", "addField", "V", 0x1, NULL, NULL },
    { "createSearcher", NULL, "Lorg.apache.lucene.search.IndexSearcher;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "DEBUG", "DEBUG", 0x1a, "Z", NULL, NULL, .constantValue.asBOOL = OrgApacheLuceneIndexMemoryMemoryIndex_DEBUG },
    { "fields_", NULL, 0x12, "Ljava.util.SortedMap;", NULL, "Ljava/util/SortedMap<Ljava/lang/String;Lorg/apache/lucene/index/memory/MemoryIndex$Info;>;", .constantValue.asLong = 0 },
    { "storeOffsets_", NULL, 0x12, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "storePayloads_", NULL, 0x12, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "byteBlockPool_", NULL, 0x12, "Lorg.apache.lucene.util.ByteBlockPool;", NULL, NULL, .constantValue.asLong = 0 },
    { "intBlockPool_", NULL, 0x12, "Lorg.apache.lucene.util.IntBlockPool;", NULL, NULL, .constantValue.asLong = 0 },
    { "postingsWriter_", NULL, 0x12, "Lorg.apache.lucene.util.IntBlockPool$SliceWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "payloadsBytesRefs_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRefArray;", NULL, NULL, .constantValue.asLong = 0 },
    { "bytesUsed_", NULL, 0x2, "Lorg.apache.lucene.util.Counter;", NULL, NULL, .constantValue.asLong = 0 },
    { "frozen_", NULL, 0x2, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "normSimilarity_", NULL, 0x2, "Lorg.apache.lucene.search.similarities.Similarity;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.memory.MemoryIndex$Info;", "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader;", "Lorg.apache.lucene.index.memory.MemoryIndex$SliceByteStartArray;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex = { 2, "MemoryIndex", "org.apache.lucene.index.memory", NULL, 0x1, 10, methods, 11, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_init(OrgApacheLuceneIndexMemoryMemoryIndex *self) {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_(self, NO);
}

OrgApacheLuceneIndexMemoryMemoryIndex *new_OrgApacheLuceneIndexMemoryMemoryIndex_init() {
  OrgApacheLuceneIndexMemoryMemoryIndex *self = [OrgApacheLuceneIndexMemoryMemoryIndex alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_init(self);
  return self;
}

void OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_(OrgApacheLuceneIndexMemoryMemoryIndex *self, jboolean storeOffsets) {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_(self, storeOffsets, NO);
}

OrgApacheLuceneIndexMemoryMemoryIndex *new_OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_(jboolean storeOffsets) {
  OrgApacheLuceneIndexMemoryMemoryIndex *self = [OrgApacheLuceneIndexMemoryMemoryIndex alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_(self, storeOffsets);
  return self;
}

void OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_(OrgApacheLuceneIndexMemoryMemoryIndex *self, jboolean storeOffsets, jboolean storePayloads) {
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_withLong_(self, storeOffsets, storePayloads, 0);
}

OrgApacheLuceneIndexMemoryMemoryIndex *new_OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_(jboolean storeOffsets, jboolean storePayloads) {
  OrgApacheLuceneIndexMemoryMemoryIndex *self = [OrgApacheLuceneIndexMemoryMemoryIndex alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_(self, storeOffsets, storePayloads);
  return self;
}

void OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_withLong_(OrgApacheLuceneIndexMemoryMemoryIndex *self, jboolean storeOffsets, jboolean storePayloads, jlong maxReusedBytes) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->fields_, new_JavaUtilTreeMap_init());
  self->frozen_ = NO;
  JreStrongAssign(&self->normSimilarity_, OrgApacheLuceneSearchIndexSearcher_getDefaultSimilarity());
  self->storeOffsets_ = storeOffsets;
  self->storePayloads_ = storePayloads;
  JreStrongAssign(&self->bytesUsed_, OrgApacheLuceneUtilCounter_newCounter());
  jint maxBufferedByteBlocks = (jint) ((maxReusedBytes / 2) / OrgApacheLuceneUtilByteBlockPool_BYTE_BLOCK_SIZE);
  jint maxBufferedIntBlocks = (jint) ((maxReusedBytes - (maxBufferedByteBlocks * OrgApacheLuceneUtilByteBlockPool_BYTE_BLOCK_SIZE)) / (OrgApacheLuceneUtilIntBlockPool_INT_BLOCK_SIZE * OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT));
  JreAssert(((maxBufferedByteBlocks * OrgApacheLuceneUtilByteBlockPool_BYTE_BLOCK_SIZE) + (maxBufferedIntBlocks * OrgApacheLuceneUtilIntBlockPool_INT_BLOCK_SIZE * OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT) <= maxReusedBytes), (@"org/apache/lucene/index/memory/MemoryIndex.java:257 condition failed: assert (maxBufferedByteBlocks * ByteBlockPool.BYTE_BLOCK_SIZE) + (maxBufferedIntBlocks * IntBlockPool.INT_BLOCK_SIZE * RamUsageEstimator.NUM_BYTES_INT) <= maxReusedBytes;"));
  JreStrongAssignAndConsume(&self->byteBlockPool_, new_OrgApacheLuceneUtilByteBlockPool_initWithOrgApacheLuceneUtilByteBlockPool_Allocator_([new_OrgApacheLuceneUtilRecyclingByteBlockAllocator_initWithInt_withInt_withOrgApacheLuceneUtilCounter_(OrgApacheLuceneUtilByteBlockPool_BYTE_BLOCK_SIZE, maxBufferedByteBlocks, self->bytesUsed_) autorelease]));
  JreStrongAssignAndConsume(&self->intBlockPool_, new_OrgApacheLuceneUtilIntBlockPool_initWithOrgApacheLuceneUtilIntBlockPool_Allocator_([new_OrgApacheLuceneUtilRecyclingIntBlockAllocator_initWithInt_withInt_withOrgApacheLuceneUtilCounter_(OrgApacheLuceneUtilIntBlockPool_INT_BLOCK_SIZE, maxBufferedIntBlocks, self->bytesUsed_) autorelease]));
  JreStrongAssignAndConsume(&self->postingsWriter_, new_OrgApacheLuceneUtilIntBlockPool_SliceWriter_initWithOrgApacheLuceneUtilIntBlockPool_(self->intBlockPool_));
  JreStrongAssign(&self->payloadsBytesRefs_, storePayloads ? [new_OrgApacheLuceneUtilBytesRefArray_initWithOrgApacheLuceneUtilCounter_(self->bytesUsed_) autorelease] : nil);
}

OrgApacheLuceneIndexMemoryMemoryIndex *new_OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_withLong_(jboolean storeOffsets, jboolean storePayloads, jlong maxReusedBytes) {
  OrgApacheLuceneIndexMemoryMemoryIndex *self = [OrgApacheLuceneIndexMemoryMemoryIndex alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_initWithBoolean_withBoolean_withLong_(self, storeOffsets, storePayloads, maxReusedBytes);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_Info

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex:(OrgApacheLuceneIndexMemoryMemoryIndex *)outer$
                            withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                          withOrgApacheLuceneUtilBytesRefHash:(OrgApacheLuceneUtilBytesRefHash *)terms
withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray:(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *)sliceArray
                                                      withInt:(jint)numTokens
                                                      withInt:(jint)numOverlapTokens
                                                    withFloat:(jfloat)boost
                                                      withInt:(jint)lastPosition
                                                      withInt:(jint)lastOffset
                                                     withLong:(jlong)sumTotalTermFreq {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(self, outer$, fieldInfo, terms, sliceArray, numTokens, numOverlapTokens, boost, lastPosition, lastOffset, sumTotalTermFreq);
  return self;
}

- (void)sortTerms {
  if (sortedTerms_ == nil) {
    JreStrongAssign(&sortedTerms_, [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(terms_)) sortWithJavaUtilComparator:OrgApacheLuceneUtilBytesRef_getUTF8SortedAsUnicodeComparator()]);
  }
}

- (OrgApacheLuceneIndexNumericDocValues *)getNormDocValues {
  if (norms_ == nil) {
    OrgApacheLuceneIndexFieldInvertState *invertState = [new_OrgApacheLuceneIndexFieldInvertState_initWithNSString_withInt_withInt_withInt_withInt_withFloat_(((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_))->name_, fieldInfo_->number_, numTokens_, numOverlapTokens_, 0, boost_) autorelease];
    jlong value = [((OrgApacheLuceneSearchSimilaritiesSimilarity *) nil_chk(this$0_->normSimilarity_)) computeNormWithOrgApacheLuceneIndexFieldInvertState:invertState];
    JreStrongAssignAndConsume(&norms_, new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(value));
  }
  return norms_;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(fieldInfo_);
  RELEASE_(norms_);
  RELEASE_(terms_);
  RELEASE_(sliceArray_);
  RELEASE_(sortedTerms_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex:withOrgApacheLuceneIndexFieldInfo:withOrgApacheLuceneUtilBytesRefHash:withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray:withInt:withInt:withFloat:withInt:withInt:withLong:", "Info", NULL, 0x1, NULL, NULL },
    { "sortTerms", NULL, "V", 0x1, NULL, NULL },
    { "getNormDocValues", NULL, "Lorg.apache.lucene.index.NumericDocValues;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex;", NULL, NULL, .constantValue.asLong = 0 },
    { "fieldInfo_", NULL, 0x12, "Lorg.apache.lucene.index.FieldInfo;", NULL, NULL, .constantValue.asLong = 0 },
    { "norms_", NULL, 0x82, "Lorg.apache.lucene.index.NumericDocValues;", NULL, NULL, .constantValue.asLong = 0 },
    { "terms_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRefHash;", NULL, NULL, .constantValue.asLong = 0 },
    { "sliceArray_", NULL, 0x12, "Lorg.apache.lucene.index.memory.MemoryIndex$SliceByteStartArray;", NULL, NULL, .constantValue.asLong = 0 },
    { "sortedTerms_", NULL, 0x82, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "numTokens_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "numOverlapTokens_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "boost_", NULL, 0x12, "F", NULL, NULL, .constantValue.asLong = 0 },
    { "sumTotalTermFreq_", NULL, 0x12, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "lastPosition_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "lastOffset_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_Info = { 2, "Info", "org.apache.lucene.index.memory", "MemoryIndex", 0x12, 3, methods, 12, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_Info;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(OrgApacheLuceneIndexMemoryMemoryIndex_Info *self, OrgApacheLuceneIndexMemoryMemoryIndex *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneUtilBytesRefHash *terms, OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray, jint numTokens, jint numOverlapTokens, jfloat boost, jint lastPosition, jint lastOffset, jlong sumTotalTermFreq) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
  JreStrongAssign(&self->fieldInfo_, fieldInfo);
  JreStrongAssign(&self->terms_, terms);
  JreStrongAssign(&self->sliceArray_, sliceArray);
  self->numTokens_ = numTokens;
  self->numOverlapTokens_ = numOverlapTokens;
  self->boost_ = boost;
  self->sumTotalTermFreq_ = sumTotalTermFreq;
  self->lastPosition_ = lastPosition;
  self->lastOffset_ = lastOffset;
}

OrgApacheLuceneIndexMemoryMemoryIndex_Info *new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(OrgApacheLuceneIndexMemoryMemoryIndex *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneUtilBytesRefHash *terms, OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *sliceArray, jint numTokens, jint numOverlapTokens, jfloat boost, jint lastPosition, jint lastOffset, jlong sumTotalTermFreq) {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info *self = [OrgApacheLuceneIndexMemoryMemoryIndex_Info alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_Info_initWithOrgApacheLuceneIndexMemoryMemoryIndex_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneUtilBytesRefHash_withOrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_withInt_withInt_withFloat_withInt_withInt_withLong_(self, outer$, fieldInfo, terms, sliceArray, numTokens, numOverlapTokens, boost, lastPosition, lastOffset, sumTotalTermFreq);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_Info)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1

- (jlong)getWithInt:(jint)docID {
  if (docID != 0) @throw [new_JavaLangIndexOutOfBoundsException_init() autorelease];
  else return val$value_;
}

- (instancetype)initWithLong:(jlong)capture$0 {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(self, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getWithInt:", "get", "J", 0x1, NULL, NULL },
    { "initWithLong:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$value_", NULL, 0x1012, "J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneIndexMemoryMemoryIndex_Info", "getNormDocValues" };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 = { 2, "", "org.apache.lucene.index.memory", "MemoryIndex$Info", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 *self, jlong capture$0) {
  self->val$value_ = capture$0;
  OrgApacheLuceneIndexNumericDocValues_init(self);
}

OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 *new_OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(jlong capture$0) {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 *self = [OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1 alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1_initWithLong_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_Info_$1)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex:(OrgApacheLuceneIndexMemoryMemoryIndex *)outer$ {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(self, outer$);
  return self;
}

- (id<OrgApacheLuceneUtilBits>)getLiveDocs {
  return nil;
}

- (OrgApacheLuceneIndexFieldInfos *)getFieldInfos {
  IOSObjectArray *fieldInfos = [IOSObjectArray arrayWithLength:[((id<JavaUtilSortedMap>) nil_chk(this$0_->fields_)) size] type:OrgApacheLuceneIndexFieldInfo_class_()];
  jint i = 0;
  for (OrgApacheLuceneIndexMemoryMemoryIndex_Info * __strong info in nil_chk([this$0_->fields_ values])) {
    IOSObjectArray_Set(fieldInfos, i++, ((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info))->fieldInfo_);
  }
  return [new_OrgApacheLuceneIndexFieldInfos_initWithOrgApacheLuceneIndexFieldInfoArray_(fieldInfos) autorelease];
}

- (OrgApacheLuceneIndexNumericDocValues *)getNumericDocValuesWithNSString:(NSString *)field {
  return nil;
}

- (OrgApacheLuceneIndexBinaryDocValues *)getBinaryDocValuesWithNSString:(NSString *)field {
  return nil;
}

- (OrgApacheLuceneIndexSortedDocValues *)getSortedDocValuesWithNSString:(NSString *)field {
  return nil;
}

- (OrgApacheLuceneIndexSortedNumericDocValues *)getSortedNumericDocValuesWithNSString:(NSString *)field {
  return nil;
}

- (OrgApacheLuceneIndexSortedSetDocValues *)getSortedSetDocValuesWithNSString:(NSString *)field {
  return nil;
}

- (id<OrgApacheLuceneUtilBits>)getDocsWithFieldWithNSString:(NSString *)field {
  return nil;
}

- (void)checkIntegrity {
}

- (OrgApacheLuceneIndexFields *)fields {
  return [new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(self) autorelease];
}

- (OrgApacheLuceneIndexFields *)getTermVectorsWithInt:(jint)docID {
  if (docID == 0) {
    return [self fields];
  }
  else {
    return nil;
  }
}

- (jint)numDocs {
  return 1;
}

- (jint)maxDoc {
  return 1;
}

- (void)documentWithInt:(jint)docID
withOrgApacheLuceneIndexStoredFieldVisitor:(OrgApacheLuceneIndexStoredFieldVisitor *)visitor {
}

- (void)doClose {
}

- (OrgApacheLuceneIndexNumericDocValues *)getNormValuesWithNSString:(NSString *)field {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info *info = [((id<JavaUtilSortedMap>) nil_chk(this$0_->fields_)) getWithId:field];
  if (info == nil) {
    return nil;
  }
  return [((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info)) getNormDocValues];
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex:", "MemoryIndexReader", NULL, 0x2, NULL, NULL },
    { "getLiveDocs", NULL, "Lorg.apache.lucene.util.Bits;", 0x1, NULL, NULL },
    { "getFieldInfos", NULL, "Lorg.apache.lucene.index.FieldInfos;", 0x1, NULL, NULL },
    { "getNumericDocValuesWithNSString:", "getNumericDocValues", "Lorg.apache.lucene.index.NumericDocValues;", 0x1, NULL, NULL },
    { "getBinaryDocValuesWithNSString:", "getBinaryDocValues", "Lorg.apache.lucene.index.BinaryDocValues;", 0x1, NULL, NULL },
    { "getSortedDocValuesWithNSString:", "getSortedDocValues", "Lorg.apache.lucene.index.SortedDocValues;", 0x1, NULL, NULL },
    { "getSortedNumericDocValuesWithNSString:", "getSortedNumericDocValues", "Lorg.apache.lucene.index.SortedNumericDocValues;", 0x1, NULL, NULL },
    { "getSortedSetDocValuesWithNSString:", "getSortedSetDocValues", "Lorg.apache.lucene.index.SortedSetDocValues;", 0x1, NULL, NULL },
    { "getDocsWithFieldWithNSString:", "getDocsWithField", "Lorg.apache.lucene.util.Bits;", 0x1, "Ljava.io.IOException;", NULL },
    { "checkIntegrity", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "fields", NULL, "Lorg.apache.lucene.index.Fields;", 0x1, NULL, NULL },
    { "getTermVectorsWithInt:", "getTermVectors", "Lorg.apache.lucene.index.Fields;", 0x1, NULL, NULL },
    { "numDocs", NULL, "I", 0x1, NULL, NULL },
    { "maxDoc", NULL, "I", 0x1, NULL, NULL },
    { "documentWithInt:withOrgApacheLuceneIndexStoredFieldVisitor:", "document", "V", 0x1, NULL, NULL },
    { "doClose", NULL, "V", 0x4, NULL, NULL },
    { "getNormValuesWithNSString:", "getNormValues", "Lorg.apache.lucene.index.NumericDocValues;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader$MemoryFields;", "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader$MemoryTermsEnum;", "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader$MemoryPostingsEnum;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader = { 2, "MemoryIndexReader", "org.apache.lucene.index.memory", "MemoryIndex", 0x12, 17, methods, 1, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *self, OrgApacheLuceneIndexMemoryMemoryIndex *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexLeafReader_init(self);
}

OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(OrgApacheLuceneIndexMemoryMemoryIndex *outer$) {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *self = [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_initWithOrgApacheLuceneIndexMemoryMemoryIndex_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields

- (id<JavaUtilIterator>)iterator {
  return [((id<JavaUtilSet>) nil_chk([((id<JavaUtilSortedMap>) nil_chk(this$0_->this$0_->fields_)) keySet])) iterator];
}

- (OrgApacheLuceneIndexTerms *)termsWithNSString:(NSString *)field {
  OrgApacheLuceneIndexMemoryMemoryIndex_Info *info = [((id<JavaUtilSortedMap>) nil_chk(this$0_->this$0_->fields_)) getWithId:field];
  if (info == nil) return nil;
  return [new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(self, info) autorelease];
}

- (jint)size {
  return [((id<JavaUtilSortedMap>) nil_chk(this$0_->this$0_->fields_)) size];
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$ {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(self, outer$);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "iterator", NULL, "Ljava.util.Iterator;", 0x1, NULL, NULL },
    { "termsWithNSString:", "terms", "Lorg.apache.lucene.index.Terms;", 0x1, NULL, NULL },
    { "size", NULL, "I", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:", "init", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields = { 2, "MemoryFields", "org.apache.lucene.index.memory", "MemoryIndex$MemoryIndexReader", 0x2, 4, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexFields_init(self);
}

OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *self = [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1

- (OrgApacheLuceneIndexTermsEnum *)iterator {
  return [new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(this$0_->this$0_, val$info_) autorelease];
}

- (jlong)size {
  return [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(val$info_))->terms_)) size];
}

- (jlong)getSumTotalTermFreq {
  return ((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(val$info_))->sumTotalTermFreq_;
}

- (jlong)getSumDocFreq {
  return [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(val$info_))->terms_)) size];
}

- (jint)getDocCount {
  return [self size] > 0 ? 1 : 0;
}

- (jboolean)hasFreqs {
  return YES;
}

- (jboolean)hasOffsets {
  return this$0_->this$0_->this$0_->storeOffsets_;
}

- (jboolean)hasPositions {
  return YES;
}

- (jboolean)hasPayloads {
  return this$0_->this$0_->this$0_->storePayloads_;
}

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *)outer$
                                              withOrgApacheLuceneIndexMemoryMemoryIndex_Info:(OrgApacheLuceneIndexMemoryMemoryIndex_Info *)capture$0 {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(self, outer$, capture$0);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$info_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "iterator", NULL, "Lorg.apache.lucene.index.TermsEnum;", 0x1, NULL, NULL },
    { "size", NULL, "J", 0x1, NULL, NULL },
    { "getSumTotalTermFreq", NULL, "J", 0x1, NULL, NULL },
    { "getSumDocFreq", NULL, "J", 0x1, NULL, NULL },
    { "getDocCount", NULL, "I", 0x1, NULL, NULL },
    { "hasFreqs", NULL, "Z", 0x1, NULL, NULL },
    { "hasOffsets", NULL, "Z", 0x1, NULL, NULL },
    { "hasPositions", NULL, "Z", 0x1, NULL, NULL },
    { "hasPayloads", NULL, "Z", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields:withOrgApacheLuceneIndexMemoryMemoryIndex_Info:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader$MemoryFields;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$info_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex$Info;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields", "termsWithNSString:" };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 = { 2, "", "org.apache.lucene.index.memory", "MemoryIndex$MemoryIndexReader$MemoryFields", 0x8008, 10, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *capture$0) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$info_, capture$0);
  OrgApacheLuceneIndexTerms_init(self);
}

OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *capture$0) {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 *self = [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1 alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryFields_$1)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$
                                 withOrgApacheLuceneIndexMemoryMemoryIndex_Info:(OrgApacheLuceneIndexMemoryMemoryIndex_Info *)info {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(self, outer$, info);
  return self;
}

- (jint)binarySearchWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)b
                    withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)bytesRef
                                            withInt:(jint)low
                                            withInt:(jint)high
                withOrgApacheLuceneUtilBytesRefHash:(OrgApacheLuceneUtilBytesRefHash *)hash_
                                       withIntArray:(IOSIntArray *)ords
                             withJavaUtilComparator:(id<JavaUtilComparator>)comparator {
  return OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_binarySearchWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_withInt_withOrgApacheLuceneUtilBytesRefHash_withIntArray_withJavaUtilComparator_(self, b, bytesRef, low, high, hash_, ords, comparator);
}

- (jboolean)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)text {
  termUpto_ = OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_binarySearchWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_withInt_withOrgApacheLuceneUtilBytesRefHash_withIntArray_withJavaUtilComparator_(self, text, br_, 0, [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->terms_)) size] - 1, info_->terms_, info_->sortedTerms_, OrgApacheLuceneUtilBytesRef_getUTF8SortedAsUnicodeComparator());
  return termUpto_ >= 0;
}

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)text {
  termUpto_ = OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_binarySearchWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_withInt_withOrgApacheLuceneUtilBytesRefHash_withIntArray_withJavaUtilComparator_(self, text, br_, 0, [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->terms_)) size] - 1, info_->terms_, info_->sortedTerms_, OrgApacheLuceneUtilBytesRef_getUTF8SortedAsUnicodeComparator());
  if (termUpto_ < 0) {
    termUpto_ = -termUpto_ - 1;
    if (termUpto_ >= [info_->terms_ size]) {
      return JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, END);
    }
    else {
      [info_->terms_ getWithInt:IOSIntArray_Get(nil_chk(info_->sortedTerms_), termUpto_) withOrgApacheLuceneUtilBytesRef:br_];
      return JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, NOT_FOUND);
    }
  }
  else {
    return JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, FOUND);
  }
}

- (void)seekExactWithLong:(jlong)ord {
  JreAssert((ord < [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->terms_)) size]), (@"org/apache/lucene/index/memory/MemoryIndex.java:953 condition failed: assert ord < info.terms.size();"));
  termUpto_ = (jint) ord;
  [info_->terms_ getWithInt:IOSIntArray_Get(nil_chk(info_->sortedTerms_), termUpto_) withOrgApacheLuceneUtilBytesRef:br_];
}

- (OrgApacheLuceneUtilBytesRef *)next {
  termUpto_++;
  if (termUpto_ >= [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->terms_)) size]) {
    return nil;
  }
  else {
    [info_->terms_ getWithInt:IOSIntArray_Get(nil_chk(info_->sortedTerms_), termUpto_) withOrgApacheLuceneUtilBytesRef:br_];
    return br_;
  }
}

- (OrgApacheLuceneUtilBytesRef *)term {
  return br_;
}

- (jlong)ord {
  return termUpto_;
}

- (jint)docFreq {
  return 1;
}

- (jlong)totalTermFreq {
  return IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->sliceArray_))->freq_), IOSIntArray_Get(nil_chk(info_->sortedTerms_), termUpto_));
}

- (OrgApacheLuceneIndexPostingsEnum *)postingsWithOrgApacheLuceneIndexPostingsEnum:(OrgApacheLuceneIndexPostingsEnum *)reuse
                                                                           withInt:(jint)flags {
  if (reuse == nil || !([reuse isKindOfClass:[OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum class]])) {
    reuse = [new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(this$0_) autorelease];
  }
  jint ord = IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info_))->sortedTerms_), termUpto_);
  return [((OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *) nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *) check_class_cast(reuse, [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum class])))) resetWithInt:IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *) nil_chk(info_->sliceArray_))->start_), ord) withInt:IOSIntArray_Get(nil_chk(info_->sliceArray_->end_), ord) withInt:IOSIntArray_Get(nil_chk(info_->sliceArray_->freq_), ord)];
}

- (void)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)term
               withOrgApacheLuceneIndexTermState:(OrgApacheLuceneIndexTermState *)state {
  JreAssert((state != nil), (@"org/apache/lucene/index/memory/MemoryIndex.java:1000 condition failed: assert state != null;"));
  [self seekExactWithLong:((OrgApacheLuceneIndexOrdTermState *) nil_chk(((OrgApacheLuceneIndexOrdTermState *) check_class_cast(state, [OrgApacheLuceneIndexOrdTermState class]))))->ord_];
}

- (OrgApacheLuceneIndexTermState *)termState {
  OrgApacheLuceneIndexOrdTermState *ts = [new_OrgApacheLuceneIndexOrdTermState_init() autorelease];
  ts->ord_ = termUpto_;
  return ts;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(info_);
  RELEASE_(br_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:withOrgApacheLuceneIndexMemoryMemoryIndex_Info:", "MemoryTermsEnum", NULL, 0x1, NULL, NULL },
    { "binarySearchWithOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneUtilBytesRef:withInt:withInt:withOrgApacheLuceneUtilBytesRefHash:withIntArray:withJavaUtilComparator:", "binarySearch", "I", 0x12, NULL, NULL },
    { "seekExactWithOrgApacheLuceneUtilBytesRef:", "seekExact", "Z", 0x1, NULL, NULL },
    { "seekCeilWithOrgApacheLuceneUtilBytesRef:", "seekCeil", "Lorg.apache.lucene.index.TermsEnum$SeekStatus;", 0x1, NULL, NULL },
    { "seekExactWithLong:", "seekExact", "V", 0x1, NULL, NULL },
    { "next", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, NULL, NULL },
    { "term", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, NULL, NULL },
    { "ord", NULL, "J", 0x1, NULL, NULL },
    { "docFreq", NULL, "I", 0x1, NULL, NULL },
    { "totalTermFreq", NULL, "J", 0x1, NULL, NULL },
    { "postingsWithOrgApacheLuceneIndexPostingsEnum:withInt:", "postings", "Lorg.apache.lucene.index.PostingsEnum;", 0x1, NULL, NULL },
    { "seekExactWithOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneIndexTermState:", "seekExact", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "termState", NULL, "Lorg.apache.lucene.index.TermState;", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "info_", NULL, 0x12, "Lorg.apache.lucene.index.memory.MemoryIndex$Info;", NULL, NULL, .constantValue.asLong = 0 },
    { "br_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "termUpto_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum = { 2, "MemoryTermsEnum", "org.apache.lucene.index.memory", "MemoryIndex$MemoryIndexReader", 0x2, 13, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *info) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexTermsEnum_init(self);
  JreStrongAssignAndConsume(&self->br_, new_OrgApacheLuceneUtilBytesRef_init());
  self->termUpto_ = -1;
  JreStrongAssign(&self->info_, info);
  [((OrgApacheLuceneIndexMemoryMemoryIndex_Info *) nil_chk(info)) sortTerms];
}

OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$, OrgApacheLuceneIndexMemoryMemoryIndex_Info *info) {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *self = [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_withOrgApacheLuceneIndexMemoryMemoryIndex_Info_(self, outer$, info);
  return self;
}

jint OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum_binarySearchWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_withInt_withOrgApacheLuceneUtilBytesRefHash_withIntArray_withJavaUtilComparator_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum *self, OrgApacheLuceneUtilBytesRef *b, OrgApacheLuceneUtilBytesRef *bytesRef, jint low, jint high, OrgApacheLuceneUtilBytesRefHash *hash_, IOSIntArray *ords, id<JavaUtilComparator> comparator) {
  jint mid = 0;
  while (low <= high) {
    mid = JreURShift32((low + high), 1);
    [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(hash_)) getWithInt:IOSIntArray_Get(nil_chk(ords), mid) withOrgApacheLuceneUtilBytesRef:bytesRef];
    jint cmp = [((id<JavaUtilComparator>) nil_chk(comparator)) compareWithId:bytesRef withId:b];
    if (cmp < 0) {
      low = mid + 1;
    }
    else if (cmp > 0) {
      high = mid - 1;
    }
    else {
      return mid;
    }
  }
  JreAssert(([((id<JavaUtilComparator>) nil_chk(comparator)) compareWithId:bytesRef withId:b] != 0), (@"org/apache/lucene/index/memory/MemoryIndex.java:924 condition failed: assert comparator.compare(bytesRef, b) != 0;"));
  return -(low + 1);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryTermsEnum)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum

- (instancetype)initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *)outer$ {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(self, outer$);
  return self;
}

- (OrgApacheLuceneIndexPostingsEnum *)resetWithInt:(jint)start
                                           withInt:(jint)end
                                           withInt:(jint)freq {
  [((OrgApacheLuceneUtilIntBlockPool_SliceReader *) nil_chk(self->sliceReader_)) resetWithInt:start withInt:end];
  posUpto_ = 0;
  hasNext_ = YES;
  doc_ = -1;
  self->freq_ = freq;
  return self;
}

- (jint)docID {
  return doc_;
}

- (jint)nextDoc {
  pos_ = -1;
  if (hasNext_) {
    hasNext_ = NO;
    return doc_ = 0;
  }
  else {
    return doc_ = OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
  }
}

- (jint)advanceWithInt:(jint)target {
  return [self slowAdvanceWithInt:target];
}

- (jint)freq {
  return freq_;
}

- (jint)nextPosition {
  posUpto_++;
  JreAssert((posUpto_ <= freq_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1069 condition failed: assert posUpto <= freq;"));
  JreAssert((![((OrgApacheLuceneUtilIntBlockPool_SliceReader *) nil_chk(sliceReader_)) endOfSlice]), (JreStrcat("$I", @" stores offsets : ", startOffset_)));
  jint pos = [sliceReader_ readInt];
  if (this$0_->this$0_->storeOffsets_) {
    startOffset_ = [sliceReader_ readInt];
    endOffset_ = [sliceReader_ readInt];
  }
  if (this$0_->this$0_->storePayloads_) {
    payloadIndex_ = [sliceReader_ readInt];
  }
  return pos;
}

- (jint)startOffset {
  return startOffset_;
}

- (jint)endOffset {
  return endOffset_;
}

- (OrgApacheLuceneUtilBytesRef *)getPayload {
  if (payloadBuilder_ == nil || payloadIndex_ == -1) {
    return nil;
  }
  return [((OrgApacheLuceneUtilBytesRefArray *) nil_chk(this$0_->this$0_->payloadsBytesRefs_)) getWithOrgApacheLuceneUtilBytesRefBuilder:payloadBuilder_ withInt:payloadIndex_];
}

- (jlong)cost {
  return 1;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(sliceReader_);
  RELEASE_(payloadBuilder_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader:", "MemoryPostingsEnum", NULL, 0x1, NULL, NULL },
    { "resetWithInt:withInt:withInt:", "reset", "Lorg.apache.lucene.index.PostingsEnum;", 0x1, NULL, NULL },
    { "docID", NULL, "I", 0x1, NULL, NULL },
    { "nextDoc", NULL, "I", 0x1, NULL, NULL },
    { "advanceWithInt:", "advance", "I", 0x1, "Ljava.io.IOException;", NULL },
    { "freq", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "nextPosition", NULL, "I", 0x1, NULL, NULL },
    { "startOffset", NULL, "I", 0x1, NULL, NULL },
    { "endOffset", NULL, "I", 0x1, NULL, NULL },
    { "getPayload", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, NULL, NULL },
    { "cost", NULL, "J", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.index.memory.MemoryIndex$MemoryIndexReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "sliceReader_", NULL, 0x12, "Lorg.apache.lucene.util.IntBlockPool$SliceReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "posUpto_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "hasNext_", NULL, 0x2, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "doc_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "freq_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "pos_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "startOffset_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "endOffset_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "payloadIndex_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "payloadBuilder_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum = { 2, "MemoryPostingsEnum", "org.apache.lucene.index.memory", "MemoryIndex$MemoryIndexReader", 0x2, 11, methods, 11, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *self, OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexPostingsEnum_init(self);
  self->doc_ = -1;
  JreStrongAssignAndConsume(&self->sliceReader_, new_OrgApacheLuceneUtilIntBlockPool_SliceReader_initWithOrgApacheLuceneUtilIntBlockPool_(outer$->this$0_->intBlockPool_));
  JreStrongAssign(&self->payloadBuilder_, outer$->this$0_->storePayloads_ ? [new_OrgApacheLuceneUtilBytesRefBuilder_init() autorelease] : nil);
}

OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *new_OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader *outer$) {
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum *self = [OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum_initWithOrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_MemoryIndexReader_MemoryPostingsEnum)

@implementation OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray

- (instancetype)initWithInt:(jint)initSize {
  OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(self, initSize);
  return self;
}

- (IOSIntArray *)init__ {
  IOSIntArray *ord = [super init__];
  JreStrongAssignAndConsume(&start_, [IOSIntArray newArrayWithLength:OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_(((IOSIntArray *) nil_chk(ord))->size_, OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT)]);
  JreStrongAssignAndConsume(&end_, [IOSIntArray newArrayWithLength:OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_(ord->size_, OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT)]);
  JreStrongAssignAndConsume(&freq_, [IOSIntArray newArrayWithLength:OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_(ord->size_, OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT)]);
  JreAssert((start_->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1179 condition failed: assert start.length >= ord.length;"));
  JreAssert((end_->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1180 condition failed: assert end.length >= ord.length;"));
  JreAssert((freq_->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1181 condition failed: assert freq.length >= ord.length;"));
  return ord;
}

- (IOSIntArray *)grow {
  IOSIntArray *ord = [super grow];
  if (((IOSIntArray *) nil_chk(start_))->size_ < ((IOSIntArray *) nil_chk(ord))->size_) {
    JreStrongAssign(&start_, OrgApacheLuceneUtilArrayUtil_growWithIntArray_withInt_(start_, ord->size_));
    JreStrongAssign(&end_, OrgApacheLuceneUtilArrayUtil_growWithIntArray_withInt_(end_, ord->size_));
    JreStrongAssign(&freq_, OrgApacheLuceneUtilArrayUtil_growWithIntArray_withInt_(freq_, ord->size_));
  }
  JreAssert((((IOSIntArray *) nil_chk(start_))->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1193 condition failed: assert start.length >= ord.length;"));
  JreAssert((((IOSIntArray *) nil_chk(end_))->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1194 condition failed: assert end.length >= ord.length;"));
  JreAssert((((IOSIntArray *) nil_chk(freq_))->size_ >= ord->size_), (@"org/apache/lucene/index/memory/MemoryIndex.java:1195 condition failed: assert freq.length >= ord.length;"));
  return ord;
}

- (IOSIntArray *)clear {
  JreStrongAssign(&start_, JreStrongAssign(&end_, nil));
  return [super clear];
}

- (void)dealloc {
  RELEASE_(start_);
  RELEASE_(end_);
  RELEASE_(freq_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "SliceByteStartArray", NULL, 0x1, NULL, NULL },
    { "init__", "init", "[I", 0x1, NULL, NULL },
    { "grow", NULL, "[I", 0x1, NULL, NULL },
    { "clear", NULL, "[I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "start_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "end_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "freq_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray = { 2, "SliceByteStartArray", "org.apache.lucene.index.memory", "MemoryIndex", 0x1a, 4, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray;
}

@end

void OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *self, jint initSize) {
  OrgApacheLuceneUtilBytesRefHash_DirectBytesStartArray_initWithInt_(self, initSize);
}

OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *new_OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(jint initSize) {
  OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray *self = [OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray alloc];
  OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray_initWithInt_(self, initSize);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexMemoryMemoryIndex_SliceByteStartArray)
