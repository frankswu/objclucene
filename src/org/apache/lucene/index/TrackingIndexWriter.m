//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/index/TrackingIndexWriter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/Iterable.h"
#include "java/util/concurrent/atomic/AtomicLong.h"
#include "org/apache/lucene/index/IndexReader.h"
#include "org/apache/lucene/index/IndexWriter.h"
#include "org/apache/lucene/index/Term.h"
#include "org/apache/lucene/index/TrackingIndexWriter.h"
#include "org/apache/lucene/search/Query.h"

@interface OrgApacheLuceneIndexTrackingIndexWriter () {
 @public
  OrgApacheLuceneIndexIndexWriter *writer_;
  JavaUtilConcurrentAtomicAtomicLong *indexingGen_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexTrackingIndexWriter, writer_, OrgApacheLuceneIndexIndexWriter *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexTrackingIndexWriter, indexingGen_, JavaUtilConcurrentAtomicAtomicLong *)

@implementation OrgApacheLuceneIndexTrackingIndexWriter

- (instancetype)initWithOrgApacheLuceneIndexIndexWriter:(OrgApacheLuceneIndexIndexWriter *)writer {
  OrgApacheLuceneIndexTrackingIndexWriter_initWithOrgApacheLuceneIndexIndexWriter_(self, writer);
  return self;
}

- (jlong)updateDocumentWithOrgApacheLuceneIndexTerm:(OrgApacheLuceneIndexTerm *)t
                               withJavaLangIterable:(id<JavaLangIterable>)d {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) updateDocumentWithOrgApacheLuceneIndexTerm:t withJavaLangIterable:d];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)updateDocumentsWithOrgApacheLuceneIndexTerm:(OrgApacheLuceneIndexTerm *)t
                                withJavaLangIterable:(id<JavaLangIterable>)docs {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) updateDocumentsWithOrgApacheLuceneIndexTerm:t withJavaLangIterable:docs];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)deleteDocumentsWithOrgApacheLuceneIndexTerm:(OrgApacheLuceneIndexTerm *)t {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) deleteDocumentsWithOrgApacheLuceneIndexTermArray:[IOSObjectArray arrayWithObjects:(id[]){ t } count:1 type:OrgApacheLuceneIndexTerm_class_()]];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)deleteDocumentsWithOrgApacheLuceneIndexTermArray:(IOSObjectArray *)terms {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) deleteDocumentsWithOrgApacheLuceneIndexTermArray:terms];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)deleteDocumentsWithOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)q {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) deleteDocumentsWithOrgApacheLuceneSearchQueryArray:[IOSObjectArray arrayWithObjects:(id[]){ q } count:1 type:OrgApacheLuceneSearchQuery_class_()]];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)deleteDocumentsWithOrgApacheLuceneSearchQueryArray:(IOSObjectArray *)queries {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) deleteDocumentsWithOrgApacheLuceneSearchQueryArray:queries];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)deleteAll {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) deleteAll];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)addDocumentWithJavaLangIterable:(id<JavaLangIterable>)d {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) addDocumentWithJavaLangIterable:d];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)addDocumentsWithJavaLangIterable:(id<JavaLangIterable>)docs {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) addDocumentsWithJavaLangIterable:docs];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)addIndexesWithOrgApacheLuceneStoreDirectoryArray:(IOSObjectArray *)dirs {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) addIndexesWithOrgApacheLuceneStoreDirectoryArray:dirs];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)addIndexesWithOrgApacheLuceneIndexCodecReaderArray:(IOSObjectArray *)readers {
  [((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) addIndexesWithOrgApacheLuceneIndexCodecReaderArray:readers];
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (jlong)getGeneration {
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
}

- (OrgApacheLuceneIndexIndexWriter *)getIndexWriter {
  return writer_;
}

- (jlong)getAndIncrementGeneration {
  return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) getAndIncrement];
}

- (jlong)tryDeleteDocumentWithOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)reader
                                                      withInt:(jint)docID {
  if ([((OrgApacheLuceneIndexIndexWriter *) nil_chk(writer_)) tryDeleteDocumentWithOrgApacheLuceneIndexIndexReader:reader withInt:docID]) {
    return [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(indexingGen_)) get];
  }
  else {
    return -1;
  }
}

- (void)dealloc {
  RELEASE_(writer_);
  RELEASE_(indexingGen_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexIndexWriter:", "TrackingIndexWriter", NULL, 0x1, NULL, NULL },
    { "updateDocumentWithOrgApacheLuceneIndexTerm:withJavaLangIterable:", "updateDocument", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "updateDocumentsWithOrgApacheLuceneIndexTerm:withJavaLangIterable:", "updateDocuments", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "deleteDocumentsWithOrgApacheLuceneIndexTerm:", "deleteDocuments", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "deleteDocumentsWithOrgApacheLuceneIndexTermArray:", "deleteDocuments", "J", 0x81, "Ljava.io.IOException;", NULL },
    { "deleteDocumentsWithOrgApacheLuceneSearchQuery:", "deleteDocuments", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "deleteDocumentsWithOrgApacheLuceneSearchQueryArray:", "deleteDocuments", "J", 0x81, "Ljava.io.IOException;", NULL },
    { "deleteAll", NULL, "J", 0x1, "Ljava.io.IOException;", NULL },
    { "addDocumentWithJavaLangIterable:", "addDocument", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "addDocumentsWithJavaLangIterable:", "addDocuments", "J", 0x1, "Ljava.io.IOException;", NULL },
    { "addIndexesWithOrgApacheLuceneStoreDirectoryArray:", "addIndexes", "J", 0x81, "Ljava.io.IOException;", NULL },
    { "addIndexesWithOrgApacheLuceneIndexCodecReaderArray:", "addIndexes", "J", 0x81, "Ljava.io.IOException;", NULL },
    { "getGeneration", NULL, "J", 0x1, NULL, NULL },
    { "getIndexWriter", NULL, "Lorg.apache.lucene.index.IndexWriter;", 0x1, NULL, NULL },
    { "getAndIncrementGeneration", NULL, "J", 0x1, NULL, NULL },
    { "tryDeleteDocumentWithOrgApacheLuceneIndexIndexReader:withInt:", "tryDeleteDocument", "J", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "writer_", NULL, 0x12, "Lorg.apache.lucene.index.IndexWriter;", NULL, NULL, .constantValue.asLong = 0 },
    { "indexingGen_", NULL, 0x12, "Ljava.util.concurrent.atomic.AtomicLong;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexTrackingIndexWriter = { 2, "TrackingIndexWriter", "org.apache.lucene.index", NULL, 0x1, 16, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexTrackingIndexWriter;
}

@end

void OrgApacheLuceneIndexTrackingIndexWriter_initWithOrgApacheLuceneIndexIndexWriter_(OrgApacheLuceneIndexTrackingIndexWriter *self, OrgApacheLuceneIndexIndexWriter *writer) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->indexingGen_, new_JavaUtilConcurrentAtomicAtomicLong_initWithLong_(1));
  JreStrongAssign(&self->writer_, writer);
}

OrgApacheLuceneIndexTrackingIndexWriter *new_OrgApacheLuceneIndexTrackingIndexWriter_initWithOrgApacheLuceneIndexIndexWriter_(OrgApacheLuceneIndexIndexWriter *writer) {
  OrgApacheLuceneIndexTrackingIndexWriter *self = [OrgApacheLuceneIndexTrackingIndexWriter alloc];
  OrgApacheLuceneIndexTrackingIndexWriter_initWithOrgApacheLuceneIndexIndexWriter_(self, writer);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexTrackingIndexWriter)
