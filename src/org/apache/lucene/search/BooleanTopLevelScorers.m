//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/search/BooleanTopLevelScorers.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/util/Arrays.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/List.h"
#include "java/util/Set.h"
#include "org/apache/lucene/search/BooleanTopLevelScorers.h"
#include "org/apache/lucene/search/ConjunctionScorer.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/FilterScorer.h"
#include "org/apache/lucene/search/ReqOptSumScorer.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/Weight.h"

@interface OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer () {
 @public
  IOSFloatArray *coords_;
  jint reqCount_;
  OrgApacheLuceneSearchScorer *req_;
  OrgApacheLuceneSearchScorer *opt_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer, coords_, IOSFloatArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer, req_, OrgApacheLuceneSearchScorer *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer, opt_, OrgApacheLuceneSearchScorer *)

@interface OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer () {
 @public
  jfloat coordReq_;
  jfloat coordBoth_;
}

@end

@interface OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer () {
 @public
  jint requiredCount_;
  IOSFloatArray *coords_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer, coords_, IOSFloatArray *)

@implementation OrgApacheLuceneSearchBooleanTopLevelScorers

- (instancetype)init {
  OrgApacheLuceneSearchBooleanTopLevelScorers_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x0, NULL, NULL },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.search.BooleanTopLevelScorers$BoostedScorer;", "Lorg.apache.lucene.search.BooleanTopLevelScorers$CoordinatingConjunctionScorer;", "Lorg.apache.lucene.search.BooleanTopLevelScorers$ReqSingleOptScorer;", "Lorg.apache.lucene.search.BooleanTopLevelScorers$ReqMultiOptScorer;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanTopLevelScorers = { 2, "BooleanTopLevelScorers", "org.apache.lucene.search", NULL, 0x0, 1, methods, 0, NULL, 0, NULL, 4, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanTopLevelScorers;
}

@end

void OrgApacheLuceneSearchBooleanTopLevelScorers_init(OrgApacheLuceneSearchBooleanTopLevelScorers *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchBooleanTopLevelScorers *new_OrgApacheLuceneSearchBooleanTopLevelScorers_init() {
  OrgApacheLuceneSearchBooleanTopLevelScorers *self = [OrgApacheLuceneSearchBooleanTopLevelScorers alloc];
  OrgApacheLuceneSearchBooleanTopLevelScorers_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanTopLevelScorers)

@implementation OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer

- (instancetype)initWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)inArg
                                          withFloat:(jfloat)boost {
  OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer_initWithOrgApacheLuceneSearchScorer_withFloat_(self, inArg, boost);
  return self;
}

- (jfloat)score {
  return [((OrgApacheLuceneSearchScorer *) nil_chk(in_)) score] * boost_;
}

- (id<JavaUtilCollection>)getChildren {
  return JavaUtilCollections_singletonWithId_([new_OrgApacheLuceneSearchScorer_ChildScorer_initWithOrgApacheLuceneSearchScorer_withNSString_(in_, @"BOOSTED") autorelease]);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchScorer:withFloat:", "BoostedScorer", NULL, 0x0, NULL, NULL },
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
    { "getChildren", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "boost_", NULL, 0x10, "F", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer = { 2, "BoostedScorer", "org.apache.lucene.search", "BooleanTopLevelScorers", 0x8, 3, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer;
}

@end

void OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer_initWithOrgApacheLuceneSearchScorer_withFloat_(OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer *self, OrgApacheLuceneSearchScorer *inArg, jfloat boost) {
  OrgApacheLuceneSearchFilterScorer_initWithOrgApacheLuceneSearchScorer_(self, inArg);
  self->boost_ = boost;
}

OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer *new_OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer_initWithOrgApacheLuceneSearchScorer_withFloat_(OrgApacheLuceneSearchScorer *inArg, jfloat boost) {
  OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer *self = [OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer alloc];
  OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer_initWithOrgApacheLuceneSearchScorer_withFloat_(self, inArg, boost);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanTopLevelScorers_BoostedScorer)

@implementation OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight
                                     withFloatArray:(IOSFloatArray *)coords
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)req
                                            withInt:(jint)reqCount
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)opt {
  OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer_initWithOrgApacheLuceneSearchWeight_withFloatArray_withOrgApacheLuceneSearchScorer_withInt_withOrgApacheLuceneSearchScorer_(self, weight, coords, req, reqCount, opt);
  return self;
}

- (jfloat)score {
  return ([((OrgApacheLuceneSearchScorer *) nil_chk(req_)) score] + [((OrgApacheLuceneSearchScorer *) nil_chk(opt_)) score]) * IOSFloatArray_Get(nil_chk(coords_), reqCount_ + [opt_ freq]);
}

- (void)dealloc {
  RELEASE_(coords_);
  RELEASE_(req_);
  RELEASE_(opt_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchWeight:withFloatArray:withOrgApacheLuceneSearchScorer:withInt:withOrgApacheLuceneSearchScorer:", "CoordinatingConjunctionScorer", NULL, 0x0, NULL, NULL },
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "coords_", NULL, 0x12, "[F", NULL, NULL, .constantValue.asLong = 0 },
    { "reqCount_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "req_", NULL, 0x12, "Lorg.apache.lucene.search.Scorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "opt_", NULL, 0x12, "Lorg.apache.lucene.search.Scorer;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer = { 2, "CoordinatingConjunctionScorer", "org.apache.lucene.search", "BooleanTopLevelScorers", 0x8, 2, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer;
}

@end

void OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer_initWithOrgApacheLuceneSearchWeight_withFloatArray_withOrgApacheLuceneSearchScorer_withInt_withOrgApacheLuceneSearchScorer_(OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer *self, OrgApacheLuceneSearchWeight *weight, IOSFloatArray *coords, OrgApacheLuceneSearchScorer *req, jint reqCount, OrgApacheLuceneSearchScorer *opt) {
  OrgApacheLuceneSearchConjunctionScorer_initWithOrgApacheLuceneSearchWeight_withJavaUtilList_withJavaUtilList_(self, weight, JavaUtilArrays_asListWithNSObjectArray_([IOSObjectArray arrayWithObjects:(id[]){ req, opt } count:2 type:OrgApacheLuceneSearchScorer_class_()]), JavaUtilArrays_asListWithNSObjectArray_([IOSObjectArray arrayWithObjects:(id[]){ req, opt } count:2 type:OrgApacheLuceneSearchScorer_class_()]));
  JreStrongAssign(&self->coords_, coords);
  JreStrongAssign(&self->req_, req);
  self->reqCount_ = reqCount;
  JreStrongAssign(&self->opt_, opt);
}

OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer *new_OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer_initWithOrgApacheLuceneSearchWeight_withFloatArray_withOrgApacheLuceneSearchScorer_withInt_withOrgApacheLuceneSearchScorer_(OrgApacheLuceneSearchWeight *weight, IOSFloatArray *coords, OrgApacheLuceneSearchScorer *req, jint reqCount, OrgApacheLuceneSearchScorer *opt) {
  OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer *self = [OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer alloc];
  OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer_initWithOrgApacheLuceneSearchWeight_withFloatArray_withOrgApacheLuceneSearchScorer_withInt_withOrgApacheLuceneSearchScorer_(self, weight, coords, req, reqCount, opt);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanTopLevelScorers_CoordinatingConjunctionScorer)

@implementation OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer

- (instancetype)initWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)reqScorer
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)optScorer
                                          withFloat:(jfloat)coordReq
                                          withFloat:(jfloat)coordBoth {
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withFloat_withFloat_(self, reqScorer, optScorer, coordReq, coordBoth);
  return self;
}

- (jfloat)score {
  jint curDoc = [((OrgApacheLuceneSearchScorer *) nil_chk(reqScorer_)) docID];
  jfloat reqScore = [reqScorer_ score];
  if (optScorer_ == nil) {
    return reqScore * coordReq_;
  }
  jint optScorerDoc = [((OrgApacheLuceneSearchScorer *) nil_chk(optScorer_)) docID];
  if (optScorerDoc < curDoc && (optScorerDoc = [optScorer_ advanceWithInt:curDoc]) == OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS) {
    JreStrongAssign(&optScorer_, nil);
    return reqScore * coordReq_;
  }
  return optScorerDoc == curDoc ? (reqScore + [((OrgApacheLuceneSearchScorer *) nil_chk(optScorer_)) score]) * coordBoth_ : reqScore * coordReq_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchScorer:withOrgApacheLuceneSearchScorer:withFloat:withFloat:", "ReqSingleOptScorer", NULL, 0x1, NULL, NULL },
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "coordReq_", NULL, 0x12, "F", NULL, NULL, .constantValue.asLong = 0 },
    { "coordBoth_", NULL, 0x12, "F", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer = { 2, "ReqSingleOptScorer", "org.apache.lucene.search", "BooleanTopLevelScorers", 0x8, 2, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer;
}

@end

void OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withFloat_withFloat_(OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer *self, OrgApacheLuceneSearchScorer *reqScorer, OrgApacheLuceneSearchScorer *optScorer, jfloat coordReq, jfloat coordBoth) {
  OrgApacheLuceneSearchReqOptSumScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_(self, reqScorer, optScorer);
  self->coordReq_ = coordReq;
  self->coordBoth_ = coordBoth;
}

OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer *new_OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withFloat_withFloat_(OrgApacheLuceneSearchScorer *reqScorer, OrgApacheLuceneSearchScorer *optScorer, jfloat coordReq, jfloat coordBoth) {
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer *self = [OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer alloc];
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withFloat_withFloat_(self, reqScorer, optScorer, coordReq, coordBoth);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanTopLevelScorers_ReqSingleOptScorer)

@implementation OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer

- (instancetype)initWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)reqScorer
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)optScorer
                                            withInt:(jint)requiredCount
                                     withFloatArray:(IOSFloatArray *)coords {
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withInt_withFloatArray_(self, reqScorer, optScorer, requiredCount, coords);
  return self;
}

- (jfloat)score {
  jint curDoc = [((OrgApacheLuceneSearchScorer *) nil_chk(reqScorer_)) docID];
  jfloat reqScore = [reqScorer_ score];
  if (optScorer_ == nil) {
    return reqScore * IOSFloatArray_Get(nil_chk(coords_), requiredCount_);
  }
  jint optScorerDoc = [((OrgApacheLuceneSearchScorer *) nil_chk(optScorer_)) docID];
  if (optScorerDoc < curDoc && (optScorerDoc = [optScorer_ advanceWithInt:curDoc]) == OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS) {
    JreStrongAssign(&optScorer_, nil);
    return reqScore * IOSFloatArray_Get(nil_chk(coords_), requiredCount_);
  }
  return optScorerDoc == curDoc ? (reqScore + [((OrgApacheLuceneSearchScorer *) nil_chk(optScorer_)) score]) * IOSFloatArray_Get(nil_chk(coords_), requiredCount_ + [optScorer_ freq]) : reqScore * IOSFloatArray_Get(nil_chk(coords_), requiredCount_);
}

- (void)dealloc {
  RELEASE_(coords_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchScorer:withOrgApacheLuceneSearchScorer:withInt:withFloatArray:", "ReqMultiOptScorer", NULL, 0x1, NULL, NULL },
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "requiredCount_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "coords_", NULL, 0x12, "[F", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer = { 2, "ReqMultiOptScorer", "org.apache.lucene.search", "BooleanTopLevelScorers", 0x8, 2, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer;
}

@end

void OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withInt_withFloatArray_(OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer *self, OrgApacheLuceneSearchScorer *reqScorer, OrgApacheLuceneSearchScorer *optScorer, jint requiredCount, IOSFloatArray *coords) {
  OrgApacheLuceneSearchReqOptSumScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_(self, reqScorer, optScorer);
  self->requiredCount_ = requiredCount;
  JreStrongAssign(&self->coords_, coords);
}

OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer *new_OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withInt_withFloatArray_(OrgApacheLuceneSearchScorer *reqScorer, OrgApacheLuceneSearchScorer *optScorer, jint requiredCount, IOSFloatArray *coords) {
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer *self = [OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer alloc];
  OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer_initWithOrgApacheLuceneSearchScorer_withOrgApacheLuceneSearchScorer_withInt_withFloatArray_(self, reqScorer, optScorer, requiredCount, coords);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanTopLevelScorers_ReqMultiOptScorer)
