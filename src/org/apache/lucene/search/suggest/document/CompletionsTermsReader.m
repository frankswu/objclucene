//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./suggest/src/java/org/apache/lucene/search/suggest/document/CompletionsTermsReader.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/Throwable.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/List.h"
#include "org/apache/lucene/search/suggest/document/CompletionsTermsReader.h"
#include "org/apache/lucene/search/suggest/document/NRTSuggester.h"
#include "org/apache/lucene/store/IndexInput.h"

@interface OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader () {
 @public
  OrgApacheLuceneStoreIndexInput *dictIn_;
  jlong offset_;
  OrgApacheLuceneSearchSuggestDocumentNRTSuggester *suggester_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader, dictIn_, OrgApacheLuceneStoreIndexInput *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader, suggester_, OrgApacheLuceneSearchSuggestDocumentNRTSuggester *)

@implementation OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader

- (instancetype)initWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)dictIn
                                              withLong:(jlong)offset
                                              withLong:(jlong)minWeight
                                              withLong:(jlong)maxWeight
                                              withByte:(jbyte)type {
  OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader_initWithOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withByte_(self, dictIn, offset, minWeight, maxWeight, type);
  return self;
}

- (OrgApacheLuceneSearchSuggestDocumentNRTSuggester *)suggester {
  @synchronized(self) {
    if (suggester_ == nil) {
      {
        OrgApacheLuceneStoreIndexInput *dictClone = [((OrgApacheLuceneStoreIndexInput *) nil_chk(dictIn_)) clone];
        JavaLangThrowable *__primaryException1 = nil;
        @try {
          [((OrgApacheLuceneStoreIndexInput *) nil_chk(dictClone)) seekWithLong:offset_];
          JreStrongAssign(&suggester_, OrgApacheLuceneSearchSuggestDocumentNRTSuggester_load__WithOrgApacheLuceneStoreIndexInput_(dictClone));
        }
        @catch (JavaLangThrowable *e) {
          __primaryException1 = e;
          @throw e;
        }
        @finally {
          if (dictClone != nil) {
            if (__primaryException1 != nil) {
              @try {
                [dictClone close];
              } @catch (JavaLangThrowable *e) {
                [__primaryException1 addSuppressedWithJavaLangThrowable:e];
              }
            } else {
              [dictClone close];
            }
          }
        }
      }
    }
    return suggester_;
  }
}

- (jlong)ramBytesUsed {
  return (suggester_ != nil) ? [suggester_ ramBytesUsed] : 0;
}

- (id<JavaUtilCollection>)getChildResources {
  return JavaUtilCollections_emptyList();
}

- (void)dealloc {
  RELEASE_(dictIn_);
  RELEASE_(suggester_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneStoreIndexInput:withLong:withLong:withLong:withByte:", "CompletionsTermsReader", NULL, 0x0, "Ljava.io.IOException;", NULL },
    { "suggester", NULL, "Lorg.apache.lucene.search.suggest.document.NRTSuggester;", 0x21, "Ljava.io.IOException;", NULL },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "minWeight_", NULL, 0x11, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "maxWeight_", NULL, 0x11, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "type_", NULL, 0x11, "B", NULL, NULL, .constantValue.asLong = 0 },
    { "dictIn_", NULL, 0x12, "Lorg.apache.lucene.store.IndexInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "offset_", NULL, 0x12, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "suggester_", NULL, 0x2, "Lorg.apache.lucene.search.suggest.document.NRTSuggester;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader = { 2, "CompletionsTermsReader", "org.apache.lucene.search.suggest.document", NULL, 0x11, 4, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader;
}

@end

void OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader_initWithOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withByte_(OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader *self, OrgApacheLuceneStoreIndexInput *dictIn, jlong offset, jlong minWeight, jlong maxWeight, jbyte type) {
  NSObject_init(self);
  JreAssert((minWeight <= maxWeight), (@"org/apache/lucene/search/suggest/document/CompletionsTermsReader.java:50 condition failed: assert minWeight <= maxWeight;"));
  JreAssert((offset >= 0l && offset < [((OrgApacheLuceneStoreIndexInput *) nil_chk(dictIn)) length]), (@"org/apache/lucene/search/suggest/document/CompletionsTermsReader.java:51 condition failed: assert offset >= 0l && offset < dictIn.length();"));
  JreStrongAssign(&self->dictIn_, dictIn);
  self->offset_ = offset;
  self->minWeight_ = minWeight;
  self->maxWeight_ = maxWeight;
  self->type_ = type;
}

OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader *new_OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader_initWithOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withByte_(OrgApacheLuceneStoreIndexInput *dictIn, jlong offset, jlong minWeight, jlong maxWeight, jbyte type) {
  OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader *self = [OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader alloc];
  OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader_initWithOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withByte_(self, dictIn, offset, minWeight, maxWeight, type);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestDocumentCompletionsTermsReader)
