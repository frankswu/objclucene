//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./suggest/src/java/org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "java/lang/CharSequence.h"
#include "java/lang/Character.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Long.h"
#include "java/lang/Math.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/Throwable.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/Comparator.h"
#include "java/util/HashSet.h"
#include "java/util/List.h"
#include "java/util/Set.h"
#include "org/apache/lucene/analysis/Analyzer.h"
#include "org/apache/lucene/analysis/AnalyzerWrapper.h"
#include "org/apache/lucene/analysis/TokenStream.h"
#include "org/apache/lucene/analysis/Tokenizer.h"
#include "org/apache/lucene/analysis/shingle/ShingleFilter.h"
#include "org/apache/lucene/analysis/tokenattributes/OffsetAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PositionIncrementAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PositionLengthAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/TermToBytesRefAttribute.h"
#include "org/apache/lucene/codecs/CodecUtil.h"
#include "org/apache/lucene/document/Document.h"
#include "org/apache/lucene/document/Field.h"
#include "org/apache/lucene/document/FieldType.h"
#include "org/apache/lucene/document/TextField.h"
#include "org/apache/lucene/index/DirectoryReader.h"
#include "org/apache/lucene/index/IndexOptions.h"
#include "org/apache/lucene/index/IndexReader.h"
#include "org/apache/lucene/index/IndexWriter.h"
#include "org/apache/lucene/index/IndexWriterConfig.h"
#include "org/apache/lucene/index/MultiFields.h"
#include "org/apache/lucene/index/Terms.h"
#include "org/apache/lucene/index/TermsEnum.h"
#include "org/apache/lucene/search/suggest/InputIterator.h"
#include "org/apache/lucene/search/suggest/Lookup.h"
#include "org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.h"
#include "org/apache/lucene/store/ByteArrayDataInput.h"
#include "org/apache/lucene/store/DataInput.h"
#include "org/apache/lucene/store/DataOutput.h"
#include "org/apache/lucene/store/Directory.h"
#include "org/apache/lucene/store/FSDirectory.h"
#include "org/apache/lucene/util/Accountable.h"
#include "org/apache/lucene/util/Accountables.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefBuilder.h"
#include "org/apache/lucene/util/CharsRefBuilder.h"
#include "org/apache/lucene/util/IOUtils.h"
#include "org/apache/lucene/util/IntsRef.h"
#include "org/apache/lucene/util/IntsRefBuilder.h"
#include "org/apache/lucene/util/fst/Builder.h"
#include "org/apache/lucene/util/fst/FST.h"
#include "org/apache/lucene/util/fst/Outputs.h"
#include "org/apache/lucene/util/fst/PositiveIntOutputs.h"
#include "org/apache/lucene/util/fst/Util.h"
#include "org/lukhnos/portmobile/file/Files.h"
#include "org/lukhnos/portmobile/file/Path.h"

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester () {
 @public
  OrgApacheLuceneUtilFstFST *fst_;
  OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer_;
  jlong totTokens_;
  OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer_;
  jint grams_;
  jbyte separator_;
  jlong count_;
}

- (OrgApacheLuceneAnalysisAnalyzer *)addShinglesWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)other;

- (jint)countGramsWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)token;

- (jlong)encodeWeightWithLong:(jlong)ngramCount;

- (jlong)decodeWeightWithJavaLangLong:(JavaLangLong *)output;

- (JavaLangLong *)lookupPrefixWithOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)fst
                  withOrgApacheLuceneUtilFstFST_BytesReader:(OrgApacheLuceneUtilFstFST_BytesReader *)bytesReader
                            withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)scratch
                          withOrgApacheLuceneUtilFstFST_Arc:(OrgApacheLuceneUtilFstFST_Arc *)arc;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester, fst_, OrgApacheLuceneUtilFstFST *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester, indexAnalyzer_, OrgApacheLuceneAnalysisAnalyzer *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester, queryAnalyzer_, OrgApacheLuceneAnalysisAnalyzer *)

__attribute__((unused)) static OrgApacheLuceneAnalysisAnalyzer *OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_addShinglesWithOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *other);

__attribute__((unused)) static jint OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneUtilBytesRef *token);

__attribute__((unused)) static jlong OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_encodeWeightWithLong_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, jlong ngramCount);

__attribute__((unused)) static jlong OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_decodeWeightWithJavaLangLong_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, JavaLangLong *output);

__attribute__((unused)) static JavaLangLong *OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_lookupPrefixWithOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilFstFST_BytesReader_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilFstFST_Arc_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneUtilFstFST *fst, OrgApacheLuceneUtilFstFST_BytesReader *bytesReader, OrgApacheLuceneUtilBytesRef *scratch, OrgApacheLuceneUtilFstFST_Arc *arc);

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator : NSObject < JavaUtilComparator > {
 @public
  OrgApacheLuceneStoreByteArrayDataInput *readerA_;
  OrgApacheLuceneStoreByteArrayDataInput *readerB_;
  OrgApacheLuceneUtilBytesRef *scratchA_;
  OrgApacheLuceneUtilBytesRef *scratchB_;
}

- (jint)compareWithId:(OrgApacheLuceneUtilBytesRef *)a
               withId:(OrgApacheLuceneUtilBytesRef *)b;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator, readerA_, OrgApacheLuceneStoreByteArrayDataInput *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator, readerB_, OrgApacheLuceneStoreByteArrayDataInput *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator, scratchA_, OrgApacheLuceneUtilBytesRef *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator, scratchB_, OrgApacheLuceneUtilBytesRef *)

__attribute__((unused)) static void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator *self);

__attribute__((unused)) static OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator)

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 : OrgApacheLuceneAnalysisAnalyzerWrapper {
 @public
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *this$0_;
  OrgApacheLuceneAnalysisAnalyzer *val$other_;
}

- (OrgApacheLuceneAnalysisAnalyzer *)getWrappedAnalyzerWithNSString:(NSString *)fieldName;

- (OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents *)wrapComponentsWithNSString:(NSString *)fieldName
                            withOrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents:(OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents *)components;

- (instancetype)initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)outer$
                                           withOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)capture$0
                             withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy:(OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2, this$0_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2, val$other_, OrgApacheLuceneAnalysisAnalyzer *)

__attribute__((unused)) static void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 *self, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneAnalysisAnalyzer *capture$0, OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *arg$0);

__attribute__((unused)) static OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneAnalysisAnalyzer *capture$0, OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *arg$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2)

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 : OrgApacheLuceneUtilFstUtil_TopNSearcher {
 @public
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *this$0_;
  OrgApacheLuceneUtilBytesRefBuilder *scratchBytes_;
  OrgApacheLuceneUtilBytesRefBuilder *val$finalLastToken_;
  id<JavaUtilSet> val$seen_;
}

- (void)addIfCompetitiveWithOrgApacheLuceneUtilFstUtil_FSTPath:(OrgApacheLuceneUtilFstUtil_FSTPath *)path;

- (jboolean)acceptResultWithOrgApacheLuceneUtilIntsRef:(OrgApacheLuceneUtilIntsRef *)input
                                                withId:(JavaLangLong *)output;

- (instancetype)initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)outer$
                                        withOrgApacheLuceneUtilBytesRefBuilder:(OrgApacheLuceneUtilBytesRefBuilder *)capture$0
                                                               withJavaUtilSet:(id<JavaUtilSet>)capture$1
                                                 withOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)arg$0
                                                                       withInt:(jint)arg$1
                                                                       withInt:(jint)arg$2
                                                        withJavaUtilComparator:(id<JavaUtilComparator>)arg$3;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3, this$0_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3, scratchBytes_, OrgApacheLuceneUtilBytesRefBuilder *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3, val$finalLastToken_, OrgApacheLuceneUtilBytesRefBuilder *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3, val$seen_, id<JavaUtilSet>)

__attribute__((unused)) static void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 *self, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneUtilBytesRefBuilder *capture$0, id<JavaUtilSet> capture$1, OrgApacheLuceneUtilFstFST *arg$0, jint arg$1, jint arg$2, id<JavaUtilComparator> arg$3);

__attribute__((unused)) static OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneUtilBytesRefBuilder *capture$0, id<JavaUtilSet> capture$1, OrgApacheLuceneUtilFstFST *arg$0, jint arg$1, jint arg$2, id<JavaUtilComparator> arg$3) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3)

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(OrgApacheLuceneSearchSuggestLookup_LookupResult *)a
               withId:(OrgApacheLuceneSearchSuggestLookup_LookupResult *)b;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4)

__attribute__((unused)) static void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 *self);

__attribute__((unused)) static OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4)

@interface OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(JavaLangLong *)left
               withId:(JavaLangLong *)right;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1)

__attribute__((unused)) static void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 *self);

__attribute__((unused)) static OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1)

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester)

NSString *OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_CODEC_NAME_ = @"freetextsuggest";
id<JavaUtilComparator> OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_weightComparator_;

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester

- (instancetype)initWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)analyzer {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_(self, analyzer);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)indexAnalyzer
                    withOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)queryAnalyzer {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_(self, indexAnalyzer, queryAnalyzer);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)indexAnalyzer
                    withOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)queryAnalyzer
                                                withInt:(jint)grams {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(self, indexAnalyzer, queryAnalyzer, grams);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)indexAnalyzer
                    withOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)queryAnalyzer
                                                withInt:(jint)grams
                                               withByte:(jbyte)separator {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_withByte_(self, indexAnalyzer, queryAnalyzer, grams, separator);
  return self;
}

- (jlong)ramBytesUsed {
  if (fst_ == nil) {
    return 0;
  }
  return [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) ramBytesUsed];
}

- (id<JavaUtilCollection>)getChildResources {
  if (fst_ == nil) {
    return JavaUtilCollections_emptyList();
  }
  else {
    return JavaUtilCollections_singletonListWithId_(OrgApacheLuceneUtilAccountables_namedAccountableWithNSString_withOrgApacheLuceneUtilAccountable_(@"fst", fst_));
  }
}

- (OrgApacheLuceneAnalysisAnalyzer *)addShinglesWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)other {
  return OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_addShinglesWithOrgApacheLuceneAnalysisAnalyzer_(self, other);
}

- (void)buildWithOrgApacheLuceneSearchSuggestInputIterator:(id<OrgApacheLuceneSearchSuggestInputIterator>)iterator {
  [self buildWithOrgApacheLuceneSearchSuggestInputIterator:iterator withDouble:OrgApacheLuceneIndexIndexWriterConfig_DEFAULT_RAM_BUFFER_SIZE_MB];
}

- (void)buildWithOrgApacheLuceneSearchSuggestInputIterator:(id<OrgApacheLuceneSearchSuggestInputIterator>)iterator
                                                withDouble:(jdouble)ramBufferSizeMB {
  if ([((id<OrgApacheLuceneSearchSuggestInputIterator>) nil_chk(iterator)) hasPayloads]) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"this suggester doesn't support payloads") autorelease];
  }
  if ([iterator hasContexts]) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"this suggester doesn't support contexts") autorelease];
  }
  NSString *prefix = [[self getClass] getSimpleName];
  OrgLukhnosPortmobileFilePath *tempIndexPath = OrgLukhnosPortmobileFileFiles_createTempDirectoryWithNSString_(JreStrcat("$$", prefix, @".index."));
  OrgApacheLuceneStoreDirectory *dir = OrgApacheLuceneStoreFSDirectory_openWithOrgLukhnosPortmobileFilePath_(tempIndexPath);
  OrgApacheLuceneIndexIndexWriterConfig *iwc = [new_OrgApacheLuceneIndexIndexWriterConfig_initWithOrgApacheLuceneAnalysisAnalyzer_(indexAnalyzer_) autorelease];
  [iwc setOpenModeWithOrgApacheLuceneIndexIndexWriterConfig_OpenModeEnum:JreLoadStatic(OrgApacheLuceneIndexIndexWriterConfig_OpenModeEnum, CREATE)];
  [iwc setRAMBufferSizeMBWithDouble:ramBufferSizeMB];
  OrgApacheLuceneIndexIndexWriter *writer = [new_OrgApacheLuceneIndexIndexWriter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexIndexWriterConfig_(dir, iwc) autorelease];
  OrgApacheLuceneDocumentFieldType *ft = [new_OrgApacheLuceneDocumentFieldType_initWithOrgApacheLuceneDocumentFieldType_(JreLoadStatic(OrgApacheLuceneDocumentTextField, TYPE_NOT_STORED_)) autorelease];
  [ft setIndexOptionsWithOrgApacheLuceneIndexIndexOptionsEnum:JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS)];
  [ft setOmitNormsWithBoolean:true];
  [ft freeze];
  OrgApacheLuceneDocumentDocument *doc = [new_OrgApacheLuceneDocumentDocument_init() autorelease];
  OrgApacheLuceneDocumentField *field = [new_OrgApacheLuceneDocumentField_initWithNSString_withNSString_withOrgApacheLuceneDocumentFieldType_(@"body", @"", ft) autorelease];
  [doc addWithOrgApacheLuceneIndexIndexableField:field];
  totTokens_ = 0;
  OrgApacheLuceneIndexIndexReader *reader = nil;
  jboolean success = false;
  count_ = 0;
  @try {
    while (true) {
      OrgApacheLuceneUtilBytesRef *surfaceForm = [iterator next];
      if (surfaceForm == nil) {
        break;
      }
      [field setStringValueWithNSString:[((OrgApacheLuceneUtilBytesRef *) nil_chk(surfaceForm)) utf8ToString]];
      [writer addDocumentWithJavaLangIterable:doc];
      count_++;
    }
    reader = OrgApacheLuceneIndexDirectoryReader_openWithOrgApacheLuceneIndexIndexWriter_withBoolean_(writer, false);
    OrgApacheLuceneIndexTerms *terms = OrgApacheLuceneIndexMultiFields_getTermsWithOrgApacheLuceneIndexIndexReader_withNSString_(reader, @"body");
    if (terms == nil) {
      @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"need at least one suggestion") autorelease];
    }
    OrgApacheLuceneIndexTermsEnum *termsEnum = [((OrgApacheLuceneIndexTerms *) nil_chk(terms)) iterator];
    OrgApacheLuceneUtilFstOutputs *outputs = OrgApacheLuceneUtilFstPositiveIntOutputs_getSingleton();
    OrgApacheLuceneUtilFstBuilder *builder = [new_OrgApacheLuceneUtilFstBuilder_initWithOrgApacheLuceneUtilFstFST_INPUT_TYPEEnum_withOrgApacheLuceneUtilFstOutputs_(JreLoadStatic(OrgApacheLuceneUtilFstFST_INPUT_TYPEEnum, BYTE1), outputs) autorelease];
    OrgApacheLuceneUtilIntsRefBuilder *scratchInts = [new_OrgApacheLuceneUtilIntsRefBuilder_init() autorelease];
    while (true) {
      OrgApacheLuceneUtilBytesRef *term = [((OrgApacheLuceneIndexTermsEnum *) nil_chk(termsEnum)) next];
      if (term == nil) {
        break;
      }
      jint ngramCount = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(self, term);
      if (ngramCount > grams_) {
        @throw [new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$@$I$I", @"tokens must not contain separator byte; got token=", term, @" but gramCount=", ngramCount, @", which is greater than expected max ngram size=", grams_)) autorelease];
      }
      if (ngramCount == 1) {
        totTokens_ += [termsEnum totalTermFreq];
      }
      [builder addWithOrgApacheLuceneUtilIntsRef:OrgApacheLuceneUtilFstUtil_toIntsRefWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilIntsRefBuilder_(term, scratchInts) withId:JavaLangLong_valueOfWithLong_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_encodeWeightWithLong_(self, [termsEnum totalTermFreq]))];
    }
    JreStrongAssign(&fst_, [builder finish]);
    if (fst_ == nil) {
      @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"need at least one suggestion") autorelease];
    }
    [writer rollback];
    success = true;
  }
  @finally {
    @try {
      if (success) {
        OrgApacheLuceneUtilIOUtils_closeWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ reader, dir } count:2 type:JavaIoCloseable_class_()]);
      }
      else {
        OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ reader, writer, dir } count:3 type:JavaIoCloseable_class_()]);
      }
    }
    @finally {
      OrgApacheLuceneUtilIOUtils_rmWithOrgLukhnosPortmobileFilePathArray_([IOSObjectArray arrayWithObjects:(id[]){ tempIndexPath } count:1 type:OrgLukhnosPortmobileFilePath_class_()]);
    }
  }
}

- (jboolean)storeWithOrgApacheLuceneStoreDataOutput:(OrgApacheLuceneStoreDataOutput *)output {
  OrgApacheLuceneCodecsCodecUtil_writeHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_(output, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_CODEC_NAME_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_VERSION_CURRENT);
  [((OrgApacheLuceneStoreDataOutput *) nil_chk(output)) writeVLongWithLong:count_];
  [output writeByteWithByte:separator_];
  [output writeVIntWithInt:grams_];
  [output writeVLongWithLong:totTokens_];
  [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) saveWithOrgApacheLuceneStoreDataOutput:output];
  return true;
}

- (jboolean)load__WithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)input {
  OrgApacheLuceneCodecsCodecUtil_checkHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(input, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_CODEC_NAME_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_VERSION_START, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_VERSION_START);
  count_ = [((OrgApacheLuceneStoreDataInput *) nil_chk(input)) readVLong];
  jbyte separatorOrig = [input readByte];
  if (separatorOrig != separator_) {
    @throw [new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$B$B", @"separator=", separator_, @" is incorrect: original model was built with separator=", separatorOrig)) autorelease];
  }
  jint gramsOrig = [input readVInt];
  if (gramsOrig != grams_) {
    @throw [new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$I$I", @"grams=", grams_, @" is incorrect: original model was built with grams=", gramsOrig)) autorelease];
  }
  totTokens_ = [input readVLong];
  JreStrongAssignAndConsume(&fst_, new_OrgApacheLuceneUtilFstFST_initWithOrgApacheLuceneStoreDataInput_withOrgApacheLuceneUtilFstOutputs_(input, OrgApacheLuceneUtilFstPositiveIntOutputs_getSingleton()));
  return true;
}

- (id<JavaUtilList>)lookupWithJavaLangCharSequence:(id<JavaLangCharSequence>)key
                                       withBoolean:(jboolean)onlyMorePopular
                                           withInt:(jint)num {
  return [self lookupWithJavaLangCharSequence:key withJavaUtilSet:nil withBoolean:onlyMorePopular withInt:num];
}

- (id<JavaUtilList>)lookupWithJavaLangCharSequence:(id<JavaLangCharSequence>)key
                                           withInt:(jint)num {
  return [self lookupWithJavaLangCharSequence:key withJavaUtilSet:nil withBoolean:true withInt:num];
}

- (id<JavaUtilList>)lookupWithJavaLangCharSequence:(id<JavaLangCharSequence>)key
                                   withJavaUtilSet:(id<JavaUtilSet>)contexts
                                       withBoolean:(jboolean)onlyMorePopular
                                           withInt:(jint)num {
  @try {
    return [self lookupWithJavaLangCharSequence:key withJavaUtilSet:contexts withInt:num];
  }
  @catch (JavaIoIOException *ioe) {
    @throw [new_JavaLangRuntimeException_initWithJavaLangThrowable_(ioe) autorelease];
  }
}

- (jlong)getCount {
  return count_;
}

- (jint)countGramsWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)token {
  return OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(self, token);
}

- (id<JavaUtilList>)lookupWithJavaLangCharSequence:(id<JavaLangCharSequence>)key
                                   withJavaUtilSet:(id<JavaUtilSet>)contexts
                                           withInt:(jint)num {
  if (contexts != nil) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"this suggester doesn't support contexts") autorelease];
  }
  if (fst_ == nil) {
    @throw [new_JavaLangIllegalStateException_initWithNSString_(@"Lookup not supported at this time") autorelease];
  }
  {
    OrgApacheLuceneAnalysisTokenStream *ts = [((OrgApacheLuceneAnalysisAnalyzer *) nil_chk(queryAnalyzer_)) tokenStreamWithNSString:@"" withNSString:[((id<JavaLangCharSequence>) nil_chk(key)) description]];
    JavaLangThrowable *__primaryException1 = nil;
    @try {
      id<OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute> termBytesAtt = [((OrgApacheLuceneAnalysisTokenStream *) nil_chk(ts)) addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute> offsetAtt = [ts addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesOffsetAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesPositionLengthAttribute> posLenAtt = [ts addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPositionLengthAttribute_class_()];
      id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute> posIncAtt = [ts addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute_class_()];
      [ts reset];
      IOSObjectArray *lastTokens = [IOSObjectArray arrayWithLength:grams_ type:OrgApacheLuceneUtilBytesRefBuilder_class_()];
      jint maxEndOffset = -1;
      jboolean sawRealToken = false;
      while ([ts incrementToken]) {
        OrgApacheLuceneUtilBytesRef *tokenBytes = [((id<OrgApacheLuceneAnalysisTokenattributesTermToBytesRefAttribute>) nil_chk(termBytesAtt)) getBytesRef];
        sawRealToken |= (((OrgApacheLuceneUtilBytesRef *) nil_chk(tokenBytes))->length_ > 0);
        jint gramCount = [((id<OrgApacheLuceneAnalysisTokenattributesPositionLengthAttribute>) nil_chk(posLenAtt)) getPositionLength];
        JreAssert((gramCount <= grams_), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:498 condition failed: assert gramCount <= grams;"));
        if (OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(self, tokenBytes) != gramCount) {
          @throw [new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$@$I$I", @"tokens must not contain separator byte; got token=", tokenBytes, @" but gramCount=", gramCount, @" does not match recalculated count=", OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(self, tokenBytes))) autorelease];
        }
        maxEndOffset = JavaLangMath_maxWithInt_withInt_(maxEndOffset, [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAtt)) endOffset]);
        OrgApacheLuceneUtilBytesRefBuilder *b = [new_OrgApacheLuceneUtilBytesRefBuilder_init() autorelease];
        [b appendWithOrgApacheLuceneUtilBytesRef:tokenBytes];
        IOSObjectArray_Set(lastTokens, gramCount - 1, b);
      }
      [ts end];
      if (!sawRealToken) {
        @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"no tokens produced by analyzer, or the only tokens were empty strings") autorelease];
      }
      jint endPosInc = [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncAtt)) getPositionIncrement];
      jboolean lastTokenEnded = [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAtt)) endOffset] > maxEndOffset || endPosInc > 0;
      if (lastTokenEnded) {
        for (jint i = grams_ - 1; i > 0; i--) {
          OrgApacheLuceneUtilBytesRefBuilder *token = IOSObjectArray_Get(lastTokens, i - 1);
          if (token == nil) {
            continue;
          }
          [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(token)) appendWithByte:separator_];
          IOSObjectArray_Set(lastTokens, i, token);
        }
        IOSObjectArray_SetAndConsume(lastTokens, 0, new_OrgApacheLuceneUtilBytesRefBuilder_init());
      }
      OrgApacheLuceneUtilFstFST_Arc *arc = [new_OrgApacheLuceneUtilFstFST_Arc_init() autorelease];
      OrgApacheLuceneUtilFstFST_BytesReader *bytesReader = [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) getBytesReader];
      jdouble backoff = 1.0;
      id<JavaUtilList> results = [new_JavaUtilArrayList_initWithInt_(num) autorelease];
      id<JavaUtilSet> seen = [new_JavaUtilHashSet_init() autorelease];
      for (jint gram = grams_ - 1; gram >= 0; gram--) {
        OrgApacheLuceneUtilBytesRefBuilder *token = IOSObjectArray_Get(lastTokens, gram);
        if (token == nil || ([token length] == 0 && [key length] > 0)) {
          continue;
        }
        if (endPosInc > 0 && gram <= endPosInc) {
          break;
        }
        JavaLangLong *prefixOutput = nil;
        @try {
          prefixOutput = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_lookupPrefixWithOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilFstFST_BytesReader_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilFstFST_Arc_(self, fst_, bytesReader, [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(token)) get], arc);
        }
        @catch (JavaIoIOException *bogus) {
          @throw [new_JavaLangRuntimeException_initWithJavaLangThrowable_(bogus) autorelease];
        }
        if (prefixOutput == nil) {
          JreTimesAssignDoubleD(&backoff, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_ALPHA);
          continue;
        }
        jlong contextCount = totTokens_;
        OrgApacheLuceneUtilBytesRef *lastTokenFragment = nil;
        for (jint i = [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(token)) length] - 1; i >= 0; i--) {
          if ([token byteAtWithInt:i] == separator_) {
            OrgApacheLuceneUtilBytesRef *context = [new_OrgApacheLuceneUtilBytesRef_initWithByteArray_withInt_withInt_([token bytes], 0, i) autorelease];
            JavaLangLong *output = OrgApacheLuceneUtilFstUtil_getWithOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilIntsRef_(fst_, OrgApacheLuceneUtilFstUtil_toIntsRefWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilIntsRefBuilder_(context, [new_OrgApacheLuceneUtilIntsRefBuilder_init() autorelease]));
            JreAssert((output != nil), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:610 condition failed: assert output != null;"));
            contextCount = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_decodeWeightWithJavaLangLong_(self, output);
            lastTokenFragment = [new_OrgApacheLuceneUtilBytesRef_initWithByteArray_withInt_withInt_([token bytes], i + 1, [token length] - i - 1) autorelease];
            break;
          }
        }
        OrgApacheLuceneUtilBytesRefBuilder *finalLastToken = [new_OrgApacheLuceneUtilBytesRefBuilder_init() autorelease];
        if (lastTokenFragment == nil) {
          [finalLastToken copyBytesWithOrgApacheLuceneUtilBytesRef:[token get]];
        }
        else {
          [finalLastToken copyBytesWithOrgApacheLuceneUtilBytesRef:lastTokenFragment];
        }
        OrgApacheLuceneUtilCharsRefBuilder *spare = [new_OrgApacheLuceneUtilCharsRefBuilder_init() autorelease];
        OrgApacheLuceneUtilFstUtil_TopResults *completions = nil;
        @try {
          OrgApacheLuceneUtilFstUtil_TopNSearcher *searcher = [new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(self, finalLastToken, seen, fst_, num, num + [seen size], OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_weightComparator_) autorelease];
          [searcher addStartPathsWithOrgApacheLuceneUtilFstFST_Arc:arc withId:prefixOutput withBoolean:true withOrgApacheLuceneUtilIntsRefBuilder:[new_OrgApacheLuceneUtilIntsRefBuilder_init() autorelease]];
          completions = [searcher search];
          JreAssert((((OrgApacheLuceneUtilFstUtil_TopResults *) nil_chk(completions))->isComplete_), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:674 condition failed: assert completions.isComplete;"));
        }
        @catch (JavaIoIOException *bogus) {
          @throw [new_JavaLangRuntimeException_initWithJavaLangThrowable_(bogus) autorelease];
        }
        jint prefixLength = [token length];
        OrgApacheLuceneUtilBytesRefBuilder *suffix = [new_OrgApacheLuceneUtilBytesRefBuilder_init() autorelease];
        for (OrgApacheLuceneUtilFstUtil_Result * __strong completion in nil_chk(completions)) {
          {
            [token setLengthWithInt:prefixLength];
            OrgApacheLuceneUtilFstUtil_toBytesRefWithOrgApacheLuceneUtilIntsRef_withOrgApacheLuceneUtilBytesRefBuilder_(((OrgApacheLuceneUtilFstUtil_Result *) nil_chk(completion))->input_, suffix);
            [token appendWithOrgApacheLuceneUtilBytesRefBuilder:suffix];
            OrgApacheLuceneUtilBytesRef *lastToken = [token get];
            for (jint i = [token length] - 1; i >= 0; i--) {
              if ([token byteAtWithInt:i] == separator_) {
                JreAssert(([token length] - i - 1 > 0), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:698 condition failed: assert token.length()-i-1 > 0;"));
                lastToken = [new_OrgApacheLuceneUtilBytesRef_initWithByteArray_withInt_withInt_([token bytes], i + 1, [token length] - i - 1) autorelease];
                break;
              }
            }
            if ([seen containsWithId:lastToken]) {
              goto continue_nextCompletion;
            }
            [seen addWithId:OrgApacheLuceneUtilBytesRef_deepCopyOfWithOrgApacheLuceneUtilBytesRef_(lastToken)];
            [spare copyUTF8BytesWithOrgApacheLuceneUtilBytesRef:[token get]];
            OrgApacheLuceneSearchSuggestLookup_LookupResult *result = [new_OrgApacheLuceneSearchSuggestLookup_LookupResult_initWithJavaLangCharSequence_withLong_([spare description], JreFpToLong((JavaLangLong_MAX_VALUE * backoff * ((jdouble) OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_decodeWeightWithJavaLangLong_(self, completion->output_)) / contextCount))) autorelease];
            [results addWithId:result];
            JreAssert(([results size] == [seen size]), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:711 condition failed: assert results.size() == seen.size();"));
          }
          continue_nextCompletion: ;
        }
        JreTimesAssignDoubleD(&backoff, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_ALPHA);
      }
      JavaUtilCollections_sortWithJavaUtilList_withJavaUtilComparator_(results, [new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init() autorelease]);
      if ([results size] > num) {
        [((id<JavaUtilList>) nil_chk([results subListWithInt:num withInt:[results size]])) clear];
      }
      return results;
    }
    @catch (JavaLangThrowable *e) {
      __primaryException1 = e;
      @throw e;
    }
    @finally {
      if (ts != nil) {
        if (__primaryException1 != nil) {
          @try {
            [ts close];
          } @catch (JavaLangThrowable *e) {
            [__primaryException1 addSuppressedWithJavaLangThrowable:e];
          }
        } else {
          [ts close];
        }
      }
    }
  }
}

- (jlong)encodeWeightWithLong:(jlong)ngramCount {
  return OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_encodeWeightWithLong_(self, ngramCount);
}

- (jlong)decodeWeightWithJavaLangLong:(JavaLangLong *)output {
  return OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_decodeWeightWithJavaLangLong_(self, output);
}

- (JavaLangLong *)lookupPrefixWithOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)fst
                  withOrgApacheLuceneUtilFstFST_BytesReader:(OrgApacheLuceneUtilFstFST_BytesReader *)bytesReader
                            withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)scratch
                          withOrgApacheLuceneUtilFstFST_Arc:(OrgApacheLuceneUtilFstFST_Arc *)arc {
  return OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_lookupPrefixWithOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilFstFST_BytesReader_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilFstFST_Arc_(self, fst, bytesReader, scratch, arc);
}

- (id)getWithJavaLangCharSequence:(id<JavaLangCharSequence>)key {
  @throw [new_JavaLangUnsupportedOperationException_init() autorelease];
}

- (void)dealloc {
  RELEASE_(fst_);
  RELEASE_(indexAnalyzer_);
  RELEASE_(queryAnalyzer_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_weightComparator_, new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init());
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneAnalysisAnalyzer:", "FreeTextSuggester", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneAnalysisAnalyzer:withOrgApacheLuceneAnalysisAnalyzer:", "FreeTextSuggester", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneAnalysisAnalyzer:withOrgApacheLuceneAnalysisAnalyzer:withInt:", "FreeTextSuggester", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneAnalysisAnalyzer:withOrgApacheLuceneAnalysisAnalyzer:withInt:withByte:", "FreeTextSuggester", NULL, 0x1, NULL, NULL },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "addShinglesWithOrgApacheLuceneAnalysisAnalyzer:", "addShingles", "Lorg.apache.lucene.analysis.Analyzer;", 0x2, NULL, NULL },
    { "buildWithOrgApacheLuceneSearchSuggestInputIterator:", "build", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "buildWithOrgApacheLuceneSearchSuggestInputIterator:withDouble:", "build", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "storeWithOrgApacheLuceneStoreDataOutput:", "store", "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "load__WithOrgApacheLuceneStoreDataInput:", "load", "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "lookupWithJavaLangCharSequence:withBoolean:withInt:", "lookup", "Ljava.util.List;", 0x1, NULL, NULL },
    { "lookupWithJavaLangCharSequence:withInt:", "lookup", "Ljava.util.List;", 0x1, NULL, NULL },
    { "lookupWithJavaLangCharSequence:withJavaUtilSet:withBoolean:withInt:", "lookup", "Ljava.util.List;", 0x1, NULL, NULL },
    { "getCount", NULL, "J", 0x1, NULL, NULL },
    { "countGramsWithOrgApacheLuceneUtilBytesRef:", "countGrams", "I", 0x2, NULL, NULL },
    { "lookupWithJavaLangCharSequence:withJavaUtilSet:withInt:", "lookup", "Ljava.util.List;", 0x1, "Ljava.io.IOException;", NULL },
    { "encodeWeightWithLong:", "encodeWeight", "J", 0x2, NULL, NULL },
    { "decodeWeightWithJavaLangLong:", "decodeWeight", "J", 0x2, NULL, NULL },
    { "lookupPrefixWithOrgApacheLuceneUtilFstFST:withOrgApacheLuceneUtilFstFST_BytesReader:withOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneUtilFstFST_Arc:", "lookupPrefix", "Ljava.lang.Long;", 0x2, "Ljava.io.IOException;", NULL },
    { "getWithJavaLangCharSequence:", "get", "Ljava.lang.Object;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "CODEC_NAME_", NULL, 0x19, "Ljava.lang.String;", &OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_CODEC_NAME_, NULL, .constantValue.asLong = 0 },
    { "VERSION_START", "VERSION_START", 0x19, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_VERSION_START },
    { "VERSION_CURRENT", "VERSION_CURRENT", 0x19, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_VERSION_CURRENT },
    { "DEFAULT_GRAMS", "DEFAULT_GRAMS", 0x19, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_DEFAULT_GRAMS },
    { "ALPHA", "ALPHA", 0x19, "D", NULL, NULL, .constantValue.asDouble = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_ALPHA },
    { "fst_", NULL, 0x2, "Lorg.apache.lucene.util.fst.FST;", NULL, "Lorg/apache/lucene/util/fst/FST<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "indexAnalyzer_", NULL, 0x12, "Lorg.apache.lucene.analysis.Analyzer;", NULL, NULL, .constantValue.asLong = 0 },
    { "totTokens_", NULL, 0x2, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "queryAnalyzer_", NULL, 0x12, "Lorg.apache.lucene.analysis.Analyzer;", NULL, NULL, .constantValue.asLong = 0 },
    { "grams_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "separator_", NULL, 0x12, "B", NULL, NULL, .constantValue.asLong = 0 },
    { "count_", NULL, 0x2, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "DEFAULT_SEPARATOR", "DEFAULT_SEPARATOR", 0x19, "B", NULL, NULL, .constantValue.asChar = OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_DEFAULT_SEPARATOR },
    { "weightComparator_", NULL, 0x18, "Ljava.util.Comparator;", &OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_weightComparator_, "Ljava/util/Comparator<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.search.suggest.analyzing.FreeTextSuggester$AnalyzingComparator;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester = { 2, "FreeTextSuggester", "org.apache.lucene.search.suggest.analyzing", NULL, 0x1, 21, methods, 14, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *analyzer) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(self, analyzer, analyzer, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_DEFAULT_GRAMS);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneAnalysisAnalyzer *analyzer) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_(self, analyzer);
  return self;
}

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(self, indexAnalyzer, queryAnalyzer, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_DEFAULT_GRAMS);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_(self, indexAnalyzer, queryAnalyzer);
  return self;
}

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer, jint grams) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_withByte_(self, indexAnalyzer, queryAnalyzer, grams, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_DEFAULT_SEPARATOR);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer, jint grams) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_(self, indexAnalyzer, queryAnalyzer, grams);
  return self;
}

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_withByte_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer, jint grams, jbyte separator) {
  OrgApacheLuceneSearchSuggestLookup_init(self);
  self->count_ = 0;
  self->grams_ = grams;
  JreStrongAssign(&self->indexAnalyzer_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_addShinglesWithOrgApacheLuceneAnalysisAnalyzer_(self, indexAnalyzer));
  JreStrongAssign(&self->queryAnalyzer_, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_addShinglesWithOrgApacheLuceneAnalysisAnalyzer_(self, queryAnalyzer));
  if (grams < 1) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"grams must be >= 1") autorelease];
  }
  if ((separator & (jint) 0x80) != 0) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"separator must be simple ascii character") autorelease];
  }
  self->separator_ = separator;
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_withByte_(OrgApacheLuceneAnalysisAnalyzer *indexAnalyzer, OrgApacheLuceneAnalysisAnalyzer *queryAnalyzer, jint grams, jbyte separator) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_initWithOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_withInt_withByte_(self, indexAnalyzer, queryAnalyzer, grams, separator);
  return self;
}

OrgApacheLuceneAnalysisAnalyzer *OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_addShinglesWithOrgApacheLuceneAnalysisAnalyzer_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneAnalysisAnalyzer *other) {
  if (self->grams_ == 1) {
    return other;
  }
  else {
    return [new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(self, other, [((OrgApacheLuceneAnalysisAnalyzer *) nil_chk(other)) getReuseStrategy]) autorelease];
  }
}

jint OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_countGramsWithOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneUtilBytesRef *token) {
  jint count = 1;
  for (jint i = 0; i < ((OrgApacheLuceneUtilBytesRef *) nil_chk(token))->length_; i++) {
    if (IOSByteArray_Get(nil_chk(token->bytes_), token->offset_ + i) == self->separator_) {
      count++;
    }
  }
  return count;
}

jlong OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_encodeWeightWithLong_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, jlong ngramCount) {
  return JavaLangLong_MAX_VALUE - ngramCount;
}

jlong OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_decodeWeightWithJavaLangLong_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, JavaLangLong *output) {
  JreAssert((output != nil), (@"org/apache/lucene/search/suggest/analyzing/FreeTextSuggester.java:747 condition failed: assert output != null;"));
  return (jint) (JavaLangLong_MAX_VALUE - [((JavaLangLong *) nil_chk(output)) longLongValue]);
}

JavaLangLong *OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_lookupPrefixWithOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilFstFST_BytesReader_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilFstFST_Arc_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *self, OrgApacheLuceneUtilFstFST *fst, OrgApacheLuceneUtilFstFST_BytesReader *bytesReader, OrgApacheLuceneUtilBytesRef *scratch, OrgApacheLuceneUtilFstFST_Arc *arc) {
  JavaLangLong *output = [((OrgApacheLuceneUtilFstOutputs *) nil_chk(((OrgApacheLuceneUtilFstFST *) nil_chk(fst))->outputs_)) getNoOutput];
  [fst getFirstArcWithOrgApacheLuceneUtilFstFST_Arc:arc];
  IOSByteArray *bytes = ((OrgApacheLuceneUtilBytesRef *) nil_chk(scratch))->bytes_;
  jint pos = scratch->offset_;
  jint end = pos + scratch->length_;
  while (pos < end) {
    if ([fst findTargetArcWithInt:IOSByteArray_Get(nil_chk(bytes), pos++) & (jint) 0xff withOrgApacheLuceneUtilFstFST_Arc:arc withOrgApacheLuceneUtilFstFST_Arc:arc withOrgApacheLuceneUtilFstFST_BytesReader:bytesReader] == nil) {
      return nil;
    }
    else {
      output = [fst->outputs_ addWithId:output withId:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(arc))->output_];
    }
  }
  return output;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester)

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator

- (jint)compareWithId:(OrgApacheLuceneUtilBytesRef *)a
               withId:(OrgApacheLuceneUtilBytesRef *)b {
  [((OrgApacheLuceneStoreByteArrayDataInput *) nil_chk(readerA_)) resetWithByteArray:((OrgApacheLuceneUtilBytesRef *) nil_chk(a))->bytes_ withInt:a->offset_ withInt:a->length_];
  [((OrgApacheLuceneStoreByteArrayDataInput *) nil_chk(readerB_)) resetWithByteArray:((OrgApacheLuceneUtilBytesRef *) nil_chk(b))->bytes_ withInt:b->offset_ withInt:b->length_];
  ((OrgApacheLuceneUtilBytesRef *) nil_chk(scratchA_))->length_ = [readerA_ readShort];
  JreStrongAssign(&scratchA_->bytes_, a->bytes_);
  scratchA_->offset_ = [readerA_ getPosition];
  JreStrongAssign(&((OrgApacheLuceneUtilBytesRef *) nil_chk(scratchB_))->bytes_, b->bytes_);
  scratchB_->length_ = [readerB_ readShort];
  scratchB_->offset_ = [readerB_ getPosition];
  jint cmp = [scratchA_ compareToWithId:scratchB_];
  if (cmp != 0) {
    return cmp;
  }
  [readerA_ skipBytesWithLong:scratchA_->length_];
  [readerB_ skipBytesWithLong:scratchB_->length_];
  cmp = a->length_ - b->length_;
  if (cmp != 0) {
    return cmp;
  }
  scratchA_->offset_ = [readerA_ getPosition];
  scratchA_->length_ = a->length_ - scratchA_->offset_;
  scratchB_->offset_ = [readerB_ getPosition];
  scratchB_->length_ = b->length_ - scratchB_->offset_;
  return [scratchA_ compareToWithId:scratchB_];
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(readerA_);
  RELEASE_(readerB_);
  RELEASE_(scratchA_);
  RELEASE_(scratchB_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", NULL, NULL, 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "readerA_", NULL, 0x12, "Lorg.apache.lucene.store.ByteArrayDataInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "readerB_", NULL, 0x12, "Lorg.apache.lucene.store.ByteArrayDataInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "scratchA_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "scratchB_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator = { 2, "AnalyzingComparator", "org.apache.lucene.search.suggest.analyzing", "FreeTextSuggester", 0xa, 2, methods, 4, fields, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/apache/lucene/util/BytesRef;>;" };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->readerA_, new_OrgApacheLuceneStoreByteArrayDataInput_init());
  JreStrongAssignAndConsume(&self->readerB_, new_OrgApacheLuceneStoreByteArrayDataInput_init());
  JreStrongAssignAndConsume(&self->scratchA_, new_OrgApacheLuceneUtilBytesRef_init());
  JreStrongAssignAndConsume(&self->scratchB_, new_OrgApacheLuceneUtilBytesRef_init());
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init() {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_AnalyzingComparator)

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2

- (OrgApacheLuceneAnalysisAnalyzer *)getWrappedAnalyzerWithNSString:(NSString *)fieldName {
  return val$other_;
}

- (OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents *)wrapComponentsWithNSString:(NSString *)fieldName
                            withOrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents:(OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents *)components {
  OrgApacheLuceneAnalysisShingleShingleFilter *shingles = [new_OrgApacheLuceneAnalysisShingleShingleFilter_initWithOrgApacheLuceneAnalysisTokenStream_withInt_withInt_([((OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents *) nil_chk(components)) getTokenStream], 2, this$0_->grams_) autorelease];
  [shingles setTokenSeparatorWithNSString:JavaLangCharacter_toStringWithChar_((jchar) this$0_->separator_)];
  return [new_OrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents_initWithOrgApacheLuceneAnalysisTokenizer_withOrgApacheLuceneAnalysisTokenStream_([components getTokenizer], shingles) autorelease];
}

- (instancetype)initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)outer$
                                           withOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)capture$0
                             withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy:(OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *)arg$0 {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(self, outer$, capture$0, arg$0);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$other_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getWrappedAnalyzerWithNSString:", "getWrappedAnalyzer", "Lorg.apache.lucene.analysis.Analyzer;", 0x4, NULL, NULL },
    { "wrapComponentsWithNSString:withOrgApacheLuceneAnalysisAnalyzer_TokenStreamComponents:", "wrapComponents", "Lorg.apache.lucene.analysis.Analyzer$TokenStreamComponents;", 0x4, NULL, NULL },
    { "initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:withOrgApacheLuceneAnalysisAnalyzer:withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.search.suggest.analyzing.FreeTextSuggester;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$other_", NULL, 0x1012, "Lorg.apache.lucene.analysis.Analyzer;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester", "addShinglesWithOrgApacheLuceneAnalysisAnalyzer:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 = { 2, "", "org.apache.lucene.search.suggest.analyzing", "FreeTextSuggester", 0x8008, 3, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 *self, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneAnalysisAnalyzer *capture$0, OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *arg$0) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$other_, capture$0);
  OrgApacheLuceneAnalysisAnalyzerWrapper_initWithOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(self, arg$0);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneAnalysisAnalyzer *capture$0, OrgApacheLuceneAnalysisAnalyzer_ReuseStrategy *arg$0) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2 alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneAnalysisAnalyzer_withOrgApacheLuceneAnalysisAnalyzer_ReuseStrategy_(self, outer$, capture$0, arg$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$2)

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3

- (void)addIfCompetitiveWithOrgApacheLuceneUtilFstUtil_FSTPath:(OrgApacheLuceneUtilFstUtil_FSTPath *)path {
  if (((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneUtilFstUtil_FSTPath *) nil_chk(path))->arc_))->label_ != this$0_->separator_) {
    [super addIfCompetitiveWithOrgApacheLuceneUtilFstUtil_FSTPath:path];
  }
  else {
  }
}

- (jboolean)acceptResultWithOrgApacheLuceneUtilIntsRef:(OrgApacheLuceneUtilIntsRef *)input
                                                withId:(JavaLangLong *)output {
  OrgApacheLuceneUtilFstUtil_toBytesRefWithOrgApacheLuceneUtilIntsRef_withOrgApacheLuceneUtilBytesRefBuilder_(input, scratchBytes_);
  [val$finalLastToken_ growWithInt:[((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(val$finalLastToken_)) length] + [((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(scratchBytes_)) length]];
  jint lenSav = [val$finalLastToken_ length];
  [val$finalLastToken_ appendWithOrgApacheLuceneUtilBytesRefBuilder:scratchBytes_];
  jboolean ret = [((id<JavaUtilSet>) nil_chk(val$seen_)) containsWithId:[val$finalLastToken_ get]] == false;
  [val$finalLastToken_ setLengthWithInt:lenSav];
  return ret;
}

- (instancetype)initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *)outer$
                                        withOrgApacheLuceneUtilBytesRefBuilder:(OrgApacheLuceneUtilBytesRefBuilder *)capture$0
                                                               withJavaUtilSet:(id<JavaUtilSet>)capture$1
                                                 withOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)arg$0
                                                                       withInt:(jint)arg$1
                                                                       withInt:(jint)arg$2
                                                        withJavaUtilComparator:(id<JavaUtilComparator>)arg$3 {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(self, outer$, capture$0, capture$1, arg$0, arg$1, arg$2, arg$3);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(scratchBytes_);
  RELEASE_(val$finalLastToken_);
  RELEASE_(val$seen_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "addIfCompetitiveWithOrgApacheLuceneUtilFstUtil_FSTPath:", "addIfCompetitive", "V", 0x4, NULL, NULL },
    { "acceptResultWithOrgApacheLuceneUtilIntsRef:withId:", "acceptResult", "Z", 0x4, NULL, NULL },
    { "initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester:withOrgApacheLuceneUtilBytesRefBuilder:withJavaUtilSet:withOrgApacheLuceneUtilFstFST:withInt:withInt:withJavaUtilComparator:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.search.suggest.analyzing.FreeTextSuggester;", NULL, NULL, .constantValue.asLong = 0 },
    { "scratchBytes_", NULL, 0x0, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$finalLastToken_", NULL, 0x1012, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$seen_", NULL, 0x1012, "Ljava.util.Set;", NULL, "Ljava/util/Set<Lorg/apache/lucene/util/BytesRef;>;", .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"Ljava.lang.Long;"};
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester", "lookupWithJavaLangCharSequence:withJavaUtilSet:withInt:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 = { 2, "", "org.apache.lucene.search.suggest.analyzing", "FreeTextSuggester", 0x8008, 3, methods, 4, fields, 1, superclass_type_args, 0, NULL, &enclosing_method, "Lorg/apache/lucene/util/fst/Util$TopNSearcher<Ljava/lang/Long;>;" };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 *self, OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneUtilBytesRefBuilder *capture$0, id<JavaUtilSet> capture$1, OrgApacheLuceneUtilFstFST *arg$0, jint arg$1, jint arg$2, id<JavaUtilComparator> arg$3) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$finalLastToken_, capture$0);
  JreStrongAssign(&self->val$seen_, capture$1);
  OrgApacheLuceneUtilFstUtil_TopNSearcher_initWithOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(self, arg$0, arg$1, arg$2, arg$3);
  JreStrongAssignAndConsume(&self->scratchBytes_, new_OrgApacheLuceneUtilBytesRefBuilder_init());
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester *outer$, OrgApacheLuceneUtilBytesRefBuilder *capture$0, id<JavaUtilSet> capture$1, OrgApacheLuceneUtilFstFST *arg$0, jint arg$1, jint arg$2, id<JavaUtilComparator> arg$3) {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3 alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3_initWithOrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_withOrgApacheLuceneUtilBytesRefBuilder_withJavaUtilSet_withOrgApacheLuceneUtilFstFST_withInt_withInt_withJavaUtilComparator_(self, outer$, capture$0, capture$1, arg$0, arg$1, arg$2, arg$3);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$3)

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4

- (jint)compareWithId:(OrgApacheLuceneSearchSuggestLookup_LookupResult *)a
               withId:(OrgApacheLuceneSearchSuggestLookup_LookupResult *)b {
  if (((OrgApacheLuceneSearchSuggestLookup_LookupResult *) nil_chk(a))->value_ > ((OrgApacheLuceneSearchSuggestLookup_LookupResult *) nil_chk(b))->value_) {
    return -1;
  }
  else if (a->value_ < b->value_) {
    return 1;
  }
  else {
    return [((NSString *) nil_chk(((NSString *) check_class_cast(a->key_, [NSString class])))) compareToWithId:(NSString *) check_class_cast(b->key_, [NSString class])];
  }
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester", "lookupWithJavaLangCharSequence:withJavaUtilSet:withInt:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 = { 2, "", "org.apache.lucene.search.suggest.analyzing", "FreeTextSuggester", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/apache/lucene/search/suggest/Lookup$LookupResult;>;" };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init() {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4 alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$4)

@implementation OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1

- (jint)compareWithId:(JavaLangLong *)left
               withId:(JavaLangLong *)right {
  return [((JavaLangLong *) nil_chk(left)) compareToWithId:right];
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 = { 2, "", "org.apache.lucene.search.suggest.analyzing", "FreeTextSuggester", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Ljava/util/Comparator<Ljava/lang/Long;>;" };
  return &_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1;
}

@end

void OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 *new_OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init() {
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 *self = [OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1 alloc];
  OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestAnalyzingFreeTextSuggester_$1)
