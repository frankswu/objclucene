//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./grouping/src/java/org/apache/lucene/search/grouping/function/FunctionFirstPassGroupingCollector.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/util/Map.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/queries/function/FunctionValues.h"
#include "org/apache/lucene/queries/function/ValueSource.h"
#include "org/apache/lucene/search/Sort.h"
#include "org/apache/lucene/search/grouping/AbstractFirstPassGroupingCollector.h"
#include "org/apache/lucene/search/grouping/function/FunctionFirstPassGroupingCollector.h"
#include "org/apache/lucene/util/mutable/MutableValue.h"

@interface OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector () {
 @public
  OrgApacheLuceneQueriesFunctionValueSource *groupByVS_;
  id<JavaUtilMap> vsContext_;
  OrgApacheLuceneQueriesFunctionFunctionValues_ValueFiller *filler_;
  OrgApacheLuceneUtilMutableMutableValue *mval_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector, groupByVS_, OrgApacheLuceneQueriesFunctionValueSource *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector, vsContext_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector, filler_, OrgApacheLuceneQueriesFunctionFunctionValues_ValueFiller *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector, mval_, OrgApacheLuceneUtilMutableMutableValue *)

@implementation OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector

- (instancetype)initWithOrgApacheLuceneQueriesFunctionValueSource:(OrgApacheLuceneQueriesFunctionValueSource *)groupByVS
                                                  withJavaUtilMap:(id<JavaUtilMap>)vsContext
                                    withOrgApacheLuceneSearchSort:(OrgApacheLuceneSearchSort *)groupSort
                                                          withInt:(jint)topNGroups {
  OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector_initWithOrgApacheLuceneQueriesFunctionValueSource_withJavaUtilMap_withOrgApacheLuceneSearchSort_withInt_(self, groupByVS, vsContext, groupSort, topNGroups);
  return self;
}

- (OrgApacheLuceneUtilMutableMutableValue *)getDocGroupValueWithInt:(jint)doc {
  [((OrgApacheLuceneQueriesFunctionFunctionValues_ValueFiller *) nil_chk(filler_)) fillValueWithInt:doc];
  return mval_;
}

- (OrgApacheLuceneUtilMutableMutableValue *)copyDocGroupValueWithId:(OrgApacheLuceneUtilMutableMutableValue *)groupValue
                                                             withId:(OrgApacheLuceneUtilMutableMutableValue *)reuse {
  if (reuse != nil) {
    [reuse copy__WithOrgApacheLuceneUtilMutableMutableValue:groupValue];
    return reuse;
  }
  return [((OrgApacheLuceneUtilMutableMutableValue *) nil_chk(groupValue)) duplicate];
}

- (void)doSetNextReaderWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)readerContext {
  [super doSetNextReaderWithOrgApacheLuceneIndexLeafReaderContext:readerContext];
  OrgApacheLuceneQueriesFunctionFunctionValues *values = [((OrgApacheLuceneQueriesFunctionValueSource *) nil_chk(groupByVS_)) getValuesWithJavaUtilMap:vsContext_ withOrgApacheLuceneIndexLeafReaderContext:readerContext];
  JreStrongAssign(&filler_, [((OrgApacheLuceneQueriesFunctionFunctionValues *) nil_chk(values)) getValueFiller]);
  JreStrongAssign(&mval_, [((OrgApacheLuceneQueriesFunctionFunctionValues_ValueFiller *) nil_chk(filler_)) getValue]);
}

- (jboolean)needsScores {
  return YES;
}

- (void)dealloc {
  RELEASE_(groupByVS_);
  RELEASE_(vsContext_);
  RELEASE_(filler_);
  RELEASE_(mval_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneQueriesFunctionValueSource:withJavaUtilMap:withOrgApacheLuceneSearchSort:withInt:", "FunctionFirstPassGroupingCollector", NULL, 0x1, "Ljava.io.IOException;", NULL },
    { "getDocGroupValueWithInt:", "getDocGroupValue", "Lorg.apache.lucene.util.mutable.MutableValue;", 0x4, NULL, NULL },
    { "copyDocGroupValueWithId:withId:", "copyDocGroupValue", "Lorg.apache.lucene.util.mutable.MutableValue;", 0x4, NULL, NULL },
    { "doSetNextReaderWithOrgApacheLuceneIndexLeafReaderContext:", "doSetNextReader", "V", 0x4, "Ljava.io.IOException;", NULL },
    { "needsScores", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "groupByVS_", NULL, 0x12, "Lorg.apache.lucene.queries.function.ValueSource;", NULL, NULL, .constantValue.asLong = 0 },
    { "vsContext_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<**>;", .constantValue.asLong = 0 },
    { "filler_", NULL, 0x2, "Lorg.apache.lucene.queries.function.FunctionValues$ValueFiller;", NULL, NULL, .constantValue.asLong = 0 },
    { "mval_", NULL, 0x2, "Lorg.apache.lucene.util.mutable.MutableValue;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"Lorg.apache.lucene.util.mutable.MutableValue;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector = { 2, "FunctionFirstPassGroupingCollector", "org.apache.lucene.search.grouping.function", NULL, 0x1, 5, methods, 4, fields, 1, superclass_type_args, 0, NULL, NULL, "Lorg/apache/lucene/search/grouping/AbstractFirstPassGroupingCollector<Lorg/apache/lucene/util/mutable/MutableValue;>;" };
  return &_OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector;
}

@end

void OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector_initWithOrgApacheLuceneQueriesFunctionValueSource_withJavaUtilMap_withOrgApacheLuceneSearchSort_withInt_(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector *self, OrgApacheLuceneQueriesFunctionValueSource *groupByVS, id<JavaUtilMap> vsContext, OrgApacheLuceneSearchSort *groupSort, jint topNGroups) {
  OrgApacheLuceneSearchGroupingAbstractFirstPassGroupingCollector_initWithOrgApacheLuceneSearchSort_withInt_(self, groupSort, topNGroups);
  JreStrongAssign(&self->groupByVS_, groupByVS);
  JreStrongAssign(&self->vsContext_, vsContext);
}

OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector *new_OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector_initWithOrgApacheLuceneQueriesFunctionValueSource_withJavaUtilMap_withOrgApacheLuceneSearchSort_withInt_(OrgApacheLuceneQueriesFunctionValueSource *groupByVS, id<JavaUtilMap> vsContext, OrgApacheLuceneSearchSort *groupSort, jint topNGroups) {
  OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector *self = [OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector alloc];
  OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector_initWithOrgApacheLuceneQueriesFunctionValueSource_withJavaUtilMap_withOrgApacheLuceneSearchSort_withInt_(self, groupByVS, vsContext, groupSort, topNGroups);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingFunctionFunctionFirstPassGroupingCollector)
