//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./grouping/src/java/org/apache/lucene/search/grouping/AbstractGroupFacetCollector.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/util/ArrayList.h"
#include "java/util/Comparator.h"
#include "java/util/LinkedList.h"
#include "java/util/List.h"
#include "java/util/NavigableSet.h"
#include "java/util/TreeSet.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/SimpleCollector.h"
#include "org/apache/lucene/search/grouping/AbstractGroupFacetCollector.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/PriorityQueue.h"

@interface OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult () {
 @public
  jint maxSize_;
  id<JavaUtilNavigableSet> facetEntries_;
  jint totalMissingCount_;
  jint totalCount_;
  jint currentMin_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult, facetEntries_, id<JavaUtilNavigableSet>)

static id<JavaUtilComparator> OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByCountAndValue_;
J2OBJC_STATIC_FIELD_GETTER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult, orderByCountAndValue_, id<JavaUtilComparator>)

static id<JavaUtilComparator> OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByValue_;
J2OBJC_STATIC_FIELD_GETTER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult, orderByValue_, id<JavaUtilComparator>)

@interface OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)a
               withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)b;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1)

__attribute__((unused)) static void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 *self);

__attribute__((unused)) static OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1)

@interface OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)a
               withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)b;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2)

__attribute__((unused)) static void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 *self);

__attribute__((unused)) static OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2)

@interface OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry () {
 @public
  OrgApacheLuceneUtilBytesRef *value_;
  jint count_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry, value_, OrgApacheLuceneUtilBytesRef *)

@interface OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue : OrgApacheLuceneUtilPriorityQueue

- (instancetype)initWithInt:(jint)maxSize;

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *)a
                    withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *)b;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue)

__attribute__((unused)) static void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *self, jint maxSize);

__attribute__((unused)) static OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(jint maxSize) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector

- (instancetype)initWithNSString:(NSString *)groupField
                    withNSString:(NSString *)facetField
 withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)facetPrefix {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_initWithNSString_withNSString_withOrgApacheLuceneUtilBytesRef_(self, groupField, facetField, facetPrefix);
  return self;
}

- (OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult *)mergeSegmentResultsWithInt:(jint)size
                                                                                                    withInt:(jint)minCount
                                                                                                withBoolean:(jboolean)orderByCount {
  if (segmentFacetCounts_ != nil) {
    [((id<JavaUtilList>) nil_chk(segmentResults_)) addWithId:[self createSegmentResult]];
    JreStrongAssign(&segmentFacetCounts_, nil);
  }
  jint totalCount = 0;
  jint missingCount = 0;
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *segments = [new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_([((id<JavaUtilList>) nil_chk(segmentResults_)) size]) autorelease];
  for (OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult * __strong segmentResult in segmentResults_) {
    missingCount += ((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *) nil_chk(segmentResult))->missing_;
    if (segmentResult->mergePos_ >= segmentResult->maxTermPos_) {
      continue;
    }
    totalCount += segmentResult->total_;
    [segments addWithId:segmentResult];
  }
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult *facetResult = [new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_initWithInt_withInt_withBoolean_withInt_withInt_(size, minCount, orderByCount, totalCount, missingCount) autorelease];
  while ([segments size] > 0) {
    OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *segmentResult = [segments top];
    OrgApacheLuceneUtilBytesRef *currentFacetValue = OrgApacheLuceneUtilBytesRef_deepCopyOfWithOrgApacheLuceneUtilBytesRef_(((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *) nil_chk(segmentResult))->mergeTerm_);
    jint count = 0;
    do {
      count += IOSIntArray_Get(nil_chk(segmentResult->counts_), segmentResult->mergePos_++);
      if (segmentResult->mergePos_ < segmentResult->maxTermPos_) {
        [segmentResult nextTerm];
        segmentResult = [segments updateTop];
      }
      else {
        [segments pop];
        segmentResult = [segments top];
        if (segmentResult == nil) {
          break;
        }
      }
    }
    while ([((OrgApacheLuceneUtilBytesRef *) nil_chk(currentFacetValue)) isEqual:((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *) nil_chk(segmentResult))->mergeTerm_]);
    [facetResult addFacetCountWithOrgApacheLuceneUtilBytesRef:currentFacetValue withInt:count];
  }
  return facetResult;
}

- (OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *)createSegmentResult {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
}

- (void)dealloc {
  RELEASE_(groupField_);
  RELEASE_(facetField_);
  RELEASE_(facetPrefix_);
  RELEASE_(segmentResults_);
  RELEASE_(segmentFacetCounts_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withNSString:withOrgApacheLuceneUtilBytesRef:", "AbstractGroupFacetCollector", NULL, 0x4, NULL, NULL },
    { "mergeSegmentResultsWithInt:withInt:withBoolean:", "mergeSegmentResults", "Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$GroupedFacetResult;", 0x1, "Ljava.io.IOException;", NULL },
    { "createSegmentResult", NULL, "Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$SegmentResult;", 0x404, "Ljava.io.IOException;", NULL },
    { "setScorerWithOrgApacheLuceneSearchScorer:", "setScorer", "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "groupField_", NULL, 0x14, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "facetField_", NULL, 0x14, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "facetPrefix_", NULL, 0x14, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "segmentResults_", NULL, 0x14, "Ljava.util.List;", NULL, "Ljava/util/List<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$SegmentResult;>;", .constantValue.asLong = 0 },
    { "segmentFacetCounts_", NULL, 0x4, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "segmentTotalCount_", NULL, 0x4, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "startFacetOrd_", NULL, 0x4, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "endFacetOrd_", NULL, 0x4, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$GroupedFacetResult;", "Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$FacetEntry;", "Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$SegmentResult;", "Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$SegmentResultPriorityQueue;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector = { 2, "AbstractGroupFacetCollector", "org.apache.lucene.search.grouping", NULL, 0x401, 4, methods, 8, fields, 0, NULL, 4, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_initWithNSString_withNSString_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector *self, NSString *groupField, NSString *facetField, OrgApacheLuceneUtilBytesRef *facetPrefix) {
  OrgApacheLuceneSearchSimpleCollector_init(self);
  JreStrongAssign(&self->groupField_, groupField);
  JreStrongAssign(&self->facetField_, facetField);
  JreStrongAssign(&self->facetPrefix_, facetPrefix);
  JreStrongAssignAndConsume(&self->segmentResults_, new_JavaUtilArrayList_init());
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector)

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult

- (instancetype)initWithInt:(jint)size
                    withInt:(jint)minCount
                withBoolean:(jboolean)orderByCount
                    withInt:(jint)totalCount
                    withInt:(jint)totalMissingCount {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_initWithInt_withInt_withBoolean_withInt_withInt_(self, size, minCount, orderByCount, totalCount, totalMissingCount);
  return self;
}

- (void)addFacetCountWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)facetValue
                                             withInt:(jint)count {
  if (count < currentMin_) {
    return;
  }
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *facetEntry = [new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry_initWithOrgApacheLuceneUtilBytesRef_withInt_(facetValue, count) autorelease];
  if ([((id<JavaUtilNavigableSet>) nil_chk(facetEntries_)) size] == maxSize_) {
    if ([facetEntries_ higherWithId:facetEntry] == nil) {
      return;
    }
    [facetEntries_ pollLast];
  }
  [facetEntries_ addWithId:facetEntry];
  if ([facetEntries_ size] == maxSize_) {
    currentMin_ = ((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk([facetEntries_ last]))->count_;
  }
}

- (id<JavaUtilList>)getFacetEntriesWithInt:(jint)offset
                                   withInt:(jint)limit {
  id<JavaUtilList> entries = [new_JavaUtilLinkedList_init() autorelease];
  jint skipped = 0;
  jint included = 0;
  for (OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry * __strong facetEntry in nil_chk(facetEntries_)) {
    if (skipped < offset) {
      skipped++;
      continue;
    }
    if (included++ >= limit) {
      break;
    }
    [entries addWithId:facetEntry];
  }
  return entries;
}

- (jint)getTotalCount {
  return totalCount_;
}

- (jint)getTotalMissingCount {
  return totalMissingCount_;
}

- (void)dealloc {
  RELEASE_(facetEntries_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByCountAndValue_, new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init());
    JreStrongAssignAndConsume(&OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByValue_, new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init());
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:withInt:withBoolean:withInt:withInt:", "GroupedFacetResult", NULL, 0x1, NULL, NULL },
    { "addFacetCountWithOrgApacheLuceneUtilBytesRef:withInt:", "addFacetCount", "V", 0x1, NULL, NULL },
    { "getFacetEntriesWithInt:withInt:", "getFacetEntries", "Ljava.util.List;", 0x1, NULL, NULL },
    { "getTotalCount", NULL, "I", 0x1, NULL, NULL },
    { "getTotalMissingCount", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "orderByCountAndValue_", NULL, 0x1a, "Ljava.util.Comparator;", &OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByCountAndValue_, "Ljava/util/Comparator<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$FacetEntry;>;", .constantValue.asLong = 0 },
    { "orderByValue_", NULL, 0x1a, "Ljava.util.Comparator;", &OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByValue_, "Ljava/util/Comparator<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$FacetEntry;>;", .constantValue.asLong = 0 },
    { "maxSize_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "facetEntries_", NULL, 0x12, "Ljava.util.NavigableSet;", NULL, "Ljava/util/NavigableSet<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$FacetEntry;>;", .constantValue.asLong = 0 },
    { "totalMissingCount_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "totalCount_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "currentMin_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult = { 2, "GroupedFacetResult", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector", 0x9, 5, methods, 7, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_initWithInt_withInt_withBoolean_withInt_withInt_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult *self, jint size, jint minCount, jboolean orderByCount, jint totalCount, jint totalMissingCount) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->facetEntries_, new_JavaUtilTreeSet_initWithJavaUtilComparator_(orderByCount ? OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByCountAndValue_ : OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_orderByValue_));
  self->totalMissingCount_ = totalMissingCount;
  self->totalCount_ = totalCount;
  self->maxSize_ = size;
  self->currentMin_ = minCount;
}

OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_initWithInt_withInt_withBoolean_withInt_withInt_(jint size, jint minCount, jboolean orderByCount, jint totalCount, jint totalMissingCount) {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult *self = [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult alloc];
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_initWithInt_withInt_withBoolean_withInt_withInt_(self, size, minCount, orderByCount, totalCount, totalMissingCount);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1

- (jint)compareWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)a
               withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)b {
  jint cmp = ((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk(b))->count_ - ((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk(a))->count_;
  if (cmp != 0) {
    return cmp;
  }
  return [((OrgApacheLuceneUtilBytesRef *) nil_chk(a->value_)) compareToWithId:b->value_];
}

- (instancetype)init {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 = { 2, "", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector$GroupedFacetResult", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$FacetEntry;>;" };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init() {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 *self = [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1 alloc];
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$1)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2

- (jint)compareWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)a
               withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *)b {
  return [((OrgApacheLuceneUtilBytesRef *) nil_chk(((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk(a))->value_)) compareToWithId:((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk(b))->value_];
}

- (instancetype)init {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 = { 2, "", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector$GroupedFacetResult", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$FacetEntry;>;" };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init() {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 *self = [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2 alloc];
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_GroupedFacetResult_$2)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry

- (instancetype)initWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)value
                                            withInt:(jint)count {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry_initWithOrgApacheLuceneUtilBytesRef_withInt_(self, value, count);
  return self;
}

- (jboolean)isEqual:(id)o {
  if (self == o) return YES;
  if (o == nil || [self getClass] != [o getClass]) return NO;
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *that = (OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) check_class_cast(o, [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry class]);
  if (count_ != ((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *) nil_chk(that))->count_) return NO;
  if (![((OrgApacheLuceneUtilBytesRef *) nil_chk(value_)) isEqual:that->value_]) return NO;
  return YES;
}

- (NSUInteger)hash {
  jint result = ((jint) [((OrgApacheLuceneUtilBytesRef *) nil_chk(value_)) hash]);
  result = 31 * result + count_;
  return result;
}

- (NSString *)description {
  return JreStrcat("$$$IC", @"FacetEntry{value=", [((OrgApacheLuceneUtilBytesRef *) nil_chk(value_)) utf8ToString], @", count=", count_, '}');
}

- (OrgApacheLuceneUtilBytesRef *)getValue {
  return value_;
}

- (jint)getCount {
  return count_;
}

- (void)dealloc {
  RELEASE_(value_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneUtilBytesRef:withInt:", "FacetEntry", NULL, 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "hash", "hashCode", "I", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getValue", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, NULL, NULL },
    { "getCount", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "value_", NULL, 0x12, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "count_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry = { 2, "FacetEntry", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector", 0x9, 6, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry_initWithOrgApacheLuceneUtilBytesRef_withInt_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *self, OrgApacheLuceneUtilBytesRef *value, jint count) {
  NSObject_init(self);
  JreStrongAssign(&self->value_, value);
  self->count_ = count;
}

OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry_initWithOrgApacheLuceneUtilBytesRef_withInt_(OrgApacheLuceneUtilBytesRef *value, jint count) {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry *self = [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry alloc];
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry_initWithOrgApacheLuceneUtilBytesRef_withInt_(self, value, count);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_FacetEntry)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult

- (instancetype)initWithIntArray:(IOSIntArray *)counts
                         withInt:(jint)total
                         withInt:(jint)missing
                         withInt:(jint)maxTermPos {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult_initWithIntArray_withInt_withInt_withInt_(self, counts, total, missing, maxTermPos);
  return self;
}

- (void)nextTerm {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)dealloc {
  RELEASE_(counts_);
  RELEASE_(mergeTerm_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithIntArray:withInt:withInt:withInt:", "SegmentResult", NULL, 0x4, NULL, NULL },
    { "nextTerm", NULL, "V", 0x404, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "counts_", NULL, 0x14, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "total_", NULL, 0x14, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "missing_", NULL, 0x14, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "maxTermPos_", NULL, 0x14, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "mergeTerm_", NULL, 0x4, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "mergePos_", NULL, 0x4, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult = { 2, "SegmentResult", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector", 0x40c, 2, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult_initWithIntArray_withInt_withInt_withInt_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *self, IOSIntArray *counts, jint total, jint missing, jint maxTermPos) {
  NSObject_init(self);
  JreStrongAssign(&self->counts_, counts);
  self->total_ = total;
  self->missing_ = missing;
  self->maxTermPos_ = maxTermPos;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult)

@implementation OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue

- (instancetype)initWithInt:(jint)maxSize {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(self, maxSize);
  return self;
}

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *)a
                    withId:(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *)b {
  return [((OrgApacheLuceneUtilBytesRef *) nil_chk(((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *) nil_chk(a))->mergeTerm_)) compareToWithId:((OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResult *) nil_chk(b))->mergeTerm_] < 0;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "SegmentResultPriorityQueue", NULL, 0x0, NULL, NULL },
    { "lessThanWithId:withId:", "lessThan", "Z", 0x4, NULL, NULL },
  };
  static const char *superclass_type_args[] = {"Lorg.apache.lucene.search.grouping.AbstractGroupFacetCollector$SegmentResult;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue = { 2, "SegmentResultPriorityQueue", "org.apache.lucene.search.grouping", "AbstractGroupFacetCollector", 0xa, 2, methods, 0, NULL, 1, superclass_type_args, 0, NULL, NULL, "Lorg/apache/lucene/util/PriorityQueue<Lorg/apache/lucene/search/grouping/AbstractGroupFacetCollector$SegmentResult;>;" };
  return &_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue;
}

@end

void OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *self, jint maxSize) {
  OrgApacheLuceneUtilPriorityQueue_initWithInt_(self, maxSize);
}

OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *new_OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(jint maxSize) {
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue *self = [OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue alloc];
  OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue_initWithInt_(self, maxSize);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchGroupingAbstractGroupFacetCollector_SegmentResultPriorityQueue)
