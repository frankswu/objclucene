//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./expressions/src/java/org/apache/lucene/expressions/ExpressionFunctionValues.java
//

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/NullPointerException.h"
#include "org/apache/lucene/expressions/Expression.h"
#include "org/apache/lucene/expressions/ExpressionFunctionValues.h"
#include "org/apache/lucene/queries/function/ValueSource.h"
#include "org/apache/lucene/queries/function/docvalues/DoubleDocValues.h"

@implementation OrgApacheLuceneExpressionsExpressionFunctionValues

- (instancetype)initWithOrgApacheLuceneQueriesFunctionValueSource:(OrgApacheLuceneQueriesFunctionValueSource *)parent
                         withOrgApacheLuceneExpressionsExpression:(OrgApacheLuceneExpressionsExpression *)expression
            withOrgApacheLuceneQueriesFunctionFunctionValuesArray:(IOSObjectArray *)functionValues {
  OrgApacheLuceneExpressionsExpressionFunctionValues_initWithOrgApacheLuceneQueriesFunctionValueSource_withOrgApacheLuceneExpressionsExpression_withOrgApacheLuceneQueriesFunctionFunctionValuesArray_(self, parent, expression, functionValues);
  return self;
}

- (jdouble)doubleValWithInt:(jint)document {
  if (currentDocument_ != document) {
    currentDocument_ = document;
    currentValue_ = [((OrgApacheLuceneExpressionsExpression *) nil_chk(expression_)) evaluateWithInt:document withOrgApacheLuceneQueriesFunctionFunctionValuesArray:functionValues_];
  }
  return currentValue_;
}

- (void)dealloc {
  RELEASE_(expression_);
  RELEASE_(functionValues_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneQueriesFunctionValueSource:withOrgApacheLuceneExpressionsExpression:withOrgApacheLuceneQueriesFunctionFunctionValuesArray:", "ExpressionFunctionValues", NULL, 0x0, NULL, NULL },
    { "doubleValWithInt:", "doubleVal", "D", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "expression_", NULL, 0x10, "Lorg.apache.lucene.expressions.Expression;", NULL, NULL, .constantValue.asLong = 0 },
    { "functionValues_", NULL, 0x10, "[Lorg.apache.lucene.queries.function.FunctionValues;", NULL, NULL, .constantValue.asLong = 0 },
    { "currentDocument_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "currentValue_", NULL, 0x0, "D", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneExpressionsExpressionFunctionValues = { 2, "ExpressionFunctionValues", "org.apache.lucene.expressions", NULL, 0x0, 2, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneExpressionsExpressionFunctionValues;
}

@end

void OrgApacheLuceneExpressionsExpressionFunctionValues_initWithOrgApacheLuceneQueriesFunctionValueSource_withOrgApacheLuceneExpressionsExpression_withOrgApacheLuceneQueriesFunctionFunctionValuesArray_(OrgApacheLuceneExpressionsExpressionFunctionValues *self, OrgApacheLuceneQueriesFunctionValueSource *parent, OrgApacheLuceneExpressionsExpression *expression, IOSObjectArray *functionValues) {
  OrgApacheLuceneQueriesFunctionDocvaluesDoubleDocValues_initWithOrgApacheLuceneQueriesFunctionValueSource_(self, parent);
  self->currentDocument_ = -1;
  if (expression == nil) {
    @throw [new_JavaLangNullPointerException_init() autorelease];
  }
  if (functionValues == nil) {
    @throw [new_JavaLangNullPointerException_init() autorelease];
  }
  JreStrongAssign(&self->expression_, expression);
  JreStrongAssign(&self->functionValues_, functionValues);
}

OrgApacheLuceneExpressionsExpressionFunctionValues *new_OrgApacheLuceneExpressionsExpressionFunctionValues_initWithOrgApacheLuceneQueriesFunctionValueSource_withOrgApacheLuceneExpressionsExpression_withOrgApacheLuceneQueriesFunctionFunctionValuesArray_(OrgApacheLuceneQueriesFunctionValueSource *parent, OrgApacheLuceneExpressionsExpression *expression, IOSObjectArray *functionValues) {
  OrgApacheLuceneExpressionsExpressionFunctionValues *self = [OrgApacheLuceneExpressionsExpressionFunctionValues alloc];
  OrgApacheLuceneExpressionsExpressionFunctionValues_initWithOrgApacheLuceneQueriesFunctionValueSource_withOrgApacheLuceneExpressionsExpression_withOrgApacheLuceneQueriesFunctionFunctionValuesArray_(self, parent, expression, functionValues);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneExpressionsExpressionFunctionValues)
