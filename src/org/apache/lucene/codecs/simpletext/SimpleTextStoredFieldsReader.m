//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./codecs/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "java/lang/Double.h"
#include "java/lang/Float.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/System.h"
#include "java/lang/Throwable.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/List.h"
#include "org/apache/lucene/codecs/StoredFieldsReader.h"
#include "org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.h"
#include "org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsWriter.h"
#include "org/apache/lucene/codecs/simpletext/SimpleTextUtil.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInfos.h"
#include "org/apache/lucene/index/IndexFileNames.h"
#include "org/apache/lucene/index/SegmentInfo.h"
#include "org/apache/lucene/index/StoredFieldVisitor.h"
#include "org/apache/lucene/store/AlreadyClosedException.h"
#include "org/apache/lucene/store/BufferedChecksumIndexInput.h"
#include "org/apache/lucene/store/ChecksumIndexInput.h"
#include "org/apache/lucene/store/Directory.h"
#include "org/apache/lucene/store/IOContext.h"
#include "org/apache/lucene/store/IndexInput.h"
#include "org/apache/lucene/util/ArrayUtil.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefBuilder.h"
#include "org/apache/lucene/util/CharsRef.h"
#include "org/apache/lucene/util/CharsRefBuilder.h"
#include "org/apache/lucene/util/IOUtils.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"
#include "org/apache/lucene/util/StringHelper.h"

@interface OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader () {
 @public
  IOSLongArray *offsets_;
  OrgApacheLuceneStoreIndexInput *in_;
  OrgApacheLuceneUtilBytesRefBuilder *scratch_;
  OrgApacheLuceneUtilCharsRefBuilder *scratchUTF16_;
  OrgApacheLuceneIndexFieldInfos *fieldInfos_;
}

- (void)readIndexWithInt:(jint)size;

- (void)readFieldWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)type
               withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
      withOrgApacheLuceneIndexStoredFieldVisitor:(OrgApacheLuceneIndexStoredFieldVisitor *)visitor;

- (void)readLine;

- (jint)parseIntAtWithInt:(jint)offset;

- (jboolean)equalsAtWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)a
                    withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)b
                                            withInt:(jint)bOffset;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, offsets_, IOSLongArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, in_, OrgApacheLuceneStoreIndexInput *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, scratch_, OrgApacheLuceneUtilBytesRefBuilder *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, scratchUTF16_, OrgApacheLuceneUtilCharsRefBuilder *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, fieldInfos_, OrgApacheLuceneIndexFieldInfos *)

static jlong OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_BASE_RAM_BYTES_USED_;
J2OBJC_STATIC_FIELD_GETTER(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader, BASE_RAM_BYTES_USED_, jlong)

__attribute__((unused)) static void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readIndexWithInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, jint size);

__attribute__((unused)) static void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readFieldWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneIndexStoredFieldVisitor_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, OrgApacheLuceneUtilBytesRef *type, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneIndexStoredFieldVisitor *visitor);

__attribute__((unused)) static void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self);

__attribute__((unused)) static jint OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_parseIntAtWithInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, jint offset);

__attribute__((unused)) static jboolean OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, OrgApacheLuceneUtilBytesRef *a, OrgApacheLuceneUtilBytesRef *b, jint bOffset);

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader)

@implementation OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)directory
                  withOrgApacheLuceneIndexSegmentInfo:(OrgApacheLuceneIndexSegmentInfo *)si
                   withOrgApacheLuceneIndexFieldInfos:(OrgApacheLuceneIndexFieldInfos *)fn
                    withOrgApacheLuceneStoreIOContext:(OrgApacheLuceneStoreIOContext *)context {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneIndexFieldInfos_withOrgApacheLuceneStoreIOContext_(self, directory, si, fn, context);
  return self;
}

- (instancetype)initWithLongArray:(IOSLongArray *)offsets
withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg
withOrgApacheLuceneIndexFieldInfos:(OrgApacheLuceneIndexFieldInfos *)fieldInfos {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithLongArray_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneIndexFieldInfos_(self, offsets, inArg, fieldInfos);
  return self;
}

- (void)readIndexWithInt:(jint)size {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readIndexWithInt_(self, size);
}

- (void)visitDocumentWithInt:(jint)n
withOrgApacheLuceneIndexStoredFieldVisitor:(OrgApacheLuceneIndexStoredFieldVisitor *)visitor {
  [((OrgApacheLuceneStoreIndexInput *) nil_chk(in_)) seekWithLong:IOSLongArray_Get(nil_chk(offsets_), n)];
  while (YES) {
    OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
    if (OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(scratch_)) get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, FIELD_)) == NO) {
      break;
    }
    jint fieldNumber = OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_parseIntAtWithInt_(self, ((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, FIELD_)))->length_);
    OrgApacheLuceneIndexFieldInfo *fieldInfo = [((OrgApacheLuceneIndexFieldInfos *) nil_chk(fieldInfos_)) fieldInfoWithInt:fieldNumber];
    OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
    JreAssert((OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, NAME_))), (@"org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java:121 condition failed: assert StringHelper.startsWith(scratch.get(), NAME);"));
    OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
    JreAssert((OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_))), (@"org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java:123 condition failed: assert StringHelper.startsWith(scratch.get(), TYPE);"));
    OrgApacheLuceneUtilBytesRef *type;
    if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_STRING_), [scratch_ get], ((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)))->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_STRING_);
    }
    else if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_BINARY_), [scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_BINARY_);
    }
    else if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_INT_), [scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_INT_);
    }
    else if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_LONG_), [scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_LONG_);
    }
    else if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_FLOAT_), [scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_FLOAT_);
    }
    else if (OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_DOUBLE_), [scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_)->length_)) {
      type = JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_DOUBLE_);
    }
    else {
      @throw [new_JavaLangRuntimeException_initWithNSString_(@"unknown field type") autorelease];
    }
    switch ([[((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) needsFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo] ordinal]) {
      case OrgApacheLuceneIndexStoredFieldVisitor_Status_YES:
      OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readFieldWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneIndexStoredFieldVisitor_(self, type, fieldInfo, visitor);
      break;
      case OrgApacheLuceneIndexStoredFieldVisitor_Status_NO:
      OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
      JreAssert((OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_))), (@"org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java:148 condition failed: assert StringHelper.startsWith(scratch.get(), VALUE);"));
      break;
      case OrgApacheLuceneIndexStoredFieldVisitor_Status_STOP:
      return;
    }
  }
}

- (void)readFieldWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)type
               withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
      withOrgApacheLuceneIndexStoredFieldVisitor:(OrgApacheLuceneIndexStoredFieldVisitor *)visitor {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readFieldWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneIndexStoredFieldVisitor_(self, type, fieldInfo, visitor);
}

- (OrgApacheLuceneCodecsStoredFieldsReader *)clone {
  if (in_ == nil) {
    @throw [new_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(@"this FieldsReader is closed") autorelease];
  }
  return [new_OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithLongArray_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneIndexFieldInfos_(offsets_, [((OrgApacheLuceneStoreIndexInput *) nil_chk(in_)) clone], fieldInfos_) autorelease];
}

- (void)close {
  @try {
    OrgApacheLuceneUtilIOUtils_closeWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ in_ } count:1 type:JavaIoCloseable_class_()]);
  }
  @finally {
    JreStrongAssign(&in_, nil);
    JreStrongAssign(&offsets_, nil);
  }
}

- (void)readLine {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
}

- (jint)parseIntAtWithInt:(jint)offset {
  return OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_parseIntAtWithInt_(self, offset);
}

- (jboolean)equalsAtWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)a
                    withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)b
                                            withInt:(jint)bOffset {
  return OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(self, a, b, bOffset);
}

- (jlong)ramBytesUsed {
  return OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_BASE_RAM_BYTES_USED_ + OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithLongArray_(offsets_) + OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithByteArray_([((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(scratch_)) bytes]) + OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithCharArray_([((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(scratchUTF16_)) chars]);
}

- (id<JavaUtilCollection>)getChildResources {
  return JavaUtilCollections_emptyList();
}

- (NSString *)description {
  return [[self getClass] getSimpleName];
}

- (void)checkIntegrity {
}

- (void)dealloc {
  RELEASE_(offsets_);
  RELEASE_(in_);
  RELEASE_(scratch_);
  RELEASE_(scratchUTF16_);
  RELEASE_(fieldInfos_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader class]) {
    OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_BASE_RAM_BYTES_USED_ = OrgApacheLuceneUtilRamUsageEstimator_shallowSizeOfInstanceWithIOSClass_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_class_()) + OrgApacheLuceneUtilRamUsageEstimator_shallowSizeOfInstanceWithIOSClass_(OrgApacheLuceneUtilBytesRef_class_()) + OrgApacheLuceneUtilRamUsageEstimator_shallowSizeOfInstanceWithIOSClass_(OrgApacheLuceneUtilCharsRef_class_());
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneIndexSegmentInfo:withOrgApacheLuceneIndexFieldInfos:withOrgApacheLuceneStoreIOContext:", "SimpleTextStoredFieldsReader", NULL, 0x1, "Ljava.io.IOException;", NULL },
    { "initWithLongArray:withOrgApacheLuceneStoreIndexInput:withOrgApacheLuceneIndexFieldInfos:", "SimpleTextStoredFieldsReader", NULL, 0x0, NULL, NULL },
    { "readIndexWithInt:", "readIndex", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "visitDocumentWithInt:withOrgApacheLuceneIndexStoredFieldVisitor:", "visitDocument", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "readFieldWithOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneIndexFieldInfo:withOrgApacheLuceneIndexStoredFieldVisitor:", "readField", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "clone", NULL, "Lorg.apache.lucene.codecs.StoredFieldsReader;", 0x1, NULL, NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "readLine", NULL, "V", 0x2, "Ljava.io.IOException;", NULL },
    { "parseIntAtWithInt:", "parseIntAt", "I", 0x2, NULL, NULL },
    { "equalsAtWithOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneUtilBytesRef:withInt:", "equalsAt", "Z", 0x2, NULL, NULL },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "checkIntegrity", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "BASE_RAM_BYTES_USED_", NULL, 0x1a, "J", &OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_BASE_RAM_BYTES_USED_, NULL, .constantValue.asLong = 0 },
    { "offsets_", NULL, 0x2, "[J", NULL, NULL, .constantValue.asLong = 0 },
    { "in_", NULL, 0x2, "Lorg.apache.lucene.store.IndexInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "scratch_", NULL, 0x2, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "scratchUTF16_", NULL, 0x2, "Lorg.apache.lucene.util.CharsRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "fieldInfos_", NULL, 0x12, "Lorg.apache.lucene.index.FieldInfos;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader = { 2, "SimpleTextStoredFieldsReader", "org.apache.lucene.codecs.simpletext", NULL, 0x1, 14, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader;
}

@end

void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneIndexFieldInfos_withOrgApacheLuceneStoreIOContext_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, OrgApacheLuceneStoreDirectory *directory, OrgApacheLuceneIndexSegmentInfo *si, OrgApacheLuceneIndexFieldInfos *fn, OrgApacheLuceneStoreIOContext *context) {
  OrgApacheLuceneCodecsStoredFieldsReader_init(self);
  JreStrongAssignAndConsume(&self->scratch_, new_OrgApacheLuceneUtilBytesRefBuilder_init());
  JreStrongAssignAndConsume(&self->scratchUTF16_, new_OrgApacheLuceneUtilCharsRefBuilder_init());
  JreStrongAssign(&self->fieldInfos_, fn);
  jboolean success = NO;
  @try {
    JreStrongAssign(&self->in_, [((OrgApacheLuceneStoreDirectory *) nil_chk(directory)) openInputWithNSString:OrgApacheLuceneIndexIndexFileNames_segmentFileNameWithNSString_withNSString_withNSString_(((OrgApacheLuceneIndexSegmentInfo *) nil_chk(si))->name_, @"", OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter_FIELDS_EXTENSION_) withOrgApacheLuceneStoreIOContext:context]);
    success = YES;
  }
  @finally {
    if (!success) {
      @try {
        [self close];
      }
      @catch (JavaLangThrowable *t) {
      }
    }
  }
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readIndexWithInt_(self, [((OrgApacheLuceneIndexSegmentInfo *) nil_chk(si)) maxDoc]);
}

OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *new_OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneIndexFieldInfos_withOrgApacheLuceneStoreIOContext_(OrgApacheLuceneStoreDirectory *directory, OrgApacheLuceneIndexSegmentInfo *si, OrgApacheLuceneIndexFieldInfos *fn, OrgApacheLuceneStoreIOContext *context) {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self = [OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader alloc];
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneIndexFieldInfos_withOrgApacheLuceneStoreIOContext_(self, directory, si, fn, context);
  return self;
}

void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithLongArray_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneIndexFieldInfos_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, IOSLongArray *offsets, OrgApacheLuceneStoreIndexInput *inArg, OrgApacheLuceneIndexFieldInfos *fieldInfos) {
  OrgApacheLuceneCodecsStoredFieldsReader_init(self);
  JreStrongAssignAndConsume(&self->scratch_, new_OrgApacheLuceneUtilBytesRefBuilder_init());
  JreStrongAssignAndConsume(&self->scratchUTF16_, new_OrgApacheLuceneUtilCharsRefBuilder_init());
  JreStrongAssign(&self->offsets_, offsets);
  JreStrongAssign(&self->in_, inArg);
  JreStrongAssign(&self->fieldInfos_, fieldInfos);
}

OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *new_OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithLongArray_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneIndexFieldInfos_(IOSLongArray *offsets, OrgApacheLuceneStoreIndexInput *inArg, OrgApacheLuceneIndexFieldInfos *fieldInfos) {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self = [OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader alloc];
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_initWithLongArray_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneIndexFieldInfos_(self, offsets, inArg, fieldInfos);
  return self;
}

void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readIndexWithInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, jint size) {
  OrgApacheLuceneStoreChecksumIndexInput *input = [new_OrgApacheLuceneStoreBufferedChecksumIndexInput_initWithOrgApacheLuceneStoreIndexInput_(self->in_) autorelease];
  JreStrongAssignAndConsume(&self->offsets_, [IOSLongArray newArrayWithLength:size]);
  jint upto = 0;
  while (![((OrgApacheLuceneUtilBytesRef *) nil_chk([((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(self->scratch_)) get])) isEqual:JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, END_)]) {
    OrgApacheLuceneCodecsSimpletextSimpleTextUtil_readLineWithOrgApacheLuceneStoreDataInput_withOrgApacheLuceneUtilBytesRefBuilder_(input, self->scratch_);
    if (OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([self->scratch_ get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, DOC_))) {
      *IOSLongArray_GetRef(self->offsets_, upto) = [input getFilePointer];
      upto++;
    }
  }
  OrgApacheLuceneCodecsSimpletextSimpleTextUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(input);
  JreAssert((upto == self->offsets_->size_), (@"org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java:106 condition failed: assert upto == offsets.length;"));
}

void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readFieldWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneIndexStoredFieldVisitor_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, OrgApacheLuceneUtilBytesRef *type, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneIndexStoredFieldVisitor *visitor) {
  OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(self);
  JreAssert((OrgApacheLuceneUtilStringHelper_startsWithWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_([((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(self->scratch_)) get], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_))), (@"org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java:157 condition failed: assert StringHelper.startsWith(scratch.get(), VALUE);"));
  if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_STRING_)) {
    IOSByteArray *bytes = [IOSByteArray arrayWithLength:[self->scratch_ length] - ((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_];
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_([self->scratch_ bytes], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_, bytes, 0, bytes->size_);
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) stringFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withByteArray:bytes];
  }
  else if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_BINARY_)) {
    IOSByteArray *copy_ = [IOSByteArray arrayWithLength:[self->scratch_ length] - ((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_];
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_([self->scratch_ bytes], JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_, copy_, 0, copy_->size_);
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) binaryFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withByteArray:copy_];
  }
  else if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_INT_)) {
    [((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(self->scratchUTF16_)) copyUTF8BytesWithByteArray:[self->scratch_ bytes] withInt:((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_ withInt:[self->scratch_ length] - JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_];
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) intFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withInt:JavaLangInteger_parseIntWithNSString_([self->scratchUTF16_ description])];
  }
  else if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_LONG_)) {
    [((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(self->scratchUTF16_)) copyUTF8BytesWithByteArray:[self->scratch_ bytes] withInt:((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_ withInt:[self->scratch_ length] - JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_];
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) longFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withLong:JavaLangLong_parseLongWithNSString_([self->scratchUTF16_ description])];
  }
  else if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_FLOAT_)) {
    [((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(self->scratchUTF16_)) copyUTF8BytesWithByteArray:[self->scratch_ bytes] withInt:((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_ withInt:[self->scratch_ length] - JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_];
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) floatFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withFloat:JavaLangFloat_parseFloatWithNSString_([self->scratchUTF16_ description])];
  }
  else if (type == JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, TYPE_DOUBLE_)) {
    [((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(self->scratchUTF16_)) copyUTF8BytesWithByteArray:[self->scratch_ bytes] withInt:((OrgApacheLuceneUtilBytesRef *) nil_chk(JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)))->length_ withInt:[self->scratch_ length] - JreLoadStatic(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsWriter, VALUE_)->length_];
    [((OrgApacheLuceneIndexStoredFieldVisitor *) nil_chk(visitor)) doubleFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo withDouble:JavaLangDouble_parseDoubleWithNSString_([self->scratchUTF16_ description])];
  }
}

void OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_readLine(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self) {
  OrgApacheLuceneCodecsSimpletextSimpleTextUtil_readLineWithOrgApacheLuceneStoreDataInput_withOrgApacheLuceneUtilBytesRefBuilder_(self->in_, self->scratch_);
}

jint OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_parseIntAtWithInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, jint offset) {
  [((OrgApacheLuceneUtilCharsRefBuilder *) nil_chk(self->scratchUTF16_)) copyUTF8BytesWithByteArray:[((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(self->scratch_)) bytes] withInt:offset withInt:[self->scratch_ length] - offset];
  return OrgApacheLuceneUtilArrayUtil_parseIntWithCharArray_withInt_withInt_([self->scratchUTF16_ chars], 0, [self->scratchUTF16_ length]);
}

jboolean OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader_equalsAtWithOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withInt_(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader *self, OrgApacheLuceneUtilBytesRef *a, OrgApacheLuceneUtilBytesRef *b, jint bOffset) {
  return ((OrgApacheLuceneUtilBytesRef *) nil_chk(a))->length_ == ((OrgApacheLuceneUtilBytesRef *) nil_chk(b))->length_ - bOffset && OrgApacheLuceneUtilArrayUtil_equalsWithByteArray_withInt_withByteArray_withInt_withInt_(a->bytes_, a->offset_, b->bytes_, b->offset_ + bOffset, b->length_ - bOffset);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsSimpletextSimpleTextStoredFieldsReader)
