//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/codecs/perfield/PerFieldDocValuesFormat.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Integer.h"
#include "java/lang/Iterable.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/IdentityHashMap.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/TreeMap.h"
#include "org/apache/lucene/codecs/DocValuesConsumer.h"
#include "org/apache/lucene/codecs/DocValuesFormat.h"
#include "org/apache/lucene/codecs/DocValuesProducer.h"
#include "org/apache/lucene/codecs/perfield/PerFieldDocValuesFormat.h"
#include "org/apache/lucene/index/BinaryDocValues.h"
#include "org/apache/lucene/index/DocValuesType.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInfos.h"
#include "org/apache/lucene/index/NumericDocValues.h"
#include "org/apache/lucene/index/SegmentReadState.h"
#include "org/apache/lucene/index/SegmentWriteState.h"
#include "org/apache/lucene/index/SortedDocValues.h"
#include "org/apache/lucene/index/SortedNumericDocValues.h"
#include "org/apache/lucene/index/SortedSetDocValues.h"
#include "org/apache/lucene/util/Accountables.h"
#include "org/apache/lucene/util/Bits.h"
#include "org/apache/lucene/util/IOUtils.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"

@interface OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter : OrgApacheLuceneCodecsDocValuesConsumer {
 @public
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *this$0_;
  id<JavaUtilMap> formats_;
  id<JavaUtilMap> suffixes_;
  OrgApacheLuceneIndexSegmentWriteState *segmentWriteState_;
}

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
                                   withOrgApacheLuceneIndexSegmentWriteState:(OrgApacheLuceneIndexSegmentWriteState *)state;

- (void)addNumericFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                    withJavaLangIterable:(id<JavaLangIterable>)values;

- (void)addBinaryFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                   withJavaLangIterable:(id<JavaLangIterable>)values;

- (void)addSortedFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                   withJavaLangIterable:(id<JavaLangIterable>)values
                                   withJavaLangIterable:(id<JavaLangIterable>)docToOrd;

- (void)addSortedNumericFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                          withJavaLangIterable:(id<JavaLangIterable>)docToValueCount
                                          withJavaLangIterable:(id<JavaLangIterable>)values;

- (void)addSortedSetFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                      withJavaLangIterable:(id<JavaLangIterable>)values
                                      withJavaLangIterable:(id<JavaLangIterable>)docToOrdCount
                                      withJavaLangIterable:(id<JavaLangIterable>)ords;

- (OrgApacheLuceneCodecsDocValuesConsumer *)getInstanceWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (void)close;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter)

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, this$0_, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, formats_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, suffixes_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, segmentWriteState_, OrgApacheLuceneIndexSegmentWriteState *)

__attribute__((unused)) static void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state);

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state);

__attribute__((unused)) static OrgApacheLuceneCodecsDocValuesConsumer *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *self, OrgApacheLuceneIndexFieldInfo *field);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter)

@interface OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader : OrgApacheLuceneCodecsDocValuesProducer {
 @public
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *this$0_;
  id<JavaUtilMap> fields_;
  id<JavaUtilMap> formats_;
}

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
       withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *)other;

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
                                    withOrgApacheLuceneIndexSegmentReadState:(OrgApacheLuceneIndexSegmentReadState *)readState;

- (OrgApacheLuceneIndexNumericDocValues *)getNumericWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (OrgApacheLuceneIndexBinaryDocValues *)getBinaryWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (OrgApacheLuceneIndexSortedDocValues *)getSortedWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (OrgApacheLuceneIndexSortedNumericDocValues *)getSortedNumericWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (OrgApacheLuceneIndexSortedSetDocValues *)getSortedSetWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (id<OrgApacheLuceneUtilBits>)getDocsWithFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field;

- (void)close;

- (jlong)ramBytesUsed;

- (id<JavaUtilCollection>)getChildResources;

- (void)checkIntegrity;

- (OrgApacheLuceneCodecsDocValuesProducer *)getMergeInstance;

- (NSString *)description;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader)

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, this$0_, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, fields_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, formats_, id<JavaUtilMap>)

__attribute__((unused)) static void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other);

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other);

__attribute__((unused)) static void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState);

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader)

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat)

NSString *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_NAME = @"PerFieldDV40";
NSString *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_FORMAT_KEY;
NSString *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_SUFFIX_KEY;

@implementation OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat

+ (NSString *)PER_FIELD_NAME {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_NAME;
}

+ (NSString *)PER_FIELD_FORMAT_KEY {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_FORMAT_KEY;
}

+ (NSString *)PER_FIELD_SUFFIX_KEY {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_SUFFIX_KEY;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (OrgApacheLuceneCodecsDocValuesConsumer *)fieldsConsumerWithOrgApacheLuceneIndexSegmentWriteState:(OrgApacheLuceneIndexSegmentWriteState *)state {
  return create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(self, state);
}

+ (NSString *)getSuffixWithNSString:(NSString *)formatName
                       withNSString:(NSString *)suffix {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getSuffixWithNSString_withNSString_(formatName, suffix);
}

+ (NSString *)getFullSegmentSuffixWithNSString:(NSString *)outerSegmentSuffix
                                  withNSString:(NSString *)segmentSuffix {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getFullSegmentSuffixWithNSString_withNSString_(outerSegmentSuffix, segmentSuffix);
}

- (OrgApacheLuceneCodecsDocValuesProducer *)fieldsProducerWithOrgApacheLuceneIndexSegmentReadState:(OrgApacheLuceneIndexSegmentReadState *)state {
  return create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(self, state);
}

- (OrgApacheLuceneCodecsDocValuesFormat *)getDocValuesFormatForFieldWithNSString:(NSString *)field {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

+ (void)initialize {
  if (self == [OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat class]) {
    JreStrongAssign(&OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_FORMAT_KEY, JreStrcat("$$", [OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_class_() getSimpleName], @".format"));
    JreStrongAssign(&OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_SUFFIX_KEY, JreStrcat("$$", [OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_class_() getSimpleName], @".suffix"));
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "PerFieldDocValuesFormat", NULL, 0x1, NULL, NULL },
    { "fieldsConsumerWithOrgApacheLuceneIndexSegmentWriteState:", "fieldsConsumer", "Lorg.apache.lucene.codecs.DocValuesConsumer;", 0x11, "Ljava.io.IOException;", NULL },
    { "getSuffixWithNSString:withNSString:", "getSuffix", "Ljava.lang.String;", 0x8, NULL, NULL },
    { "getFullSegmentSuffixWithNSString:withNSString:", "getFullSegmentSuffix", "Ljava.lang.String;", 0x8, NULL, NULL },
    { "fieldsProducerWithOrgApacheLuceneIndexSegmentReadState:", "fieldsProducer", "Lorg.apache.lucene.codecs.DocValuesProducer;", 0x11, "Ljava.io.IOException;", NULL },
    { "getDocValuesFormatForFieldWithNSString:", "getDocValuesFormatForField", "Lorg.apache.lucene.codecs.DocValuesFormat;", 0x401, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "PER_FIELD_NAME", "PER_FIELD_NAME", 0x19, "Ljava.lang.String;", &OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_NAME, NULL, .constantValue.asLong = 0 },
    { "PER_FIELD_FORMAT_KEY", "PER_FIELD_FORMAT_KEY", 0x19, "Ljava.lang.String;", &OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_FORMAT_KEY, NULL, .constantValue.asLong = 0 },
    { "PER_FIELD_SUFFIX_KEY", "PER_FIELD_SUFFIX_KEY", 0x19, "Ljava.lang.String;", &OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_SUFFIX_KEY, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.codecs.perfield.PerFieldDocValuesFormat$ConsumerAndSuffix;", "Lorg.apache.lucene.codecs.perfield.PerFieldDocValuesFormat$FieldsWriter;", "Lorg.apache.lucene.codecs.perfield.PerFieldDocValuesFormat$FieldsReader;"};
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat = { 2, "PerFieldDocValuesFormat", "org.apache.lucene.codecs.perfield", NULL, 0x401, 6, methods, 3, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat;
}

@end

void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_init(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *self) {
  OrgApacheLuceneCodecsDocValuesFormat_initWithNSString_(self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_PER_FIELD_NAME);
}

NSString *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getSuffixWithNSString_withNSString_(NSString *formatName, NSString *suffix) {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_initialize();
  return JreStrcat("$C$", formatName, '_', suffix);
}

NSString *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getFullSegmentSuffixWithNSString_withNSString_(NSString *outerSegmentSuffix, NSString *segmentSuffix) {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_initialize();
  if (((jint) [((NSString *) nil_chk(outerSegmentSuffix)) length]) == 0) {
    return segmentSuffix;
  }
  else {
    return JreStrcat("$C$", outerSegmentSuffix, '_', segmentSuffix);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat)

@implementation OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix

- (void)close {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(consumer_)) close];
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(consumer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "init", "ConsumerAndSuffix", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "consumer_", NULL, 0x0, "Lorg.apache.lucene.codecs.DocValuesConsumer;", NULL, NULL, .constantValue.asLong = 0 },
    { "suffix_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix = { 2, "ConsumerAndSuffix", "org.apache.lucene.codecs.perfield", "PerFieldDocValuesFormat", 0x8, 2, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix;
}

@end

void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix_init(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix *self) {
  NSObject_init(self);
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix, init)
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix)

@implementation OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
                                   withOrgApacheLuceneIndexSegmentWriteState:(OrgApacheLuceneIndexSegmentWriteState *)state {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(self, outer$, state);
  return self;
}

- (void)addNumericFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                    withJavaLangIterable:(id<JavaLangIterable>)values {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field))) addNumericFieldWithOrgApacheLuceneIndexFieldInfo:field withJavaLangIterable:values];
}

- (void)addBinaryFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                   withJavaLangIterable:(id<JavaLangIterable>)values {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field))) addBinaryFieldWithOrgApacheLuceneIndexFieldInfo:field withJavaLangIterable:values];
}

- (void)addSortedFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                   withJavaLangIterable:(id<JavaLangIterable>)values
                                   withJavaLangIterable:(id<JavaLangIterable>)docToOrd {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field))) addSortedFieldWithOrgApacheLuceneIndexFieldInfo:field withJavaLangIterable:values withJavaLangIterable:docToOrd];
}

- (void)addSortedNumericFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                          withJavaLangIterable:(id<JavaLangIterable>)docToValueCount
                                          withJavaLangIterable:(id<JavaLangIterable>)values {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field))) addSortedNumericFieldWithOrgApacheLuceneIndexFieldInfo:field withJavaLangIterable:docToValueCount withJavaLangIterable:values];
}

- (void)addSortedSetFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field
                                      withJavaLangIterable:(id<JavaLangIterable>)values
                                      withJavaLangIterable:(id<JavaLangIterable>)docToOrdCount
                                      withJavaLangIterable:(id<JavaLangIterable>)ords {
  [((OrgApacheLuceneCodecsDocValuesConsumer *) nil_chk(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field))) addSortedSetFieldWithOrgApacheLuceneIndexFieldInfo:field withJavaLangIterable:values withJavaLangIterable:docToOrdCount withJavaLangIterable:ords];
}

- (OrgApacheLuceneCodecsDocValuesConsumer *)getInstanceWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  return OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(self, field);
}

- (void)close {
  OrgApacheLuceneUtilIOUtils_closeWithJavaLangIterable_([((id<JavaUtilMap>) nil_chk(formats_)) values]);
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(formats_);
  RELEASE_(suffixes_);
  RELEASE_(segmentWriteState_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:withOrgApacheLuceneIndexSegmentWriteState:", "FieldsWriter", NULL, 0x1, NULL, NULL },
    { "addNumericFieldWithOrgApacheLuceneIndexFieldInfo:withJavaLangIterable:", "addNumericField", "V", 0x1, "Ljava.io.IOException;", "(Lorg/apache/lucene/index/FieldInfo;Ljava/lang/Iterable<Ljava/lang/Number;>;)V" },
    { "addBinaryFieldWithOrgApacheLuceneIndexFieldInfo:withJavaLangIterable:", "addBinaryField", "V", 0x1, "Ljava.io.IOException;", "(Lorg/apache/lucene/index/FieldInfo;Ljava/lang/Iterable<Lorg/apache/lucene/util/BytesRef;>;)V" },
    { "addSortedFieldWithOrgApacheLuceneIndexFieldInfo:withJavaLangIterable:withJavaLangIterable:", "addSortedField", "V", 0x1, "Ljava.io.IOException;", "(Lorg/apache/lucene/index/FieldInfo;Ljava/lang/Iterable<Lorg/apache/lucene/util/BytesRef;>;Ljava/lang/Iterable<Ljava/lang/Number;>;)V" },
    { "addSortedNumericFieldWithOrgApacheLuceneIndexFieldInfo:withJavaLangIterable:withJavaLangIterable:", "addSortedNumericField", "V", 0x1, "Ljava.io.IOException;", "(Lorg/apache/lucene/index/FieldInfo;Ljava/lang/Iterable<Ljava/lang/Number;>;Ljava/lang/Iterable<Ljava/lang/Number;>;)V" },
    { "addSortedSetFieldWithOrgApacheLuceneIndexFieldInfo:withJavaLangIterable:withJavaLangIterable:withJavaLangIterable:", "addSortedSetField", "V", 0x1, "Ljava.io.IOException;", "(Lorg/apache/lucene/index/FieldInfo;Ljava/lang/Iterable<Lorg/apache/lucene/util/BytesRef;>;Ljava/lang/Iterable<Ljava/lang/Number;>;Ljava/lang/Iterable<Ljava/lang/Number;>;)V" },
    { "getInstanceWithOrgApacheLuceneIndexFieldInfo:", "getInstance", "Lorg.apache.lucene.codecs.DocValuesConsumer;", 0x2, "Ljava.io.IOException;", NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.codecs.perfield.PerFieldDocValuesFormat;", NULL, NULL, .constantValue.asLong = 0 },
    { "formats_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Lorg/apache/lucene/codecs/DocValuesFormat;Lorg/apache/lucene/codecs/perfield/PerFieldDocValuesFormat$ConsumerAndSuffix;>;", .constantValue.asLong = 0 },
    { "suffixes_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Ljava/lang/String;Ljava/lang/Integer;>;", .constantValue.asLong = 0 },
    { "segmentWriteState_", NULL, 0x12, "Lorg.apache.lucene.index.SegmentWriteState;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter = { 2, "FieldsWriter", "org.apache.lucene.codecs.perfield", "PerFieldDocValuesFormat", 0x2, 8, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter;
}

@end

void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneCodecsDocValuesConsumer_init(self);
  JreStrongAssignAndConsume(&self->formats_, new_JavaUtilHashMap_init());
  JreStrongAssignAndConsume(&self->suffixes_, new_JavaUtilHashMap_init());
  JreStrongAssign(&self->segmentWriteState_, state);
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_, outer$, state)
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentWriteState *state) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentWriteState_, outer$, state)
}

OrgApacheLuceneCodecsDocValuesConsumer *OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter_getInstanceWithOrgApacheLuceneIndexFieldInfo_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter *self, OrgApacheLuceneIndexFieldInfo *field) {
  OrgApacheLuceneCodecsDocValuesFormat *format = nil;
  if ([((OrgApacheLuceneIndexFieldInfo *) nil_chk(field)) getDocValuesGen] != -1) {
    NSString *formatName = [field getAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_FORMAT_KEY)];
    if (formatName != nil) {
      format = OrgApacheLuceneCodecsDocValuesFormat_forNameWithNSString_(formatName);
    }
  }
  if (format == nil) {
    format = [self->this$0_ getDocValuesFormatForFieldWithNSString:field->name_];
  }
  if (format == nil) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$C", @"invalid null DocValuesFormat for field=\"", field->name_, '"'));
  }
  NSString *formatName = [format getName];
  NSString *previousValue = [field putAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_FORMAT_KEY) withNSString:formatName];
  if ([field getDocValuesGen] == -1 && previousValue != nil) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$$$$$$$", @"found existing value for ", JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_FORMAT_KEY), @", field=", field->name_, @", old=", previousValue, @", new=", formatName));
  }
  JavaLangInteger *suffix = nil;
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix *consumer = [((id<JavaUtilMap>) nil_chk(self->formats_)) getWithId:format];
  if (consumer == nil) {
    if ([field getDocValuesGen] != -1) {
      NSString *suffixAtt = [field getAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_SUFFIX_KEY)];
      if (suffixAtt != nil) {
        suffix = JavaLangInteger_valueOfWithNSString_(suffixAtt);
      }
    }
    if (suffix == nil) {
      suffix = [((id<JavaUtilMap>) nil_chk(self->suffixes_)) getWithId:formatName];
      if (suffix == nil) {
        suffix = JavaLangInteger_valueOfWithInt_(0);
      }
      else {
        suffix = JavaLangInteger_valueOfWithInt_([suffix intValue] + 1);
      }
    }
    [((id<JavaUtilMap>) nil_chk(self->suffixes_)) putWithId:formatName withId:suffix];
    NSString *segmentSuffix = OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getFullSegmentSuffixWithNSString_withNSString_(((OrgApacheLuceneIndexSegmentWriteState *) nil_chk(self->segmentWriteState_))->segmentSuffix_, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getSuffixWithNSString_withNSString_(formatName, JavaLangInteger_toStringWithInt_([suffix intValue])));
    consumer = create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_ConsumerAndSuffix_init();
    JreStrongAssign(&consumer->consumer_, [format fieldsConsumerWithOrgApacheLuceneIndexSegmentWriteState:create_OrgApacheLuceneIndexSegmentWriteState_initWithOrgApacheLuceneIndexSegmentWriteState_withNSString_(self->segmentWriteState_, segmentSuffix)]);
    consumer->suffix_ = [suffix intValue];
    [self->formats_ putWithId:format withId:consumer];
  }
  else {
    JreAssert(([((id<JavaUtilMap>) nil_chk(self->suffixes_)) containsKeyWithId:formatName]), (@"org/apache/lucene/codecs/perfield/PerFieldDocValuesFormat.java:192 condition failed: assert suffixes.containsKey(formatName);"));
    suffix = JavaLangInteger_valueOfWithInt_(consumer->suffix_);
  }
  previousValue = [field putAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_SUFFIX_KEY) withNSString:JavaLangInteger_toStringWithInt_([suffix intValue])];
  if ([field getDocValuesGen] == -1 && previousValue != nil) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$$$$$$@", @"found existing value for ", JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_SUFFIX_KEY), @", field=", field->name_, @", old=", previousValue, @", new=", suffix));
  }
  return consumer->consumer_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsWriter)

@implementation OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
       withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *)other {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(self, outer$, other);
  return self;
}

- (instancetype)initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *)outer$
                                    withOrgApacheLuceneIndexSegmentReadState:(OrgApacheLuceneIndexSegmentReadState *)readState {
  OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(self, outer$, readState);
  return self;
}

- (OrgApacheLuceneIndexNumericDocValues *)getNumericWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getNumericWithOrgApacheLuceneIndexFieldInfo:field];
}

- (OrgApacheLuceneIndexBinaryDocValues *)getBinaryWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getBinaryWithOrgApacheLuceneIndexFieldInfo:field];
}

- (OrgApacheLuceneIndexSortedDocValues *)getSortedWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getSortedWithOrgApacheLuceneIndexFieldInfo:field];
}

- (OrgApacheLuceneIndexSortedNumericDocValues *)getSortedNumericWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getSortedNumericWithOrgApacheLuceneIndexFieldInfo:field];
}

- (OrgApacheLuceneIndexSortedSetDocValues *)getSortedSetWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getSortedSetWithOrgApacheLuceneIndexFieldInfo:field];
}

- (id<OrgApacheLuceneUtilBits>)getDocsWithFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  OrgApacheLuceneCodecsDocValuesProducer *producer = [((id<JavaUtilMap>) nil_chk(fields_)) getWithId:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_];
  return producer == nil ? nil : [producer getDocsWithFieldWithOrgApacheLuceneIndexFieldInfo:field];
}

- (void)close {
  OrgApacheLuceneUtilIOUtils_closeWithJavaLangIterable_([((id<JavaUtilMap>) nil_chk(formats_)) values]);
}

- (jlong)ramBytesUsed {
  jlong size = 0;
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([((id<JavaUtilMap>) nil_chk(formats_)) entrySet])) {
    size += (((jint) [((NSString *) nil_chk([((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey])) length]) * OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_CHAR) + [((OrgApacheLuceneCodecsDocValuesProducer *) nil_chk([entry_ getValue])) ramBytesUsed];
  }
  return size;
}

- (id<JavaUtilCollection>)getChildResources {
  return OrgApacheLuceneUtilAccountables_namedAccountablesWithNSString_withJavaUtilMap_(@"format", formats_);
}

- (void)checkIntegrity {
  for (OrgApacheLuceneCodecsDocValuesProducer * __strong format in nil_chk([((id<JavaUtilMap>) nil_chk(formats_)) values])) {
    [((OrgApacheLuceneCodecsDocValuesProducer *) nil_chk(format)) checkIntegrity];
  }
}

- (OrgApacheLuceneCodecsDocValuesProducer *)getMergeInstance {
  return create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(this$0_, self);
}

- (NSString *)description {
  return JreStrcat("$IC", @"PerFieldDocValues(formats=", [((id<JavaUtilMap>) nil_chk(formats_)) size], ')');
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(fields_);
  RELEASE_(formats_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader:", "FieldsReader", NULL, 0x0, NULL, NULL },
    { "initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat:withOrgApacheLuceneIndexSegmentReadState:", "FieldsReader", NULL, 0x1, NULL, NULL },
    { "getNumericWithOrgApacheLuceneIndexFieldInfo:", "getNumeric", "Lorg.apache.lucene.index.NumericDocValues;", 0x1, "Ljava.io.IOException;", NULL },
    { "getBinaryWithOrgApacheLuceneIndexFieldInfo:", "getBinary", "Lorg.apache.lucene.index.BinaryDocValues;", 0x1, "Ljava.io.IOException;", NULL },
    { "getSortedWithOrgApacheLuceneIndexFieldInfo:", "getSorted", "Lorg.apache.lucene.index.SortedDocValues;", 0x1, "Ljava.io.IOException;", NULL },
    { "getSortedNumericWithOrgApacheLuceneIndexFieldInfo:", "getSortedNumeric", "Lorg.apache.lucene.index.SortedNumericDocValues;", 0x1, "Ljava.io.IOException;", NULL },
    { "getSortedSetWithOrgApacheLuceneIndexFieldInfo:", "getSortedSet", "Lorg.apache.lucene.index.SortedSetDocValues;", 0x1, "Ljava.io.IOException;", NULL },
    { "getDocsWithFieldWithOrgApacheLuceneIndexFieldInfo:", "getDocsWithField", "Lorg.apache.lucene.util.Bits;", 0x1, "Ljava.io.IOException;", NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, "()Ljava/util/Collection<Lorg/apache/lucene/util/Accountable;>;" },
    { "checkIntegrity", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "getMergeInstance", NULL, "Lorg.apache.lucene.codecs.DocValuesProducer;", 0x1, "Ljava.io.IOException;", NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.codecs.perfield.PerFieldDocValuesFormat;", NULL, NULL, .constantValue.asLong = 0 },
    { "fields_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Ljava/lang/String;Lorg/apache/lucene/codecs/DocValuesProducer;>;", .constantValue.asLong = 0 },
    { "formats_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Ljava/lang/String;Lorg/apache/lucene/codecs/DocValuesProducer;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader = { 2, "FieldsReader", "org.apache.lucene.codecs.perfield", "PerFieldDocValuesFormat", 0x2, 14, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader;
}

@end

void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneCodecsDocValuesProducer_init(self);
  JreStrongAssignAndConsume(&self->fields_, new_JavaUtilTreeMap_init());
  JreStrongAssignAndConsume(&self->formats_, new_JavaUtilHashMap_init());
  id<JavaUtilMap> oldToNew = create_JavaUtilIdentityHashMap_init();
  for (id<JavaUtilMap_Entry> __strong ent in nil_chk([((OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *) nil_chk(other))->formats_ entrySet])) {
    OrgApacheLuceneCodecsDocValuesProducer *values = [((OrgApacheLuceneCodecsDocValuesProducer *) nil_chk([((id<JavaUtilMap_Entry>) nil_chk(ent)) getValue])) getMergeInstance];
    [self->formats_ putWithId:[ent getKey] withId:values];
    [oldToNew putWithId:[ent getValue] withId:values];
  }
  for (id<JavaUtilMap_Entry> __strong ent in nil_chk([other->fields_ entrySet])) {
    OrgApacheLuceneCodecsDocValuesProducer *producer = [oldToNew getWithId:[((id<JavaUtilMap_Entry>) nil_chk(ent)) getValue]];
    JreAssert((producer != nil), (@"org/apache/lucene/codecs/perfield/PerFieldDocValuesFormat.java:244 condition failed: assert producer != null;"));
    [self->fields_ putWithId:[ent getKey] withId:producer];
  }
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_, outer$, other)
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *other) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_, outer$, other)
}

void OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *self, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneCodecsDocValuesProducer_init(self);
  JreStrongAssignAndConsume(&self->fields_, new_JavaUtilTreeMap_init());
  JreStrongAssignAndConsume(&self->formats_, new_JavaUtilHashMap_init());
  jboolean success = false;
  @try {
    for (OrgApacheLuceneIndexFieldInfo * __strong fi in nil_chk(((OrgApacheLuceneIndexSegmentReadState *) nil_chk(readState))->fieldInfos_)) {
      if ([((OrgApacheLuceneIndexFieldInfo *) nil_chk(fi)) getDocValuesType] != JreLoadEnum(OrgApacheLuceneIndexDocValuesType, NONE)) {
        NSString *fieldName = fi->name_;
        NSString *formatName = [fi getAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_FORMAT_KEY)];
        if (formatName != nil) {
          NSString *suffix = [fi getAttributeWithNSString:JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_SUFFIX_KEY)];
          if (suffix == nil) {
            @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$$$", @"missing attribute: ", JreLoadStatic(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat, PER_FIELD_SUFFIX_KEY), @" for field: ", fieldName));
          }
          OrgApacheLuceneCodecsDocValuesFormat *format = OrgApacheLuceneCodecsDocValuesFormat_forNameWithNSString_(formatName);
          NSString *segmentSuffix = OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getFullSegmentSuffixWithNSString_withNSString_(readState->segmentSuffix_, OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_getSuffixWithNSString_withNSString_(formatName, suffix));
          if (![self->formats_ containsKeyWithId:segmentSuffix]) {
            [self->formats_ putWithId:segmentSuffix withId:[((OrgApacheLuceneCodecsDocValuesFormat *) nil_chk(format)) fieldsProducerWithOrgApacheLuceneIndexSegmentReadState:create_OrgApacheLuceneIndexSegmentReadState_initWithOrgApacheLuceneIndexSegmentReadState_withNSString_(readState, segmentSuffix)]];
          }
          [self->fields_ putWithId:fieldName withId:[self->formats_ getWithId:segmentSuffix]];
        }
      }
    }
    success = true;
  }
  @finally {
    if (!success) {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaLangIterable_([self->formats_ values]);
    }
  }
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *new_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_, outer$, readState)
}

OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader *create_OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader_initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat *outer$, OrgApacheLuceneIndexSegmentReadState *readState) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader, initWithOrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_withOrgApacheLuceneIndexSegmentReadState_, outer$, readState)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsPerfieldPerFieldDocValuesFormat_FieldsReader)
