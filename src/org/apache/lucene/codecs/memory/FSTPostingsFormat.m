//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./codecs/src/java/org/apache/lucene/codecs/memory/FSTPostingsFormat.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "org/apache/lucene/codecs/FieldsConsumer.h"
#include "org/apache/lucene/codecs/FieldsProducer.h"
#include "org/apache/lucene/codecs/PostingsFormat.h"
#include "org/apache/lucene/codecs/PostingsReaderBase.h"
#include "org/apache/lucene/codecs/PostingsWriterBase.h"
#include "org/apache/lucene/codecs/lucene50/Lucene50PostingsReader.h"
#include "org/apache/lucene/codecs/lucene50/Lucene50PostingsWriter.h"
#include "org/apache/lucene/codecs/memory/FSTPostingsFormat.h"
#include "org/apache/lucene/codecs/memory/FSTTermsReader.h"
#include "org/apache/lucene/codecs/memory/FSTTermsWriter.h"
#include "org/apache/lucene/index/SegmentReadState.h"
#include "org/apache/lucene/index/SegmentWriteState.h"
#include "org/apache/lucene/util/IOUtils.h"

@implementation OrgApacheLuceneCodecsMemoryFSTPostingsFormat

- (instancetype)init {
  OrgApacheLuceneCodecsMemoryFSTPostingsFormat_init(self);
  return self;
}

- (NSString *)description {
  return [self getName];
}

- (OrgApacheLuceneCodecsFieldsConsumer *)fieldsConsumerWithOrgApacheLuceneIndexSegmentWriteState:(OrgApacheLuceneIndexSegmentWriteState *)state {
  OrgApacheLuceneCodecsPostingsWriterBase *postingsWriter = [new_OrgApacheLuceneCodecsLucene50Lucene50PostingsWriter_initWithOrgApacheLuceneIndexSegmentWriteState_(state) autorelease];
  jboolean success = NO;
  @try {
    OrgApacheLuceneCodecsFieldsConsumer *ret = [new_OrgApacheLuceneCodecsMemoryFSTTermsWriter_initWithOrgApacheLuceneIndexSegmentWriteState_withOrgApacheLuceneCodecsPostingsWriterBase_(state, postingsWriter) autorelease];
    success = YES;
    return ret;
  }
  @finally {
    if (!success) {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ postingsWriter } count:1 type:JavaIoCloseable_class_()]);
    }
  }
}

- (OrgApacheLuceneCodecsFieldsProducer *)fieldsProducerWithOrgApacheLuceneIndexSegmentReadState:(OrgApacheLuceneIndexSegmentReadState *)state {
  OrgApacheLuceneCodecsPostingsReaderBase *postingsReader = [new_OrgApacheLuceneCodecsLucene50Lucene50PostingsReader_initWithOrgApacheLuceneIndexSegmentReadState_(state) autorelease];
  jboolean success = NO;
  @try {
    OrgApacheLuceneCodecsFieldsProducer *ret = [new_OrgApacheLuceneCodecsMemoryFSTTermsReader_initWithOrgApacheLuceneIndexSegmentReadState_withOrgApacheLuceneCodecsPostingsReaderBase_(state, postingsReader) autorelease];
    success = YES;
    return ret;
  }
  @finally {
    if (!success) {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ postingsReader } count:1 type:JavaIoCloseable_class_()]);
    }
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "FSTPostingsFormat", NULL, 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "fieldsConsumerWithOrgApacheLuceneIndexSegmentWriteState:", "fieldsConsumer", "Lorg.apache.lucene.codecs.FieldsConsumer;", 0x1, "Ljava.io.IOException;", NULL },
    { "fieldsProducerWithOrgApacheLuceneIndexSegmentReadState:", "fieldsProducer", "Lorg.apache.lucene.codecs.FieldsProducer;", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTPostingsFormat = { 2, "FSTPostingsFormat", "org.apache.lucene.codecs.memory", NULL, 0x11, 4, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTPostingsFormat;
}

@end

void OrgApacheLuceneCodecsMemoryFSTPostingsFormat_init(OrgApacheLuceneCodecsMemoryFSTPostingsFormat *self) {
  OrgApacheLuceneCodecsPostingsFormat_initWithNSString_(self, @"FST50");
}

OrgApacheLuceneCodecsMemoryFSTPostingsFormat *new_OrgApacheLuceneCodecsMemoryFSTPostingsFormat_init() {
  OrgApacheLuceneCodecsMemoryFSTPostingsFormat *self = [OrgApacheLuceneCodecsMemoryFSTPostingsFormat alloc];
  OrgApacheLuceneCodecsMemoryFSTPostingsFormat_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTPostingsFormat)
