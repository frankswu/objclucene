//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./codecs/src/java/org/apache/lucene/codecs/memory/FSTOrdTermsReader.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "java/lang/Long.h"
#include "java/lang/System.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/ArrayList.h"
#include "java/util/Arrays.h"
#include "java/util/BitSet.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Set.h"
#include "java/util/TreeMap.h"
#include "org/apache/lucene/codecs/BlockTermState.h"
#include "org/apache/lucene/codecs/CodecUtil.h"
#include "org/apache/lucene/codecs/FieldsProducer.h"
#include "org/apache/lucene/codecs/PostingsReaderBase.h"
#include "org/apache/lucene/codecs/memory/FSTOrdTermsReader.h"
#include "org/apache/lucene/codecs/memory/FSTOrdTermsWriter.h"
#include "org/apache/lucene/index/CorruptIndexException.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInfos.h"
#include "org/apache/lucene/index/IndexFileNames.h"
#include "org/apache/lucene/index/IndexOptions.h"
#include "org/apache/lucene/index/PostingsEnum.h"
#include "org/apache/lucene/index/SegmentInfo.h"
#include "org/apache/lucene/index/SegmentReadState.h"
#include "org/apache/lucene/index/TermState.h"
#include "org/apache/lucene/index/Terms.h"
#include "org/apache/lucene/index/TermsEnum.h"
#include "org/apache/lucene/store/ByteArrayDataInput.h"
#include "org/apache/lucene/store/ChecksumIndexInput.h"
#include "org/apache/lucene/store/Directory.h"
#include "org/apache/lucene/store/IOContext.h"
#include "org/apache/lucene/store/IndexInput.h"
#include "org/apache/lucene/util/Accountable.h"
#include "org/apache/lucene/util/Accountables.h"
#include "org/apache/lucene/util/ArrayUtil.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefBuilder.h"
#include "org/apache/lucene/util/IOUtils.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"
#include "org/apache/lucene/util/automaton/ByteRunAutomaton.h"
#include "org/apache/lucene/util/automaton/CompiledAutomaton.h"
#include "org/apache/lucene/util/fst/BytesRefFSTEnum.h"
#include "org/apache/lucene/util/fst/FST.h"
#include "org/apache/lucene/util/fst/Outputs.h"
#include "org/apache/lucene/util/fst/PositiveIntOutputs.h"
#include "org/apache/lucene/util/fst/Util.h"

@class OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame;

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader ()

- (void)seekDirWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg;

- (void)checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo:(OrgApacheLuceneIndexSegmentInfo *)info
                          withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)indexIn
                          withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)blockIn
withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)field
withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)previous;

@end

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_seekDirWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self, OrgApacheLuceneStoreIndexInput *inArg);

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self, OrgApacheLuceneIndexSegmentInfo *info, OrgApacheLuceneStoreIndexInput *indexIn, OrgApacheLuceneStoreIndexInput *blockIn, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *field, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *previous);

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader () {
 @public
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *this$0_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader, this$0_, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *)

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum () {
 @public
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *this$0_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum, this$0_, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillStats(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum *self);

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillMetadata(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum *self);

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum : OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum {
 @public
  OrgApacheLuceneUtilFstBytesRefFSTEnum *fstEnum_;
  OrgApacheLuceneUtilBytesRef *term_;
  jboolean decoded_;
  jboolean seekPending_;
}

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)outer$;

- (OrgApacheLuceneUtilBytesRef *)term;

- (void)decodeMetaData;

- (void)updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:(OrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput *)pair;

- (OrgApacheLuceneUtilBytesRef *)next;

- (jboolean)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target;

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target;

- (void)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target
               withOrgApacheLuceneIndexTermState:(OrgApacheLuceneIndexTermState *)otherState;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum)

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum, fstEnum_, OrgApacheLuceneUtilFstBytesRefFSTEnum *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum, term_, OrgApacheLuceneUtilBytesRef *)

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$);

__attribute__((unused)) static OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum)

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum : OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum {
 @public
  OrgApacheLuceneUtilBytesRefBuilder *term_;
  jboolean decoded_;
  jboolean pending_;
  IOSObjectArray *stack_;
  jint level_;
  OrgApacheLuceneUtilFstFST *fst_;
  OrgApacheLuceneUtilFstFST_BytesReader *fstReader_;
  OrgApacheLuceneUtilFstOutputs *fstOutputs_;
  OrgApacheLuceneUtilAutomatonByteRunAutomaton *fsa_;
}

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)outer$
                               withOrgApacheLuceneUtilAutomatonCompiledAutomaton:(OrgApacheLuceneUtilAutomatonCompiledAutomaton *)compiled
                                                 withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)startTerm;

- (OrgApacheLuceneUtilBytesRef *)term;

- (void)decodeMetaData;

- (void)decodeStats;

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target;

- (OrgApacheLuceneUtilBytesRef *)next;

- (OrgApacheLuceneUtilBytesRef *)doSeekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadVirtualFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadFirstFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadExpandFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                                                                                                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                                                                                                    withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadCeilFrameWithInt:(jint)label
                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (jboolean)isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (jboolean)isValidWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (jboolean)canGrowWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (jboolean)canRewindWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (void)pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)popFrame;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)newFrame OBJC_METHOD_FAMILY_NONE;

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)topFrame;

- (OrgApacheLuceneUtilBytesRefBuilder *)growWithInt:(jint)label;

- (OrgApacheLuceneUtilBytesRefBuilder *)shrink;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum)

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, term_, OrgApacheLuceneUtilBytesRefBuilder *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, stack_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, fst_, OrgApacheLuceneUtilFstFST *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, fstReader_, OrgApacheLuceneUtilFstFST_BytesReader *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, fstOutputs_, OrgApacheLuceneUtilFstOutputs *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum, fsa_, OrgApacheLuceneUtilAutomatonByteRunAutomaton *)

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$, OrgApacheLuceneUtilAutomatonCompiledAutomaton *compiled, OrgApacheLuceneUtilBytesRef *startTerm);

__attribute__((unused)) static OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$, OrgApacheLuceneUtilAutomatonCompiledAutomaton *compiled, OrgApacheLuceneUtilBytesRef *startTerm) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum)

@interface OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame : NSObject {
 @public
  OrgApacheLuceneUtilFstFST_Arc *arc_;
  jint state_;
}

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *)outer$;

- (NSString *)description;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame)

J2OBJC_FIELD_SETTER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame, arc_, OrgApacheLuceneUtilFstFST_Arc *)

__attribute__((unused)) static void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *outer$);

__attribute__((unused)) static OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader

- (instancetype)initWithOrgApacheLuceneIndexSegmentReadState:(OrgApacheLuceneIndexSegmentReadState *)state
                 withOrgApacheLuceneCodecsPostingsReaderBase:(OrgApacheLuceneCodecsPostingsReaderBase *)postingsReader {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_initWithOrgApacheLuceneIndexSegmentReadState_withOrgApacheLuceneCodecsPostingsReaderBase_(self, state, postingsReader);
  return self;
}

- (void)seekDirWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_seekDirWithOrgApacheLuceneStoreIndexInput_(self, inArg);
}

- (void)checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo:(OrgApacheLuceneIndexSegmentInfo *)info
                          withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)indexIn
                          withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)blockIn
withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)field
withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)previous {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, info, indexIn, blockIn, field, previous);
}

- (id<JavaUtilIterator>)iterator {
  return [((id<JavaUtilSet>) nil_chk(JavaUtilCollections_unmodifiableSetWithJavaUtilSet_([((JavaUtilTreeMap *) nil_chk(fields_)) keySet]))) iterator];
}

- (OrgApacheLuceneIndexTerms *)termsWithNSString:(NSString *)field {
  JreAssert((field != nil), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:165 condition failed: assert field != null;"));
  return [((JavaUtilTreeMap *) nil_chk(fields_)) getWithId:field];
}

- (jint)size {
  return [((JavaUtilTreeMap *) nil_chk(fields_)) size];
}

- (void)close {
  @try {
    OrgApacheLuceneUtilIOUtils_closeWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ postingsReader_ } count:1 type:JavaIoCloseable_class_()]);
  }
  @finally {
    [((JavaUtilTreeMap *) nil_chk(fields_)) clear];
  }
}

+ (void)walkWithOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)fst {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_walkWithOrgApacheLuceneUtilFstFST_(fst);
}

- (jlong)ramBytesUsed {
  jlong ramBytesUsed = [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(postingsReader_)) ramBytesUsed];
  for (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader * __strong r in nil_chk([((JavaUtilTreeMap *) nil_chk(fields_)) values])) {
    ramBytesUsed += [((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *) nil_chk(r)) ramBytesUsed];
  }
  return ramBytesUsed;
}

- (id<JavaUtilCollection>)getChildResources {
  id<JavaUtilList> resources = [new_JavaUtilArrayList_init() autorelease];
  [resources addAllWithJavaUtilCollection:OrgApacheLuceneUtilAccountables_namedAccountablesWithNSString_withJavaUtilMap_(@"field", fields_)];
  [resources addWithId:OrgApacheLuceneUtilAccountables_namedAccountableWithNSString_withOrgApacheLuceneUtilAccountable_(@"delegate", postingsReader_)];
  return JavaUtilCollections_unmodifiableListWithJavaUtilList_(resources);
}

- (NSString *)description {
  return JreStrcat("$$I$@C", [[self getClass] getSimpleName], @"(fields=", [((JavaUtilTreeMap *) nil_chk(fields_)) size], @",delegate=", postingsReader_, ')');
}

- (void)checkIntegrity {
  [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(postingsReader_)) checkIntegrity];
}

- (void)dealloc {
  RELEASE_(fields_);
  RELEASE_(postingsReader_);
  [super dealloc];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexSegmentReadState:withOrgApacheLuceneCodecsPostingsReaderBase:", "FSTOrdTermsReader", NULL, 0x1, "Ljava.io.IOException;", NULL },
    { "seekDirWithOrgApacheLuceneStoreIndexInput:", "seekDir", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo:withOrgApacheLuceneStoreIndexInput:withOrgApacheLuceneStoreIndexInput:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:", "checkFieldSummary", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "iterator", NULL, "Ljava.util.Iterator;", 0x1, NULL, NULL },
    { "termsWithNSString:", "terms", "Lorg.apache.lucene.index.Terms;", 0x1, "Ljava.io.IOException;", NULL },
    { "size", NULL, "I", 0x1, NULL, NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "walkWithOrgApacheLuceneUtilFstFST:", "walk", "V", 0x8, "Ljava.io.IOException;", "<T:Ljava/lang/Object;>(Lorg/apache/lucene/util/fst/FST<TT;>;)V" },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "checkIntegrity", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "INTERVAL", "INTERVAL", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL },
    { "fields_", NULL, 0x10, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Ljava/lang/String;Lorg/apache/lucene/codecs/memory/FSTOrdTermsReader$TermsReader;>;", .constantValue.asLong = 0 },
    { "postingsReader_", NULL, 0x10, "Lorg.apache.lucene.codecs.PostingsReaderBase;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader;"};
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader = { 2, "FSTOrdTermsReader", "org.apache.lucene.codecs.memory", NULL, 0x1, 12, methods, 3, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_initWithOrgApacheLuceneIndexSegmentReadState_withOrgApacheLuceneCodecsPostingsReaderBase_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self, OrgApacheLuceneIndexSegmentReadState *state, OrgApacheLuceneCodecsPostingsReaderBase *postingsReader) {
  OrgApacheLuceneCodecsFieldsProducer_init(self);
  JreStrongAssignAndConsume(&self->fields_, new_JavaUtilTreeMap_init());
  NSString *termsIndexFileName = OrgApacheLuceneIndexIndexFileNames_segmentFileNameWithNSString_withNSString_withNSString_(((OrgApacheLuceneIndexSegmentInfo *) nil_chk(((OrgApacheLuceneIndexSegmentReadState *) nil_chk(state))->segmentInfo_))->name_, state->segmentSuffix_, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_TERMS_INDEX_EXTENSION_);
  NSString *termsBlockFileName = OrgApacheLuceneIndexIndexFileNames_segmentFileNameWithNSString_withNSString_withNSString_(state->segmentInfo_->name_, state->segmentSuffix_, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_TERMS_BLOCK_EXTENSION_);
  JreStrongAssign(&self->postingsReader_, postingsReader);
  OrgApacheLuceneStoreChecksumIndexInput *indexIn = nil;
  OrgApacheLuceneStoreIndexInput *blockIn = nil;
  jboolean success = NO;
  @try {
    indexIn = [((OrgApacheLuceneStoreDirectory *) nil_chk(state->directory_)) openChecksumInputWithNSString:termsIndexFileName withOrgApacheLuceneStoreIOContext:state->context_];
    blockIn = [state->directory_ openInputWithNSString:termsBlockFileName withOrgApacheLuceneStoreIOContext:state->context_];
    jint version_ = OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_withByteArray_withNSString_(indexIn, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_TERMS_INDEX_CODEC_NAME_, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_VERSION_START, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_VERSION_CURRENT, [state->segmentInfo_ getId], state->segmentSuffix_);
    jint version2 = OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_withByteArray_withNSString_(blockIn, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_TERMS_CODEC_NAME_, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_VERSION_START, OrgApacheLuceneCodecsMemoryFSTOrdTermsWriter_VERSION_CURRENT, [state->segmentInfo_ getId], state->segmentSuffix_);
    if (version_ != version2) {
      @throw [new_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$I$I", @"Format versions mismatch: index=", version_, @", terms=", version2), blockIn) autorelease];
    }
    OrgApacheLuceneCodecsCodecUtil_checksumEntireFileWithOrgApacheLuceneStoreIndexInput_(blockIn);
    [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(self->postingsReader_)) init__WithOrgApacheLuceneStoreIndexInput:blockIn withOrgApacheLuceneIndexSegmentReadState:state];
    OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_seekDirWithOrgApacheLuceneStoreIndexInput_(self, blockIn);
    OrgApacheLuceneIndexFieldInfos *fieldInfos = state->fieldInfos_;
    jint numFields = [((OrgApacheLuceneStoreIndexInput *) nil_chk(blockIn)) readVInt];
    for (jint i = 0; i < numFields; i++) {
      OrgApacheLuceneIndexFieldInfo *fieldInfo = [((OrgApacheLuceneIndexFieldInfos *) nil_chk(fieldInfos)) fieldInfoWithInt:[blockIn readVInt]];
      jboolean hasFreq = [((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo)) getIndexOptions] != JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS);
      jlong numTerms = [blockIn readVLong];
      jlong sumTotalTermFreq = hasFreq ? [blockIn readVLong] : -1;
      jlong sumDocFreq = [blockIn readVLong];
      jint docCount = [blockIn readVInt];
      jint longsSize = [blockIn readVInt];
      OrgApacheLuceneUtilFstFST *index = [new_OrgApacheLuceneUtilFstFST_initWithOrgApacheLuceneStoreDataInput_withOrgApacheLuceneUtilFstOutputs_(indexIn, OrgApacheLuceneUtilFstPositiveIntOutputs_getSingleton()) autorelease];
      OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *current = [new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withInt_withInt_withOrgApacheLuceneUtilFstFST_(self, fieldInfo, blockIn, numTerms, sumTotalTermFreq, sumDocFreq, docCount, longsSize, index) autorelease];
      OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *previous = [self->fields_ putWithId:fieldInfo->name_ withId:current];
      OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, state->segmentInfo_, indexIn, blockIn, current, previous);
    }
    OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(indexIn);
    success = YES;
  }
  @finally {
    if (success) {
      OrgApacheLuceneUtilIOUtils_closeWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ indexIn, blockIn } count:2 type:JavaIoCloseable_class_()]);
    }
    else {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ indexIn, blockIn } count:2 type:JavaIoCloseable_class_()]);
    }
  }
}

OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_initWithOrgApacheLuceneIndexSegmentReadState_withOrgApacheLuceneCodecsPostingsReaderBase_(OrgApacheLuceneIndexSegmentReadState *state, OrgApacheLuceneCodecsPostingsReaderBase *postingsReader) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self = [OrgApacheLuceneCodecsMemoryFSTOrdTermsReader alloc];
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_initWithOrgApacheLuceneIndexSegmentReadState_withOrgApacheLuceneCodecsPostingsReaderBase_(self, state, postingsReader);
  return self;
}

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_seekDirWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self, OrgApacheLuceneStoreIndexInput *inArg) {
  [inArg seekWithLong:[((OrgApacheLuceneStoreIndexInput *) nil_chk(inArg)) length] - OrgApacheLuceneCodecsCodecUtil_footerLength() - 8];
  [inArg seekWithLong:[inArg readLong]];
}

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_checkFieldSummaryWithOrgApacheLuceneIndexSegmentInfo_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneStoreIndexInput_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *self, OrgApacheLuceneIndexSegmentInfo *info, OrgApacheLuceneStoreIndexInput *indexIn, OrgApacheLuceneStoreIndexInput *blockIn, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *field, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *previous) {
  if (((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *) nil_chk(field))->docCount_ < 0 || field->docCount_ > [((OrgApacheLuceneIndexSegmentInfo *) nil_chk(info)) maxDoc]) {
    @throw [new_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$I$I$@C", @"invalid docCount: ", field->docCount_, @" maxDoc: ", [((OrgApacheLuceneIndexSegmentInfo *) nil_chk(info)) maxDoc], @" (blockIn=", blockIn, ')'), indexIn) autorelease];
  }
  if (field->sumDocFreq_ < field->docCount_) {
    @throw [new_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$I$@C", @"invalid sumDocFreq: ", field->sumDocFreq_, @" docCount: ", field->docCount_, @" (blockIn=", blockIn, ')'), indexIn) autorelease];
  }
  if (field->sumTotalTermFreq_ != -1 && field->sumTotalTermFreq_ < field->sumDocFreq_) {
    @throw [new_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$J$@C", @"invalid sumTotalTermFreq: ", field->sumTotalTermFreq_, @" sumDocFreq: ", field->sumDocFreq_, @" (blockIn=", blockIn, ')'), indexIn) autorelease];
  }
  if (previous != nil) {
    @throw [new_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$@C", @"duplicate fields: ", ((OrgApacheLuceneIndexFieldInfo *) nil_chk(field->fieldInfo_))->name_, @" (blockIn=", blockIn, ')'), indexIn) autorelease];
  }
}

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_walkWithOrgApacheLuceneUtilFstFST_(OrgApacheLuceneUtilFstFST *fst) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_initialize();
  JavaUtilArrayList *queue = [new_JavaUtilArrayList_init() autorelease];
  JavaUtilBitSet *seen = [new_JavaUtilBitSet_init() autorelease];
  OrgApacheLuceneUtilFstFST_BytesReader *reader = [((OrgApacheLuceneUtilFstFST *) nil_chk(fst)) getBytesReader];
  OrgApacheLuceneUtilFstFST_Arc *startArc = [fst getFirstArcWithOrgApacheLuceneUtilFstFST_Arc:[new_OrgApacheLuceneUtilFstFST_Arc_init() autorelease]];
  [queue addWithId:startArc];
  while (![queue isEmpty]) {
    OrgApacheLuceneUtilFstFST_Arc *arc = [queue removeWithInt:0];
    jlong node = ((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(arc))->target_;
    if (OrgApacheLuceneUtilFstFST_targetHasArcsWithOrgApacheLuceneUtilFstFST_Arc_(arc) && ![seen getWithInt:(jint) node]) {
      [seen setWithInt:(jint) node];
      [fst readFirstRealTargetArcWithLong:node withOrgApacheLuceneUtilFstFST_Arc:arc withOrgApacheLuceneUtilFstFST_BytesReader:reader];
      while (YES) {
        [queue addWithId:[((OrgApacheLuceneUtilFstFST_Arc *) [new_OrgApacheLuceneUtilFstFST_Arc_init() autorelease]) copyFromWithOrgApacheLuceneUtilFstFST_Arc:arc]];
        if ([arc isLast]) {
          break;
        }
        else {
          [fst readNextRealArcWithOrgApacheLuceneUtilFstFST_Arc:arc withOrgApacheLuceneUtilFstFST_BytesReader:reader];
        }
      }
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *)outer$
                                   withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                  withOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)blockIn
                                                            withLong:(jlong)numTerms
                                                            withLong:(jlong)sumTotalTermFreq
                                                            withLong:(jlong)sumDocFreq
                                                             withInt:(jint)docCount
                                                             withInt:(jint)longsSize
                                       withOrgApacheLuceneUtilFstFST:(OrgApacheLuceneUtilFstFST *)index {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withInt_withInt_withOrgApacheLuceneUtilFstFST_(self, outer$, fieldInfo, blockIn, numTerms, sumTotalTermFreq, sumDocFreq, docCount, longsSize, index);
  return self;
}

- (jboolean)hasFreqs {
  return [((OrgApacheLuceneIndexIndexOptionsEnum *) nil_chk([((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_)) getIndexOptions])) compareToWithId:JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS)] >= 0;
}

- (jboolean)hasOffsets {
  return [((OrgApacheLuceneIndexIndexOptionsEnum *) nil_chk([((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_)) getIndexOptions])) compareToWithId:JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS)] >= 0;
}

- (jboolean)hasPositions {
  return [((OrgApacheLuceneIndexIndexOptionsEnum *) nil_chk([((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_)) getIndexOptions])) compareToWithId:JreLoadStatic(OrgApacheLuceneIndexIndexOptionsEnum, DOCS_AND_FREQS_AND_POSITIONS)] >= 0;
}

- (jboolean)hasPayloads {
  return [((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_)) hasPayloads];
}

- (jlong)size {
  return numTerms_;
}

- (jlong)getSumTotalTermFreq {
  return sumTotalTermFreq_;
}

- (jlong)getSumDocFreq {
  return sumDocFreq_;
}

- (jint)getDocCount {
  return docCount_;
}

- (OrgApacheLuceneIndexTermsEnum *)iterator {
  return [new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self) autorelease];
}

- (OrgApacheLuceneIndexTermsEnum *)intersectWithOrgApacheLuceneUtilAutomatonCompiledAutomaton:(OrgApacheLuceneUtilAutomatonCompiledAutomaton *)compiled
                                                              withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)startTerm {
  return [new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(self, compiled, startTerm) autorelease];
}

- (jlong)ramBytesUsed {
  jlong ramBytesUsed = 0;
  if (index_ != nil) {
    ramBytesUsed += [index_ ramBytesUsed];
    ramBytesUsed += OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithByteArray_(metaBytesBlock_);
    ramBytesUsed += OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithByteArray_(metaLongsBlock_);
    ramBytesUsed += OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithLongArray_(skipInfo_);
    ramBytesUsed += OrgApacheLuceneUtilRamUsageEstimator_sizeOfWithByteArray_(statsBlock_);
  }
  return ramBytesUsed;
}

- (id<JavaUtilCollection>)getChildResources {
  if (index_ == nil) {
    return JavaUtilCollections_emptyList();
  }
  else {
    return JavaUtilCollections_singletonListWithId_(OrgApacheLuceneUtilAccountables_namedAccountableWithNSString_withOrgApacheLuceneUtilAccountable_(@"terms", index_));
  }
}

- (NSString *)description {
  return JreStrcat("$J$J$J$IC", @"FSTOrdTerms(terms=", numTerms_, @",postings=", sumDocFreq_, @",positions=", sumTotalTermFreq_, @",docs=", docCount_, ')');
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(fieldInfo_);
  RELEASE_(index_);
  RELEASE_(skipInfo_);
  RELEASE_(statsBlock_);
  RELEASE_(metaLongsBlock_);
  RELEASE_(metaBytesBlock_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader:withOrgApacheLuceneIndexFieldInfo:withOrgApacheLuceneStoreIndexInput:withLong:withLong:withLong:withInt:withInt:withOrgApacheLuceneUtilFstFST:", "TermsReader", NULL, 0x0, NULL, NULL },
    { "hasFreqs", NULL, "Z", 0x1, NULL, NULL },
    { "hasOffsets", NULL, "Z", 0x1, NULL, NULL },
    { "hasPositions", NULL, "Z", 0x1, NULL, NULL },
    { "hasPayloads", NULL, "Z", 0x1, NULL, NULL },
    { "size", NULL, "J", 0x1, NULL, NULL },
    { "getSumTotalTermFreq", NULL, "J", 0x1, NULL, NULL },
    { "getSumDocFreq", NULL, "J", 0x1, "Ljava.io.IOException;", NULL },
    { "getDocCount", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "iterator", NULL, "Lorg.apache.lucene.index.TermsEnum;", 0x1, "Ljava.io.IOException;", NULL },
    { "intersectWithOrgApacheLuceneUtilAutomatonCompiledAutomaton:withOrgApacheLuceneUtilBytesRef:", "intersect", "Lorg.apache.lucene.index.TermsEnum;", 0x1, "Ljava.io.IOException;", NULL },
    { "ramBytesUsed", NULL, "J", 0x1, NULL, NULL },
    { "getChildResources", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "fieldInfo_", NULL, 0x10, "Lorg.apache.lucene.index.FieldInfo;", NULL, NULL, .constantValue.asLong = 0 },
    { "numTerms_", NULL, 0x10, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "sumTotalTermFreq_", NULL, 0x10, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "sumDocFreq_", NULL, 0x10, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "docCount_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "longsSize_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "index_", NULL, 0x10, "Lorg.apache.lucene.util.fst.FST;", NULL, "Lorg/apache/lucene/util/fst/FST<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "numSkipInfo_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "skipInfo_", NULL, 0x10, "[J", NULL, NULL, .constantValue.asLong = 0 },
    { "statsBlock_", NULL, 0x10, "[B", NULL, NULL, .constantValue.asLong = 0 },
    { "metaLongsBlock_", NULL, 0x10, "[B", NULL, NULL, .constantValue.asLong = 0 },
    { "metaBytesBlock_", NULL, 0x10, "[B", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$BaseTermsEnum;", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$SegmentTermsEnum;", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum;"};
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader = { 2, "TermsReader", "org.apache.lucene.codecs.memory", "FSTOrdTermsReader", 0x10, 14, methods, 13, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withInt_withInt_withOrgApacheLuceneUtilFstFST_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneStoreIndexInput *blockIn, jlong numTerms, jlong sumTotalTermFreq, jlong sumDocFreq, jint docCount, jint longsSize, OrgApacheLuceneUtilFstFST *index) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexTerms_init(self);
  JreStrongAssign(&self->fieldInfo_, fieldInfo);
  self->numTerms_ = numTerms;
  self->sumTotalTermFreq_ = sumTotalTermFreq;
  self->sumDocFreq_ = sumDocFreq;
  self->docCount_ = docCount;
  self->longsSize_ = longsSize;
  JreStrongAssign(&self->index_, index);
  JreAssert(((numTerms & (~(jlong) 0xffffffffLL)) == 0), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:207 condition failed: assert (numTerms & (~0xffffffffL)) == 0;"));
  jint numBlocks = (jint) (numTerms + OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL - 1) / OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL;
  self->numSkipInfo_ = longsSize + 3;
  JreStrongAssignAndConsume(&self->skipInfo_, [IOSLongArray newArrayWithLength:numBlocks * self->numSkipInfo_]);
  JreStrongAssignAndConsume(&self->statsBlock_, [IOSByteArray newArrayWithLength:(jint) [((OrgApacheLuceneStoreIndexInput *) nil_chk(blockIn)) readVLong]]);
  JreStrongAssignAndConsume(&self->metaLongsBlock_, [IOSByteArray newArrayWithLength:(jint) [blockIn readVLong]]);
  JreStrongAssignAndConsume(&self->metaBytesBlock_, [IOSByteArray newArrayWithLength:(jint) [blockIn readVLong]]);
  jint last = 0, next = 0;
  for (jint i = 1; i < numBlocks; i++) {
    next = self->numSkipInfo_ * i;
    for (jint j = 0; j < self->numSkipInfo_; j++) {
      *IOSLongArray_GetRef(self->skipInfo_, next + j) = IOSLongArray_Get(self->skipInfo_, last + j) + [blockIn readVLong];
    }
    last = next;
  }
  [blockIn readBytesWithByteArray:self->statsBlock_ withInt:0 withInt:self->statsBlock_->size_];
  [blockIn readBytesWithByteArray:self->metaLongsBlock_ withInt:0 withInt:self->metaLongsBlock_->size_];
  [blockIn readBytesWithByteArray:self->metaBytesBlock_ withInt:0 withInt:self->metaBytesBlock_->size_];
}

OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withInt_withInt_withOrgApacheLuceneUtilFstFST_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader *outer$, OrgApacheLuceneIndexFieldInfo *fieldInfo, OrgApacheLuceneStoreIndexInput *blockIn, jlong numTerms, jlong sumTotalTermFreq, jlong sumDocFreq, jint docCount, jint longsSize, OrgApacheLuceneUtilFstFST *index) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *self = [OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader alloc];
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_withOrgApacheLuceneIndexFieldInfo_withOrgApacheLuceneStoreIndexInput_withLong_withLong_withLong_withInt_withInt_withOrgApacheLuceneUtilFstFST_(self, outer$, fieldInfo, blockIn, numTerms, sumTotalTermFreq, sumDocFreq, docCount, longsSize, index);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)outer$ {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, outer$);
  return self;
}

- (void)decodeStats {
  jint upto = (jint) ord_ % OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL;
  jint oldBlockOrd = statsBlockOrd_;
  statsBlockOrd_ = (jint) ord_ / OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL;
  if (oldBlockOrd != statsBlockOrd_) {
    OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillStats(self);
  }
  ((OrgApacheLuceneCodecsBlockTermState *) nil_chk(state_))->docFreq_ = IOSIntArray_Get(nil_chk(docFreq_), upto);
  state_->totalTermFreq_ = IOSLongArray_Get(nil_chk(totalTermFreq_), upto);
}

- (void)decodeMetaData {
  jint upto = (jint) ord_ % OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL;
  jint oldBlockOrd = metaBlockOrd_;
  metaBlockOrd_ = (jint) ord_ / OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL;
  if (metaBlockOrd_ != oldBlockOrd) {
    OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillMetadata(self);
  }
  [((OrgApacheLuceneStoreByteArrayDataInput *) nil_chk(metaBytesReader_)) setPositionWithInt:IOSIntArray_Get(nil_chk(bytesStart_), upto)];
  [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(this$0_->this$0_->postingsReader_)) decodeTermWithLongArray:IOSObjectArray_Get(nil_chk(longs_), upto) withOrgApacheLuceneStoreDataInput:metaBytesReader_ withOrgApacheLuceneIndexFieldInfo:this$0_->fieldInfo_ withOrgApacheLuceneCodecsBlockTermState:state_ withBoolean:YES];
}

- (void)refillStats {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillStats(self);
}

- (void)refillMetadata {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillMetadata(self);
}

- (OrgApacheLuceneIndexTermState *)termState {
  [self decodeMetaData];
  return [((OrgApacheLuceneCodecsBlockTermState *) nil_chk(state_)) clone];
}

- (jint)docFreq {
  return ((OrgApacheLuceneCodecsBlockTermState *) nil_chk(state_))->docFreq_;
}

- (jlong)totalTermFreq {
  return ((OrgApacheLuceneCodecsBlockTermState *) nil_chk(state_))->totalTermFreq_;
}

- (OrgApacheLuceneIndexPostingsEnum *)postingsWithOrgApacheLuceneIndexPostingsEnum:(OrgApacheLuceneIndexPostingsEnum *)reuse
                                                                           withInt:(jint)flags {
  [self decodeMetaData];
  return [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(this$0_->this$0_->postingsReader_)) postingsWithOrgApacheLuceneIndexFieldInfo:this$0_->fieldInfo_ withOrgApacheLuceneCodecsBlockTermState:state_ withOrgApacheLuceneIndexPostingsEnum:reuse withInt:flags];
}

- (void)seekExactWithLong:(jlong)ord {
  @throw [new_JavaLangUnsupportedOperationException_init() autorelease];
}

- (jlong)ord {
  @throw [new_JavaLangUnsupportedOperationException_init() autorelease];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(state_);
  RELEASE_(statsReader_);
  RELEASE_(metaLongsReader_);
  RELEASE_(metaBytesReader_);
  RELEASE_(longs_);
  RELEASE_(bytesStart_);
  RELEASE_(bytesLength_);
  RELEASE_(docFreq_);
  RELEASE_(totalTermFreq_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:", "BaseTermsEnum", NULL, 0x0, NULL, NULL },
    { "decodeStats", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "decodeMetaData", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "refillStats", NULL, "V", 0x10, "Ljava.io.IOException;", NULL },
    { "refillMetadata", NULL, "V", 0x10, "Ljava.io.IOException;", NULL },
    { "termState", NULL, "Lorg.apache.lucene.index.TermState;", 0x1, "Ljava.io.IOException;", NULL },
    { "docFreq", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "totalTermFreq", NULL, "J", 0x1, "Ljava.io.IOException;", NULL },
    { "postingsWithOrgApacheLuceneIndexPostingsEnum:withInt:", "postings", "Lorg.apache.lucene.index.PostingsEnum;", 0x1, "Ljava.io.IOException;", NULL },
    { "seekExactWithLong:", "seekExact", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "ord", NULL, "J", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "ord_", NULL, 0x0, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "state_", NULL, 0x10, "Lorg.apache.lucene.codecs.BlockTermState;", NULL, NULL, .constantValue.asLong = 0 },
    { "statsReader_", NULL, 0x10, "Lorg.apache.lucene.store.ByteArrayDataInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "metaLongsReader_", NULL, 0x10, "Lorg.apache.lucene.store.ByteArrayDataInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "metaBytesReader_", NULL, 0x10, "Lorg.apache.lucene.store.ByteArrayDataInput;", NULL, NULL, .constantValue.asLong = 0 },
    { "statsBlockOrd_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "metaBlockOrd_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "longs_", NULL, 0x0, "[[J", NULL, NULL, .constantValue.asLong = 0 },
    { "bytesStart_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "bytesLength_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "docFreq_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "totalTermFreq_", NULL, 0x0, "[J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum = { 2, "BaseTermsEnum", "org.apache.lucene.codecs.memory", "FSTOrdTermsReader$TermsReader", 0x400, 11, methods, 13, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexTermsEnum_init(self);
  JreStrongAssignAndConsume(&self->statsReader_, new_OrgApacheLuceneStoreByteArrayDataInput_init());
  JreStrongAssignAndConsume(&self->metaLongsReader_, new_OrgApacheLuceneStoreByteArrayDataInput_init());
  JreStrongAssignAndConsume(&self->metaBytesReader_, new_OrgApacheLuceneStoreByteArrayDataInput_init());
  JreStrongAssign(&self->state_, [((OrgApacheLuceneCodecsPostingsReaderBase *) nil_chk(outer$->this$0_->postingsReader_)) newTermState]);
  [self->statsReader_ resetWithByteArray:outer$->statsBlock_];
  [self->metaLongsReader_ resetWithByteArray:outer$->metaLongsBlock_];
  [self->metaBytesReader_ resetWithByteArray:outer$->metaBytesBlock_];
  JreStrongAssignAndConsume(&self->longs_, [IOSLongArray newArrayWithDimensions:2 lengths:(jint[]){ OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL, outer$->longsSize_ }]);
  JreStrongAssignAndConsume(&self->bytesStart_, [IOSIntArray newArrayWithLength:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL]);
  JreStrongAssignAndConsume(&self->bytesLength_, [IOSIntArray newArrayWithLength:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL]);
  JreStrongAssignAndConsume(&self->docFreq_, [IOSIntArray newArrayWithLength:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL]);
  JreStrongAssignAndConsume(&self->totalTermFreq_, [IOSLongArray newArrayWithLength:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL]);
  self->statsBlockOrd_ = -1;
  self->metaBlockOrd_ = -1;
  if (![outer$ hasFreqs]) {
    JavaUtilArrays_fillWithLongArray_withLong_(self->totalTermFreq_, -1);
  }
}

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillStats(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum *self) {
  jint offset = self->statsBlockOrd_ * self->this$0_->numSkipInfo_;
  jint statsFP = (jint) IOSLongArray_Get(nil_chk(self->this$0_->skipInfo_), offset);
  [((OrgApacheLuceneStoreByteArrayDataInput *) nil_chk(self->statsReader_)) setPositionWithInt:statsFP];
  for (jint i = 0; i < OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL && ![self->statsReader_ eof]; i++) {
    jint code = [self->statsReader_ readVInt];
    if ([self->this$0_ hasFreqs]) {
      *IOSIntArray_GetRef(nil_chk(self->docFreq_), i) = (JreURShift32(code, 1));
      if ((code & 1) == 1) {
        *IOSLongArray_GetRef(nil_chk(self->totalTermFreq_), i) = IOSIntArray_Get(self->docFreq_, i);
      }
      else {
        *IOSLongArray_GetRef(nil_chk(self->totalTermFreq_), i) = IOSIntArray_Get(self->docFreq_, i) + [self->statsReader_ readVLong];
      }
    }
    else {
      *IOSIntArray_GetRef(nil_chk(self->docFreq_), i) = code;
    }
  }
}

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_refillMetadata(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum *self) {
  jint offset = self->metaBlockOrd_ * self->this$0_->numSkipInfo_;
  jint metaLongsFP = (jint) IOSLongArray_Get(nil_chk(self->this$0_->skipInfo_), offset + 1);
  jint metaBytesFP = (jint) IOSLongArray_Get(self->this$0_->skipInfo_, offset + 2);
  [((OrgApacheLuceneStoreByteArrayDataInput *) nil_chk(self->metaLongsReader_)) setPositionWithInt:metaLongsFP];
  for (jint j = 0; j < self->this$0_->longsSize_; j++) {
    *IOSLongArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->longs_), 0)), j) = IOSLongArray_Get(self->this$0_->skipInfo_, offset + 3 + j) + [self->metaLongsReader_ readVLong];
  }
  *IOSIntArray_GetRef(nil_chk(self->bytesStart_), 0) = metaBytesFP;
  *IOSIntArray_GetRef(nil_chk(self->bytesLength_), 0) = (jint) [self->metaLongsReader_ readVLong];
  for (jint i = 1; i < OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_INTERVAL && ![self->metaLongsReader_ eof]; i++) {
    for (jint j = 0; j < self->this$0_->longsSize_; j++) {
      *IOSLongArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->longs_), i)), j) = IOSLongArray_Get(nil_chk(IOSObjectArray_Get(self->longs_, i - 1)), j) + [self->metaLongsReader_ readVLong];
    }
    *IOSIntArray_GetRef(self->bytesStart_, i) = IOSIntArray_Get(self->bytesStart_, i - 1) + IOSIntArray_Get(self->bytesLength_, i - 1);
    *IOSIntArray_GetRef(self->bytesLength_, i) = (jint) [self->metaLongsReader_ readVLong];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)outer$ {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, outer$);
  return self;
}

- (OrgApacheLuceneUtilBytesRef *)term {
  return term_;
}

- (void)decodeMetaData {
  if (!decoded_ && !seekPending_) {
    [super decodeMetaData];
    decoded_ = YES;
  }
}

- (void)updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:(OrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput *)pair {
  if (pair == nil) {
    JreStrongAssign(&term_, nil);
  }
  else {
    JreStrongAssign(&term_, pair->input_);
    ord_ = [((JavaLangLong *) nil_chk(pair->output_)) longLongValue];
    [self decodeStats];
  }
  decoded_ = NO;
  seekPending_ = NO;
}

- (OrgApacheLuceneUtilBytesRef *)next {
  if (seekPending_) {
    seekPending_ = NO;
    OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *status = [self seekCeilWithOrgApacheLuceneUtilBytesRef:term_];
    JreAssert((status == JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, FOUND)), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:497 condition failed: assert status == SeekStatus.FOUND;"));
  }
  [self updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:[((OrgApacheLuceneUtilFstBytesRefFSTEnum *) nil_chk(fstEnum_)) next]];
  return term_;
}

- (jboolean)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target {
  [self updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:[((OrgApacheLuceneUtilFstBytesRefFSTEnum *) nil_chk(fstEnum_)) seekExactWithOrgApacheLuceneUtilBytesRef:target]];
  return term_ != nil;
}

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target {
  [self updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:[((OrgApacheLuceneUtilFstBytesRefFSTEnum *) nil_chk(fstEnum_)) seekCeilWithOrgApacheLuceneUtilBytesRef:target]];
  if (term_ == nil) {
    return JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, END);
  }
  else {
    return [term_ isEqual:target] ? JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, FOUND) : JreLoadStatic(OrgApacheLuceneIndexTermsEnum_SeekStatusEnum, NOT_FOUND);
  }
}

- (void)seekExactWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target
               withOrgApacheLuceneIndexTermState:(OrgApacheLuceneIndexTermState *)otherState {
  if (![((OrgApacheLuceneUtilBytesRef *) nil_chk(target)) isEqual:term_]) {
    [((OrgApacheLuceneCodecsBlockTermState *) nil_chk(state_)) copyFromWithOrgApacheLuceneIndexTermState:otherState];
    JreStrongAssign(&term_, OrgApacheLuceneUtilBytesRef_deepCopyOfWithOrgApacheLuceneUtilBytesRef_(target));
    seekPending_ = YES;
  }
}

- (void)dealloc {
  RELEASE_(fstEnum_);
  RELEASE_(term_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:", "SegmentTermsEnum", NULL, 0x0, NULL, NULL },
    { "term", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, "Ljava.io.IOException;", NULL },
    { "decodeMetaData", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "updateEnumWithOrgApacheLuceneUtilFstBytesRefFSTEnum_InputOutput:", "updateEnum", "V", 0x0, "Ljava.io.IOException;", NULL },
    { "next", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, "Ljava.io.IOException;", NULL },
    { "seekExactWithOrgApacheLuceneUtilBytesRef:", "seekExact", "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "seekCeilWithOrgApacheLuceneUtilBytesRef:", "seekCeil", "Lorg.apache.lucene.index.TermsEnum$SeekStatus;", 0x1, "Ljava.io.IOException;", NULL },
    { "seekExactWithOrgApacheLuceneUtilBytesRef:withOrgApacheLuceneIndexTermState:", "seekExact", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "fstEnum_", NULL, 0x10, "Lorg.apache.lucene.util.fst.BytesRefFSTEnum;", NULL, "Lorg/apache/lucene/util/fst/BytesRefFSTEnum<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "term_", NULL, 0x0, "Lorg.apache.lucene.util.BytesRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "decoded_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "seekPending_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum = { 2, "SegmentTermsEnum", "org.apache.lucene.codecs.memory", "FSTOrdTermsReader$TermsReader", 0x12, 8, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, outer$);
  JreStrongAssignAndConsume(&self->fstEnum_, new_OrgApacheLuceneUtilFstBytesRefFSTEnum_initWithOrgApacheLuceneUtilFstFST_(outer$->index_));
  self->decoded_ = NO;
  self->seekPending_ = NO;
}

OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum *self = [OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum alloc];
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_SegmentTermsEnum)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *)outer$
                               withOrgApacheLuceneUtilAutomatonCompiledAutomaton:(OrgApacheLuceneUtilAutomatonCompiledAutomaton *)compiled
                                                 withOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)startTerm {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(self, outer$, compiled, startTerm);
  return self;
}

- (OrgApacheLuceneUtilBytesRef *)term {
  return term_ == nil ? nil : [term_ get];
}

- (void)decodeMetaData {
  if (!decoded_) {
    [super decodeMetaData];
    decoded_ = YES;
  }
}

- (void)decodeStats {
  OrgApacheLuceneUtilFstFST_Arc *arc = ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk([self topFrame]))->arc_;
  JreAssert((((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(arc))->nextFinalOutput_ == [((OrgApacheLuceneUtilFstOutputs *) nil_chk(fstOutputs_)) getNoOutput]), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:617 condition failed: assert arc.nextFinalOutput == fstOutputs.getNoOutput();"));
  ord_ = [((JavaLangLong *) nil_chk(arc->output_)) longLongValue];
  [super decodeStats];
}

- (OrgApacheLuceneIndexTermsEnum_SeekStatusEnum *)seekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target {
  @throw [new_JavaLangUnsupportedOperationException_init() autorelease];
}

- (OrgApacheLuceneUtilBytesRef *)next {
  if (pending_) {
    pending_ = NO;
    [self decodeStats];
    return [self term];
  }
  decoded_ = NO;
  while (level_ > 0) {
    {
      OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *frame = [self newFrame];
      if ([self loadExpandFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame] withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame] != nil) {
        [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
        if ([self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame]) {
          break;
        }
        continue;
      }
      frame = [self popFrame];
      while (level_ > 0) {
        if ([self loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame] withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame] != nil) {
          [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
          if ([self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame]) {
            goto break_DFS;
          }
          goto continue_DFS;
        }
        frame = [self popFrame];
      }
      return nil;
    }
    continue_DFS: ;
  }
  break_DFS: ;
  [self decodeStats];
  return [self term];
}

- (OrgApacheLuceneUtilBytesRef *)doSeekCeilWithOrgApacheLuceneUtilBytesRef:(OrgApacheLuceneUtilBytesRef *)target {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *frame = nil;
  jint label, upto = 0, limit = ((OrgApacheLuceneUtilBytesRef *) nil_chk(target))->length_;
  while (upto < limit) {
    frame = [self newFrame];
    label = IOSByteArray_Get(nil_chk(target->bytes_), upto) & (jint) 0xff;
    frame = [self loadCeilFrameWithInt:label withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame] withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
    if (frame == nil || ((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(frame->arc_))->label_ != label) {
      break;
    }
    JreAssert(([self isValidWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame]), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:674 condition failed: assert isValid(frame);"));
    [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
    upto++;
  }
  if (upto == limit) {
    return [self term];
  }
  if (frame != nil) {
    [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
    return [self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame] ? [self term] : [self next];
  }
  while (level_ > 0) {
    frame = [self popFrame];
    while (level_ > 0 && ![self canRewindWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame]) {
      frame = [self popFrame];
    }
    if ([self loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame] withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame] != nil) {
      [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
      return [self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame] ? [self term] : [self next];
    }
  }
  return nil;
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadVirtualFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  JreStrongAssign(&((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_))->output_, [((OrgApacheLuceneUtilFstOutputs *) nil_chk(fstOutputs_)) getNoOutput]);
  JreStrongAssign(&frame->arc_->nextFinalOutput_, [fstOutputs_ getNoOutput]);
  frame->state_ = -1;
  return frame;
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadFirstFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  JreStrongAssign(&((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_, [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) getFirstArcWithOrgApacheLuceneUtilFstFST_Arc:frame->arc_]);
  frame->state_ = [((OrgApacheLuceneUtilAutomatonByteRunAutomaton *) nil_chk(fsa_)) getInitialState];
  return frame;
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadExpandFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                                                                                                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  if (![self canGrowWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:top]) {
    return nil;
  }
  JreStrongAssign(&((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_, [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) readFirstRealTargetArcWithLong:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(top))->arc_))->target_ withOrgApacheLuceneUtilFstFST_Arc:frame->arc_ withOrgApacheLuceneUtilFstFST_BytesReader:fstReader_]);
  frame->state_ = [((OrgApacheLuceneUtilAutomatonByteRunAutomaton *) nil_chk(fsa_)) stepWithInt:top->state_ withInt:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(frame->arc_))->label_];
  if (frame->state_ == -1) {
    return [self loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:top withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
  }
  return frame;
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                                                                                                    withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  if (![self canRewindWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame]) {
    return nil;
  }
  while (![((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_)) isLast]) {
    JreStrongAssign(&frame->arc_, [((OrgApacheLuceneUtilFstFST *) nil_chk(fst_)) readNextRealArcWithOrgApacheLuceneUtilFstFST_Arc:frame->arc_ withOrgApacheLuceneUtilFstFST_BytesReader:fstReader_]);
    frame->state_ = [((OrgApacheLuceneUtilAutomatonByteRunAutomaton *) nil_chk(fsa_)) stepWithInt:((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(top))->state_ withInt:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(frame->arc_))->label_];
    if (frame->state_ != -1) {
      break;
    }
  }
  if (frame->state_ == -1) {
    return nil;
  }
  return frame;
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)loadCeilFrameWithInt:(jint)label
                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)top
                      withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  OrgApacheLuceneUtilFstFST_Arc *arc = ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_;
  arc = OrgApacheLuceneUtilFstUtil_readCeilArcWithInt_withOrgApacheLuceneUtilFstFST_withOrgApacheLuceneUtilFstFST_Arc_withOrgApacheLuceneUtilFstFST_Arc_withOrgApacheLuceneUtilFstFST_BytesReader_(label, fst_, ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(top))->arc_, arc, fstReader_);
  if (arc == nil) {
    return nil;
  }
  frame->state_ = [((OrgApacheLuceneUtilAutomatonByteRunAutomaton *) nil_chk(fsa_)) stepWithInt:top->state_ withInt:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(arc))->label_];
  if (frame->state_ == -1) {
    return [self loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:top withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
  }
  return frame;
}

- (jboolean)isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  return [((OrgApacheLuceneUtilAutomatonByteRunAutomaton *) nil_chk(fsa_)) isAcceptWithInt:((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->state_] && [((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(frame->arc_)) isFinal];
}

- (jboolean)isValidWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  return ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->state_ != -1;
}

- (jboolean)canGrowWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  return ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->state_ != -1 && OrgApacheLuceneUtilFstFST_targetHasArcsWithOrgApacheLuceneUtilFstFST_Arc_(frame->arc_);
}

- (jboolean)canRewindWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  return ![((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_)) isLast];
}

- (void)pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)frame {
  OrgApacheLuceneUtilFstFST_Arc *arc = ((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk(frame))->arc_;
  JreStrongAssign(&((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(arc))->output_, [((OrgApacheLuceneUtilFstOutputs *) nil_chk(fstOutputs_)) addWithId:((OrgApacheLuceneUtilFstFST_Arc *) nil_chk(((OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *) nil_chk([self topFrame]))->arc_))->output_ withId:arc->output_]);
  JreStrongAssign(&term_, [self growWithInt:arc->label_]);
  level_++;
  JreAssert((frame == IOSObjectArray_Get(nil_chk(stack_), level_)), (@"org/apache/lucene/codecs/memory/FSTOrdTermsReader.java:780 condition failed: assert frame == stack[level];"));
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)popFrame {
  JreStrongAssign(&term_, [self shrink]);
  return IOSObjectArray_Get(nil_chk(stack_), level_--);
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)newFrame {
  if (level_ + 1 == ((IOSObjectArray *) nil_chk(stack_))->size_) {
    IOSObjectArray *temp = [IOSObjectArray arrayWithLength:OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_(level_ + 2, JreLoadStatic(OrgApacheLuceneUtilRamUsageEstimator, NUM_BYTES_OBJECT_REF_)) type:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_class_()];
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(stack_, 0, temp, 0, stack_->size_);
    for (jint i = stack_->size_; i < temp->size_; i++) {
      IOSObjectArray_SetAndConsume(temp, i, new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(self));
    }
    JreStrongAssign(&stack_, temp);
  }
  return IOSObjectArray_Get(stack_, level_ + 1);
}

- (OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *)topFrame {
  return IOSObjectArray_Get(nil_chk(stack_), level_);
}

- (OrgApacheLuceneUtilBytesRefBuilder *)growWithInt:(jint)label {
  if (term_ == nil) {
    JreStrongAssignAndConsume(&term_, new_OrgApacheLuceneUtilBytesRefBuilder_init());
  }
  else {
    [term_ appendWithByte:(jbyte) label];
  }
  return term_;
}

- (OrgApacheLuceneUtilBytesRefBuilder *)shrink {
  if ([((OrgApacheLuceneUtilBytesRefBuilder *) nil_chk(term_)) length] == 0) {
    JreStrongAssign(&term_, nil);
  }
  else {
    [term_ setLengthWithInt:[term_ length] - 1];
  }
  return term_;
}

- (void)dealloc {
  RELEASE_(term_);
  RELEASE_(stack_);
  RELEASE_(fst_);
  RELEASE_(fstReader_);
  RELEASE_(fstOutputs_);
  RELEASE_(fsa_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader:withOrgApacheLuceneUtilAutomatonCompiledAutomaton:withOrgApacheLuceneUtilBytesRef:", "IntersectTermsEnum", NULL, 0x0, NULL, NULL },
    { "term", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, "Ljava.io.IOException;", NULL },
    { "decodeMetaData", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "decodeStats", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "seekCeilWithOrgApacheLuceneUtilBytesRef:", "seekCeil", "Lorg.apache.lucene.index.TermsEnum$SeekStatus;", 0x1, "Ljava.io.IOException;", NULL },
    { "next", NULL, "Lorg.apache.lucene.util.BytesRef;", 0x1, "Ljava.io.IOException;", NULL },
    { "doSeekCeilWithOrgApacheLuceneUtilBytesRef:", "doSeekCeil", "Lorg.apache.lucene.util.BytesRef;", 0x0, "Ljava.io.IOException;", NULL },
    { "loadVirtualFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "loadVirtualFrame", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, "Ljava.io.IOException;", NULL },
    { "loadFirstFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "loadFirstFrame", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, "Ljava.io.IOException;", NULL },
    { "loadExpandFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "loadExpandFrame", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, "Ljava.io.IOException;", NULL },
    { "loadNextFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "loadNextFrame", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, "Ljava.io.IOException;", NULL },
    { "loadCeilFrameWithInt:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:withOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "loadCeilFrame", "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, "Ljava.io.IOException;", NULL },
    { "isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "isAccept", "Z", 0x0, NULL, NULL },
    { "isValidWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "isValid", "Z", 0x0, NULL, NULL },
    { "canGrowWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "canGrow", "Z", 0x0, NULL, NULL },
    { "canRewindWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "canRewind", "Z", 0x0, NULL, NULL },
    { "pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:", "pushFrame", "V", 0x0, NULL, NULL },
    { "popFrame", NULL, "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, NULL, NULL },
    { "newFrame", NULL, "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, NULL, NULL },
    { "topFrame", NULL, "Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", 0x0, NULL, NULL },
    { "growWithInt:", "grow", "Lorg.apache.lucene.util.BytesRefBuilder;", 0x0, NULL, NULL },
    { "shrink", NULL, "Lorg.apache.lucene.util.BytesRefBuilder;", 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "term_", NULL, 0x0, "Lorg.apache.lucene.util.BytesRefBuilder;", NULL, NULL, .constantValue.asLong = 0 },
    { "decoded_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "pending_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "stack_", NULL, 0x0, "[Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;", NULL, NULL, .constantValue.asLong = 0 },
    { "level_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "fst_", NULL, 0x10, "Lorg.apache.lucene.util.fst.FST;", NULL, "Lorg/apache/lucene/util/fst/FST<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "fstReader_", NULL, 0x10, "Lorg.apache.lucene.util.fst.FST$BytesReader;", NULL, NULL, .constantValue.asLong = 0 },
    { "fstOutputs_", NULL, 0x10, "Lorg.apache.lucene.util.fst.Outputs;", NULL, "Lorg/apache/lucene/util/fst/Outputs<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "fsa_", NULL, 0x10, "Lorg.apache.lucene.util.automaton.ByteRunAutomaton;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.codecs.memory.FSTOrdTermsReader$TermsReader$IntersectTermsEnum$Frame;"};
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum = { 2, "IntersectTermsEnum", "org.apache.lucene.codecs.memory", "FSTOrdTermsReader$TermsReader", 0x12, 22, methods, 9, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$, OrgApacheLuceneUtilAutomatonCompiledAutomaton *compiled, OrgApacheLuceneUtilBytesRef *startTerm) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_BaseTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_(self, outer$);
  JreStrongAssign(&self->fst_, outer$->index_);
  JreStrongAssign(&self->fstReader_, [((OrgApacheLuceneUtilFstFST *) nil_chk(self->fst_)) getBytesReader]);
  JreStrongAssign(&self->fstOutputs_, ((OrgApacheLuceneUtilFstFST *) nil_chk(outer$->index_))->outputs_);
  JreStrongAssign(&self->fsa_, ((OrgApacheLuceneUtilAutomatonCompiledAutomaton *) nil_chk(compiled))->runAutomaton_);
  self->level_ = -1;
  JreStrongAssignAndConsume(&self->stack_, [IOSObjectArray newArrayWithLength:16 type:OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_class_()]);
  for (jint i = 0; i < self->stack_->size_; i++) {
    IOSObjectArray_SetAndConsume(self->stack_, i, new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(self));
  }
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *frame;
  frame = [self loadVirtualFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self newFrame]];
  self->level_++;
  frame = [self loadFirstFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self newFrame]];
  [self pushFrameWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:frame];
  self->decoded_ = NO;
  self->pending_ = NO;
  if (startTerm == nil) {
    self->pending_ = [self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame]];
  }
  else {
    [self doSeekCeilWithOrgApacheLuceneUtilBytesRef:startTerm];
    self->pending_ = ((self->term_ == nil || ![startTerm isEqual:[self->term_ get]]) && [self isValidWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame]] && [self isAcceptWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame:[self topFrame]]);
  }
}

OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader *outer$, OrgApacheLuceneUtilAutomatonCompiledAutomaton *compiled, OrgApacheLuceneUtilBytesRef *startTerm) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *self = [OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum alloc];
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_withOrgApacheLuceneUtilAutomatonCompiledAutomaton_withOrgApacheLuceneUtilBytesRef_(self, outer$, compiled, startTerm);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum)

@implementation OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame

- (instancetype)initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum:(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *)outer$ {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(self, outer$);
  return self;
}

- (NSString *)description {
  return JreStrcat("$@$I", @"arc=", arc_, @" state=", state_);
}

- (void)dealloc {
  RELEASE_(arc_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum:", "Frame", NULL, 0x0, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "arc_", NULL, 0x0, "Lorg.apache.lucene.util.fst.FST$Arc;", NULL, "Lorg/apache/lucene/util/fst/FST$Arc<Ljava/lang/Long;>;", .constantValue.asLong = 0 },
    { "state_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame = { 2, "Frame", "org.apache.lucene.codecs.memory", "FSTOrdTermsReader$TermsReader$IntersectTermsEnum", 0x12, 2, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame;
}

@end

void OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *self, OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *outer$) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->arc_, new_OrgApacheLuceneUtilFstFST_Arc_init());
  self->state_ = -1;
}

OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *new_OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum *outer$) {
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame *self = [OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame alloc];
  OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame_initWithOrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsMemoryFSTOrdTermsReader_TermsReader_IntersectTermsEnum_Frame)
