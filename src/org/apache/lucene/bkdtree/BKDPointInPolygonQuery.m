//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./sandbox/src/java/org/apache/lucene/bkdtree/BKDPointInPolygonQuery.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/Double.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/util/Arrays.h"
#include "java/util/Set.h"
#include "org/apache/lucene/bkdtree/BKDPointInPolygonQuery.h"
#include "org/apache/lucene/bkdtree/BKDTreeReader.h"
#include "org/apache/lucene/bkdtree/BKDTreeSortedNumericDocValues.h"
#include "org/apache/lucene/bkdtree/BKDTreeWriter.h"
#include "org/apache/lucene/index/LeafReader.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/index/SortedNumericDocValues.h"
#include "org/apache/lucene/search/DocIdSet.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/Explanation.h"
#include "org/apache/lucene/search/IndexSearcher.h"
#include "org/apache/lucene/search/Query.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/Weight.h"
#include "org/apache/lucene/util/GeoUtils.h"
#include "org/apache/lucene/util/ToStringUtils.h"

@interface OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 : OrgApacheLuceneSearchWeight {
 @public
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *this$0_;
  jfloat queryNorm_;
  jfloat queryWeight_;
}

- (void)extractTermsWithJavaUtilSet:(id<JavaUtilSet>)terms;

- (jfloat)getValueForNormalization;

- (void)normalizeWithFloat:(jfloat)norm
                 withFloat:(jfloat)topLevelBoost;

- (OrgApacheLuceneSearchExplanation *)explainWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                                                                               withInt:(jint)doc;

- (OrgApacheLuceneSearchScorer *)scorerWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context;

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *)outer$
                                      withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1, this$0_, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *)

__attribute__((unused)) static void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0);

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1)

@interface OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 : NSObject < OrgApacheLuceneBkdtreeBKDTreeReader_LatLonFilter > {
 @public
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *this$0_;
}

- (jboolean)acceptWithDouble:(jdouble)lat
                  withDouble:(jdouble)lon;

- (OrgApacheLuceneBkdtreeBKDTreeReader_Relation *)compareWithDouble:(jdouble)cellLatMin
                                                         withDouble:(jdouble)cellLatMax
                                                         withDouble:(jdouble)cellLonMin
                                                         withDouble:(jdouble)cellLonMax;

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1, this$0_, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)

__attribute__((unused)) static void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$);

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1)

@interface OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 : OrgApacheLuceneSearchScorer {
 @public
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *this$0_;
  OrgApacheLuceneSearchDocIdSetIterator *val$disi_;
}

- (jfloat)score;

- (jint)freq;

- (jint)docID;

- (jint)nextDoc;

- (jint)advanceWithInt:(jint)target;

- (jlong)cost;

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)outer$
                              withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)capture$0
                                        withOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2)

J2OBJC_FIELD_SETTER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2, this$0_, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2, val$disi_, OrgApacheLuceneSearchDocIdSetIterator *)

__attribute__((unused)) static void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0);

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2)

@implementation OrgApacheLuceneBkdtreeBKDPointInPolygonQuery

- (instancetype)initWithNSString:(NSString *)field
                 withDoubleArray:(IOSDoubleArray *)polyLats
                 withDoubleArray:(IOSDoubleArray *)polyLons {
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_initWithNSString_withDoubleArray_withDoubleArray_(self, field, polyLats, polyLons);
  return self;
}

- (OrgApacheLuceneSearchWeight *)createWeightWithOrgApacheLuceneSearchIndexSearcher:(OrgApacheLuceneSearchIndexSearcher *)searcher
                                                                        withBoolean:(jboolean)needsScores {
  return create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(self, self);
}

- (jboolean)isEqual:(id)o {
  if (self == o) return true;
  if (o == nil || [self getClass] != (id) [o getClass]) return false;
  if (![super isEqual:o]) return false;
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *that = (OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *) cast_chk(o, [OrgApacheLuceneBkdtreeBKDPointInPolygonQuery class]);
  if (JavaUtilArrays_equalsWithDoubleArray_withDoubleArray_(polyLons_, that->polyLons_) == false) {
    return false;
  }
  if (JavaUtilArrays_equalsWithDoubleArray_withDoubleArray_(polyLats_, that->polyLats_) == false) {
    return false;
  }
  return true;
}

- (NSUInteger)hash {
  jint result = ((jint) [super hash]);
  result = 31 * result + JavaUtilArrays_hashCodeWithDoubleArray_(polyLons_);
  result = 31 * result + JavaUtilArrays_hashCodeWithDoubleArray_(polyLats_);
  return result;
}

- (NSString *)toStringWithNSString:(NSString *)field {
  JavaLangStringBuilder *sb = create_JavaLangStringBuilder_init();
  [sb appendWithNSString:[[self getClass] getSimpleName]];
  [sb appendWithChar:':'];
  if ([((NSString *) nil_chk(self->field_)) isEqual:field] == false) {
    [sb appendWithNSString:@" field="];
    [sb appendWithNSString:self->field_];
    [sb appendWithChar:':'];
  }
  [sb appendWithNSString:@" Points: "];
  for (jint i = 0; i < ((IOSDoubleArray *) nil_chk(polyLons_))->size_; ++i) {
    [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk([sb appendWithNSString:@"["])) appendWithDouble:IOSDoubleArray_Get(polyLons_, i)])) appendWithNSString:@", "])) appendWithDouble:IOSDoubleArray_Get(nil_chk(polyLats_), i)])) appendWithNSString:@"] "];
  }
  [sb appendWithNSString:OrgApacheLuceneUtilToStringUtils_boostWithFloat_([self getBoost])];
  return [sb description];
}

- (void)dealloc {
  RELEASE_(field_);
  RELEASE_(polyLats_);
  RELEASE_(polyLons_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withDoubleArray:withDoubleArray:", "BKDPointInPolygonQuery", NULL, 0x1, NULL, NULL },
    { "createWeightWithOrgApacheLuceneSearchIndexSearcher:withBoolean:", "createWeight", "Lorg.apache.lucene.search.Weight;", 0x1, "Ljava.io.IOException;", NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "hash", "hashCode", "I", 0x11, NULL, NULL },
    { "toStringWithNSString:", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "field_", NULL, 0x10, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "minLat_", NULL, 0x10, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "maxLat_", NULL, 0x10, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "minLon_", NULL, 0x10, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "maxLon_", NULL, 0x10, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "polyLats_", NULL, 0x10, "[D", NULL, NULL, .constantValue.asLong = 0 },
    { "polyLons_", NULL, 0x10, "[D", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneBkdtreeBKDPointInPolygonQuery = { 2, "BKDPointInPolygonQuery", "org.apache.lucene.bkdtree", NULL, 0x1, 5, methods, 7, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery;
}

@end

void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_initWithNSString_withDoubleArray_withDoubleArray_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *self, NSString *field, IOSDoubleArray *polyLats, IOSDoubleArray *polyLons) {
  OrgApacheLuceneSearchQuery_init(self);
  JreStrongAssign(&self->field_, field);
  if (((IOSDoubleArray *) nil_chk(polyLats))->size_ != ((IOSDoubleArray *) nil_chk(polyLons))->size_) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"polyLats and polyLons must be equal length");
  }
  if (polyLats->size_ < 4) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"at least 4 polygon points required");
  }
  if (IOSDoubleArray_Get(polyLats, 0) != IOSDoubleArray_Get(polyLats, polyLats->size_ - 1)) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$D$I$D", @"first and last points of the polygon must be the same (it must close itself): polyLats[0]=", IOSDoubleArray_Get(polyLats, 0), @" polyLats[", (polyLats->size_ - 1), @"]=", IOSDoubleArray_Get(polyLats, polyLats->size_ - 1)));
  }
  if (IOSDoubleArray_Get(polyLons, 0) != IOSDoubleArray_Get(polyLons, polyLons->size_ - 1)) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$D$I$D", @"first and last points of the polygon must be the same (it must close itself): polyLons[0]=", IOSDoubleArray_Get(polyLons, 0), @" polyLons[", (polyLons->size_ - 1), @"]=", IOSDoubleArray_Get(polyLons, polyLons->size_ - 1)));
  }
  JreStrongAssign(&self->polyLats_, polyLats);
  JreStrongAssign(&self->polyLons_, polyLons);
  jdouble minLon = JavaLangDouble_POSITIVE_INFINITY;
  jdouble minLat = JavaLangDouble_POSITIVE_INFINITY;
  jdouble maxLon = JavaLangDouble_NEGATIVE_INFINITY;
  jdouble maxLat = JavaLangDouble_NEGATIVE_INFINITY;
  for (jint i = 0; i < polyLats->size_; i++) {
    jdouble lat = IOSDoubleArray_Get(polyLats, i);
    if (OrgApacheLuceneBkdtreeBKDTreeWriter_validLatWithDouble_(lat) == false) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$I$D$", @"polyLats[", i, @"]=", lat, @" is not a valid latitude"));
    }
    minLat = JavaLangMath_minWithDouble_withDouble_(minLat, lat);
    maxLat = JavaLangMath_maxWithDouble_withDouble_(maxLat, lat);
    jdouble lon = IOSDoubleArray_Get(polyLons, i);
    if (OrgApacheLuceneBkdtreeBKDTreeWriter_validLonWithDouble_(lon) == false) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$I$D$", @"polyLons[", i, @"]=", lat, @" is not a valid longitude"));
    }
    minLon = JavaLangMath_minWithDouble_withDouble_(minLon, lon);
    maxLon = JavaLangMath_maxWithDouble_withDouble_(maxLon, lon);
  }
  self->minLon_ = minLon;
  self->maxLon_ = maxLon;
  self->minLat_ = minLat;
  self->maxLat_ = maxLat;
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_initWithNSString_withDoubleArray_withDoubleArray_(NSString *field, IOSDoubleArray *polyLats, IOSDoubleArray *polyLons) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery, initWithNSString_withDoubleArray_withDoubleArray_, field, polyLats, polyLons)
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_initWithNSString_withDoubleArray_withDoubleArray_(NSString *field, IOSDoubleArray *polyLats, IOSDoubleArray *polyLons) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery, initWithNSString_withDoubleArray_withDoubleArray_, field, polyLats, polyLons)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery)

@implementation OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1

- (void)extractTermsWithJavaUtilSet:(id<JavaUtilSet>)terms {
}

- (jfloat)getValueForNormalization {
  queryWeight_ = [this$0_ getBoost];
  return queryWeight_ * queryWeight_;
}

- (void)normalizeWithFloat:(jfloat)norm
                 withFloat:(jfloat)topLevelBoost {
  queryNorm_ = norm * topLevelBoost;
  JreTimesAssignFloatF(&queryWeight_, queryNorm_);
}

- (OrgApacheLuceneSearchExplanation *)explainWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                                                                               withInt:(jint)doc {
  OrgApacheLuceneSearchScorer *s = [self scorerWithOrgApacheLuceneIndexLeafReaderContext:context];
  jboolean exists = s != nil && [s advanceWithInt:doc] == doc;
  if (exists) {
    return OrgApacheLuceneSearchExplanation_matchWithFloat_withNSString_withOrgApacheLuceneSearchExplanationArray_(queryWeight_, JreStrcat("$$", [this$0_ description], @", product of:"), [IOSObjectArray arrayWithObjects:(id[]){ OrgApacheLuceneSearchExplanation_matchWithFloat_withNSString_withOrgApacheLuceneSearchExplanationArray_([this$0_ getBoost], @"boost", [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchExplanation_class_()]), OrgApacheLuceneSearchExplanation_matchWithFloat_withNSString_withOrgApacheLuceneSearchExplanationArray_(queryNorm_, @"queryNorm", [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchExplanation_class_()]) } count:2 type:OrgApacheLuceneSearchExplanation_class_()]);
  }
  else {
    return OrgApacheLuceneSearchExplanation_noMatchWithNSString_withOrgApacheLuceneSearchExplanationArray_(JreStrcat("$$I", [this$0_ description], @" doesn't match id ", doc), [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchExplanation_class_()]);
  }
}

- (OrgApacheLuceneSearchScorer *)scorerWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  OrgApacheLuceneIndexLeafReader *reader = [((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context)) reader];
  OrgApacheLuceneIndexSortedNumericDocValues *sdv = [((OrgApacheLuceneIndexLeafReader *) nil_chk(reader)) getSortedNumericDocValuesWithNSString:this$0_->field_];
  if (sdv == nil) {
    return nil;
  }
  if ([sdv isKindOfClass:[OrgApacheLuceneBkdtreeBKDTreeSortedNumericDocValues class]] == false) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$$@", @"field \"", this$0_->field_, @"\" was not indexed with BKDTreeDocValuesFormat: got: ", sdv));
  }
  OrgApacheLuceneBkdtreeBKDTreeSortedNumericDocValues *treeDV = (OrgApacheLuceneBkdtreeBKDTreeSortedNumericDocValues *) cast_chk(sdv, [OrgApacheLuceneBkdtreeBKDTreeSortedNumericDocValues class]);
  OrgApacheLuceneBkdtreeBKDTreeReader *tree = [treeDV getBKDTreeReader];
  OrgApacheLuceneSearchDocIdSet *result = [((OrgApacheLuceneBkdtreeBKDTreeReader *) nil_chk(tree)) intersectWithDouble:this$0_->minLat_ withDouble:this$0_->maxLat_ withDouble:this$0_->minLon_ withDouble:this$0_->maxLon_ withOrgApacheLuceneBkdtreeBKDTreeReader_LatLonFilter:create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(self) withOrgApacheLuceneIndexSortedNumericDocValues:treeDV->delegate_];
  OrgApacheLuceneSearchDocIdSetIterator *disi = [((OrgApacheLuceneSearchDocIdSet *) nil_chk(result)) iterator];
  return create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(self, disi, self);
}

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *)outer$
                                      withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)arg$0 {
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(self, outer$, arg$0);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "extractTermsWithJavaUtilSet:", "extractTerms", "V", 0x1, NULL, "(Ljava/util/Set<Lorg/apache/lucene/index/Term;>;)V" },
    { "getValueForNormalization", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
    { "normalizeWithFloat:withFloat:", "normalize", "V", 0x1, NULL, NULL },
    { "explainWithOrgApacheLuceneIndexLeafReaderContext:withInt:", "explain", "Lorg.apache.lucene.search.Explanation;", 0x1, "Ljava.io.IOException;", NULL },
    { "scorerWithOrgApacheLuceneIndexLeafReaderContext:", "scorer", "Lorg.apache.lucene.search.Scorer;", 0x1, "Ljava.io.IOException;", NULL },
    { "initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery:withOrgApacheLuceneSearchQuery:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.bkdtree.BKDPointInPolygonQuery;", NULL, NULL, .constantValue.asLong = 0 },
    { "queryNorm_", NULL, 0x2, "F", NULL, NULL, .constantValue.asLong = 0 },
    { "queryWeight_", NULL, 0x2, "F", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneBkdtreeBKDPointInPolygonQuery", "createWeightWithOrgApacheLuceneSearchIndexSearcher:withBoolean:" };
  static const J2ObjcClassInfo _OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 = { 2, "", "org.apache.lucene.bkdtree", "BKDPointInPolygonQuery", 0x8008, 6, methods, 3, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1;
}

@end

void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneSearchWeight_initWithOrgApacheLuceneSearchQuery_(self, arg$0);
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_, outer$, arg$0)
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery *outer$, OrgApacheLuceneSearchQuery *arg$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_withOrgApacheLuceneSearchQuery_, outer$, arg$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1)

@implementation OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1

- (jboolean)acceptWithDouble:(jdouble)lat
                  withDouble:(jdouble)lon {
  return OrgApacheLuceneUtilGeoUtils_pointInPolygonWithDoubleArray_withDoubleArray_withDouble_withDouble_(this$0_->this$0_->polyLons_, this$0_->this$0_->polyLats_, lat, lon);
}

- (OrgApacheLuceneBkdtreeBKDTreeReader_Relation *)compareWithDouble:(jdouble)cellLatMin
                                                         withDouble:(jdouble)cellLatMax
                                                         withDouble:(jdouble)cellLonMin
                                                         withDouble:(jdouble)cellLonMax {
  if (OrgApacheLuceneUtilGeoUtils_rectWithinPolyWithDouble_withDouble_withDouble_withDouble_withDoubleArray_withDoubleArray_withDouble_withDouble_withDouble_withDouble_(cellLonMin, cellLatMin, cellLonMax, cellLatMax, this$0_->this$0_->polyLons_, this$0_->this$0_->polyLats_, this$0_->this$0_->minLon_, this$0_->this$0_->minLat_, this$0_->this$0_->maxLon_, this$0_->this$0_->maxLat_)) {
    return JreLoadEnum(OrgApacheLuceneBkdtreeBKDTreeReader_Relation, INSIDE);
  }
  else if (OrgApacheLuceneUtilGeoUtils_rectCrossesPolyWithDouble_withDouble_withDouble_withDouble_withDoubleArray_withDoubleArray_withDouble_withDouble_withDouble_withDouble_(cellLonMin, cellLatMin, cellLonMax, cellLatMax, this$0_->this$0_->polyLons_, this$0_->this$0_->polyLats_, this$0_->this$0_->minLon_, this$0_->this$0_->minLat_, this$0_->this$0_->maxLon_, this$0_->this$0_->maxLat_)) {
    return JreLoadEnum(OrgApacheLuceneBkdtreeBKDTreeReader_Relation, CROSSES);
  }
  else {
    return JreLoadEnum(OrgApacheLuceneBkdtreeBKDTreeReader_Relation, OUTSIDE);
  }
}

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)outer$ {
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(self, outer$);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "acceptWithDouble:withDouble:", "accept", "Z", 0x1, NULL, NULL },
    { "compareWithDouble:withDouble:withDouble:withDouble:", "compare", "Lorg.apache.lucene.bkdtree.BKDTreeReader$Relation;", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.bkdtree.BKDPointInPolygonQuery$1;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1", "scorerWithOrgApacheLuceneIndexLeafReaderContext:" };
  static const J2ObjcClassInfo _OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 = { 2, "", "org.apache.lucene.bkdtree", "BKDPointInPolygonQuery$", 0x8008, 3, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1;
}

@end

void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_, outer$)
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$1)

@implementation OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2

- (jfloat)score {
  return this$0_->queryWeight_;
}

- (jint)freq {
  return 1;
}

- (jint)docID {
  return [((OrgApacheLuceneSearchDocIdSetIterator *) nil_chk(val$disi_)) docID];
}

- (jint)nextDoc {
  return [((OrgApacheLuceneSearchDocIdSetIterator *) nil_chk(val$disi_)) nextDoc];
}

- (jint)advanceWithInt:(jint)target {
  return [((OrgApacheLuceneSearchDocIdSetIterator *) nil_chk(val$disi_)) advanceWithInt:target];
}

- (jlong)cost {
  return [((OrgApacheLuceneSearchDocIdSetIterator *) nil_chk(val$disi_)) cost];
}

- (instancetype)initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *)outer$
                              withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)capture$0
                                        withOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)arg$0 {
  OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(self, outer$, capture$0, arg$0);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$disi_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
    { "freq", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "docID", NULL, "I", 0x1, NULL, NULL },
    { "nextDoc", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "advanceWithInt:", "advance", "I", 0x1, "Ljava.io.IOException;", NULL },
    { "cost", NULL, "J", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1:withOrgApacheLuceneSearchDocIdSetIterator:withOrgApacheLuceneSearchWeight:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.bkdtree.BKDPointInPolygonQuery$1;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$disi_", NULL, 0x1012, "Lorg.apache.lucene.search.DocIdSetIterator;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1", "scorerWithOrgApacheLuceneIndexLeafReaderContext:" };
  static const J2ObjcClassInfo _OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 = { 2, "", "org.apache.lucene.bkdtree", "BKDPointInPolygonQuery$", 0x8008, 7, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2;
}

@end

void OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *self, OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$disi_, capture$0);
  OrgApacheLuceneSearchScorer_initWithOrgApacheLuceneSearchWeight_(self, arg$0);
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *new_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_, outer$, capture$0, arg$0)
}

OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2 *create_OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2_initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1 *outer$, OrgApacheLuceneSearchDocIdSetIterator *capture$0, OrgApacheLuceneSearchWeight *arg$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2, initWithOrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_withOrgApacheLuceneSearchDocIdSetIterator_withOrgApacheLuceneSearchWeight_, outer$, capture$0, arg$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneBkdtreeBKDPointInPolygonQuery_$1_$2)
